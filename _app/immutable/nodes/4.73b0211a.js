import{n as Ue,s as lt,k as ht,l as Ft,r as rr,e as He,o as $t,m as Pt,p as bn}from"../chunks/scheduler.c7c6d1ea.js";import{S as ut,i as ft,g as Q,s as me,m as Re,h as Z,j as oe,c as be,y as Me,f as J,n as Te,k as K,a as Ee,x as z,z as Be,A as ke,o as dt,B as wn,r as et,u as tt,v as rt,d as Pe,t as je,w as nt,C as nr,D as pt,p as Nt,b as xt,e as dr,E as Yt}from"../chunks/index.eab26d42.js";import{p as Nr}from"../chunks/stores.e72cd1b6.js";import{T as xr,e as Qe,u as vn,o as _n,i as En}from"../chunks/TitleBar.5064f7e6.js";import{c as Ye,a as It}from"../chunks/store.d78c978e.js";const Sn=typeof window<"u";let An=Sn?e=>requestAnimationFrame(e):Ue;const kn=(e,t)=>t.some(r=>e instanceof r);let pr,yr;function In(){return pr||(pr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function On(){return yr||(yr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dr=new WeakMap,Jt=new WeakMap,Fr=new WeakMap,qt=new WeakMap,ir=new WeakMap;function Bn(e){const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",l)},a=()=>{r(Je(e.result)),s()},l=()=>{n(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",l)});return t.then(r=>{r instanceof IDBCursor&&Dr.set(r,e)}).catch(()=>{}),ir.set(t,e),t}function Rn(e){if(Jt.has(e))return;const t=new Promise((r,n)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",l),e.removeEventListener("abort",l)},a=()=>{r(),s()},l=()=>{n(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",l),e.addEventListener("abort",l)});Jt.set(e,t)}let Xt={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Jt.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Fr.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Je(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Tn(e){Xt=e(Xt)}function Ln(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Vt(this),t,...r);return Fr.set(n,t.sort?t.sort():[t]),Je(n)}:On().includes(e)?function(...t){return e.apply(Vt(this),t),Je(Dr.get(this))}:function(...t){return Je(e.apply(Vt(this),t))}}function Pn(e){return typeof e=="function"?Ln(e):(e instanceof IDBTransaction&&Rn(e),kn(e,In())?new Proxy(e,Xt):e)}function Je(e){if(e instanceof IDBRequest)return Bn(e);if(qt.has(e))return qt.get(e);const t=Pn(e);return t!==e&&(qt.set(e,t),ir.set(t,e)),t}const Vt=e=>ir.get(e);function Cn(e,t,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const l=indexedDB.open(e,t),o=Je(l);return n&&l.addEventListener("upgradeneeded",f=>{n(Je(l.result),f.oldVersion,f.newVersion,Je(l.transaction),f)}),r&&l.addEventListener("blocked",f=>r(f.oldVersion,f.newVersion,f)),o.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const jn=["get","getKey","getAll","getAllKeys","count"],Mn=["put","add","delete","clear"],zt=new Map;function gr(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(zt.get(t))return zt.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,s=Mn.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||jn.includes(r)))return;const a=async function(l,...o){const f=this.transaction(l,s?"readwrite":"readonly");let d=f.store;return n&&(d=d.index(o.shift())),(await Promise.all([d[r](...o),s&&f.done]))[0]};return zt.set(t,a),a}Tn(e=>({...e,get:(t,r,n)=>gr(t,r)||e.get(t,r,n),has:(t,r)=>!!gr(t,r)||e.has(t,r)}));var Un=Object.create,or=Object.defineProperty,Nn=Object.getOwnPropertyDescriptor,xn=Object.getOwnPropertyNames,Dn=Object.getPrototypeOf,Fn=Object.prototype.hasOwnProperty,$n=e=>or(e,"__esModule",{value:!0}),Wn=(e,t)=>()=>(e&&(t=e(e=0)),t),ae=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qn=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of xn(t))!Fn.call(e,s)&&(r||s!=="default")&&or(e,s,{get:()=>t[s],enumerable:!(n=Nn(t,s))||n.enumerable});return e},$e=(e,t)=>qn($n(or(e!=null?Un(Dn(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Vn=ae(e=>{te(),e.byteLength=f,e.toByteArray=y,e.fromByteArray=E;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=0,l=s.length;a<l;++a)t[a]=s[a],r[s.charCodeAt(a)]=a;var a,l;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function o(c){var p=c.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=c.indexOf("=");m===-1&&(m=p);var A=m===p?0:4-m%4;return[m,A]}function f(c){var p=o(c),m=p[0],A=p[1];return(m+A)*3/4-A}function d(c,p,m){return(p+m)*3/4-m}function y(c){var p,m=o(c),A=m[0],b=m[1],k=new n(d(c,A,b)),B=0,M=b>0?A-4:A,S;for(S=0;S<M;S+=4)p=r[c.charCodeAt(S)]<<18|r[c.charCodeAt(S+1)]<<12|r[c.charCodeAt(S+2)]<<6|r[c.charCodeAt(S+3)],k[B++]=p>>16&255,k[B++]=p>>8&255,k[B++]=p&255;return b===2&&(p=r[c.charCodeAt(S)]<<2|r[c.charCodeAt(S+1)]>>4,k[B++]=p&255),b===1&&(p=r[c.charCodeAt(S)]<<10|r[c.charCodeAt(S+1)]<<4|r[c.charCodeAt(S+2)]>>2,k[B++]=p>>8&255,k[B++]=p&255),k}function g(c){return t[c>>18&63]+t[c>>12&63]+t[c>>6&63]+t[c&63]}function _(c,p,m){for(var A,b=[],k=p;k<m;k+=3)A=(c[k]<<16&16711680)+(c[k+1]<<8&65280)+(c[k+2]&255),b.push(g(A));return b.join("")}function E(c){for(var p,m=c.length,A=m%3,b=[],k=16383,B=0,M=m-A;B<M;B+=k)b.push(_(c,B,B+k>M?M:B+k));return A===1?(p=c[m-1],b.push(t[p>>2]+t[p<<4&63]+"==")):A===2&&(p=(c[m-2]<<8)+c[m-1],b.push(t[p>>10]+t[p>>4&63]+t[p<<2&63]+"=")),b.join("")}}),zn=ae(e=>{te(),e.read=function(t,r,n,s,a){var l,o,f=a*8-s-1,d=(1<<f)-1,y=d>>1,g=-7,_=n?a-1:0,E=n?-1:1,c=t[r+_];for(_+=E,l=c&(1<<-g)-1,c>>=-g,g+=f;g>0;l=l*256+t[r+_],_+=E,g-=8);for(o=l&(1<<-g)-1,l>>=-g,g+=s;g>0;o=o*256+t[r+_],_+=E,g-=8);if(l===0)l=1-y;else{if(l===d)return o?NaN:(c?-1:1)*(1/0);o=o+Math.pow(2,s),l=l-y}return(c?-1:1)*o*Math.pow(2,l-s)},e.write=function(t,r,n,s,a,l){var o,f,d,y=l*8-a-1,g=(1<<y)-1,_=g>>1,E=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=s?0:l-1,p=s?1:-1,m=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(f=isNaN(r)?1:0,o=g):(o=Math.floor(Math.log(r)/Math.LN2),r*(d=Math.pow(2,-o))<1&&(o--,d*=2),o+_>=1?r+=E/d:r+=E*Math.pow(2,1-_),r*d>=2&&(o++,d/=2),o+_>=g?(f=0,o=g):o+_>=1?(f=(r*d-1)*Math.pow(2,a),o=o+_):(f=r*Math.pow(2,_-1)*Math.pow(2,a),o=0));a>=8;t[n+c]=f&255,c+=p,f/=256,a-=8);for(o=o<<a|f,y+=a;y>0;t[n+c]=o&255,c+=p,o/=256,y-=8);t[n+c-p]|=m*128}}),Rt=ae(e=>{te();var t=Vn(),r=zn(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;var s=2147483647;e.kMaxLength=s,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{let i=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(i,u),i.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function l(i){if(i>s)throw new RangeError('The value "'+i+'" is invalid for option "size"');let u=new Uint8Array(i);return Object.setPrototypeOf(u,o.prototype),u}function o(i,u,h){if(typeof i=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(i)}return f(i,u,h)}o.poolSize=8192;function f(i,u,h){if(typeof i=="string")return _(i,u);if(ArrayBuffer.isView(i))return c(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(Ne(i,ArrayBuffer)||i&&Ne(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ne(i,SharedArrayBuffer)||i&&Ne(i.buffer,SharedArrayBuffer)))return p(i,u,h);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let I=i.valueOf&&i.valueOf();if(I!=null&&I!==i)return o.from(I,u,h);let C=m(i);if(C)return C;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return o.from(i[Symbol.toPrimitive]("string"),u,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}o.from=function(i,u,h){return f(i,u,h)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function d(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function y(i,u,h){return d(i),i<=0?l(i):u!==void 0?typeof h=="string"?l(i).fill(u,h):l(i).fill(u):l(i)}o.alloc=function(i,u,h){return y(i,u,h)};function g(i){return d(i),l(i<0?0:A(i)|0)}o.allocUnsafe=function(i){return g(i)},o.allocUnsafeSlow=function(i){return g(i)};function _(i,u){if((typeof u!="string"||u==="")&&(u="utf8"),!o.isEncoding(u))throw new TypeError("Unknown encoding: "+u);let h=k(i,u)|0,I=l(h),C=I.write(i,u);return C!==h&&(I=I.slice(0,C)),I}function E(i){let u=i.length<0?0:A(i.length)|0,h=l(u);for(let I=0;I<u;I+=1)h[I]=i[I]&255;return h}function c(i){if(Ne(i,Uint8Array)){let u=new Uint8Array(i);return p(u.buffer,u.byteOffset,u.byteLength)}return E(i)}function p(i,u,h){if(u<0||i.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<u+(h||0))throw new RangeError('"length" is outside of buffer bounds');let I;return u===void 0&&h===void 0?I=new Uint8Array(i):h===void 0?I=new Uint8Array(i,u):I=new Uint8Array(i,u,h),Object.setPrototypeOf(I,o.prototype),I}function m(i){if(o.isBuffer(i)){let u=A(i.length)|0,h=l(u);return h.length===0||i.copy(h,0,0,u),h}if(i.length!==void 0)return typeof i.length!="number"||bt(i.length)?l(0):E(i);if(i.type==="Buffer"&&Array.isArray(i.data))return E(i.data)}function A(i){if(i>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return i|0}function b(i){return+i!=i&&(i=0),o.alloc(+i)}o.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==o.prototype},o.compare=function(i,u){if(Ne(i,Uint8Array)&&(i=o.from(i,i.offset,i.byteLength)),Ne(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),!o.isBuffer(i)||!o.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===u)return 0;let h=i.length,I=u.length;for(let C=0,F=Math.min(h,I);C<F;++C)if(i[C]!==u[C]){h=i[C],I=u[C];break}return h<I?-1:I<h?1:0},o.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(i,u){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return o.alloc(0);let h;if(u===void 0)for(u=0,h=0;h<i.length;++h)u+=i[h].length;let I=o.allocUnsafe(u),C=0;for(h=0;h<i.length;++h){let F=i[h];if(Ne(F,Uint8Array))C+F.length>I.length?(o.isBuffer(F)||(F=o.from(F)),F.copy(I,C)):Uint8Array.prototype.set.call(I,F,C);else if(o.isBuffer(F))F.copy(I,C);else throw new TypeError('"list" argument must be an Array of Buffers');C+=F.length}return I};function k(i,u){if(o.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||Ne(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);let h=i.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&h===0)return 0;let C=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return pe(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return xe(i).length;default:if(C)return I?-1:pe(i).length;u=(""+u).toLowerCase(),C=!0}}o.byteLength=k;function B(i,u,h){let I=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,u>>>=0,h<=u))return"";for(i||(i="utf8");;)switch(i){case"hex":return ue(this,u,h);case"utf8":case"utf-8":return X(this,u,h);case"ascii":return ye(this,u,h);case"latin1":case"binary":return Se(this,u,h);case"base64":return Y(this,u,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return we(this,u,h);default:if(I)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),I=!0}}o.prototype._isBuffer=!0;function M(i,u,h){let I=i[u];i[u]=i[h],i[h]=I}o.prototype.swap16=function(){let i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let u=0;u<i;u+=2)M(this,u,u+1);return this},o.prototype.swap32=function(){let i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let u=0;u<i;u+=4)M(this,u,u+3),M(this,u+1,u+2);return this},o.prototype.swap64=function(){let i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let u=0;u<i;u+=8)M(this,u,u+7),M(this,u+1,u+6),M(this,u+2,u+5),M(this,u+3,u+4);return this},o.prototype.toString=function(){let i=this.length;return i===0?"":arguments.length===0?X(this,0,i):B.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(i){if(!o.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:o.compare(this,i)===0},o.prototype.inspect=function(){let i="",u=e.INSPECT_MAX_BYTES;return i=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(i+=" ... "),"<Buffer "+i+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(i,u,h,I,C){if(Ne(i,Uint8Array)&&(i=o.from(i,i.offset,i.byteLength)),!o.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(u===void 0&&(u=0),h===void 0&&(h=i?i.length:0),I===void 0&&(I=0),C===void 0&&(C=this.length),u<0||h>i.length||I<0||C>this.length)throw new RangeError("out of range index");if(I>=C&&u>=h)return 0;if(I>=C)return-1;if(u>=h)return 1;if(u>>>=0,h>>>=0,I>>>=0,C>>>=0,this===i)return 0;let F=C-I,G=h-u,ve=Math.min(F,G),Le=this.slice(I,C),Ae=i.slice(u,h);for(let _e=0;_e<ve;++_e)if(Le[_e]!==Ae[_e]){F=Le[_e],G=Ae[_e];break}return F<G?-1:G<F?1:0};function S(i,u,h,I,C){if(i.length===0)return-1;if(typeof h=="string"?(I=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,bt(h)&&(h=C?0:i.length-1),h<0&&(h=i.length+h),h>=i.length){if(C)return-1;h=i.length-1}else if(h<0)if(C)h=0;else return-1;if(typeof u=="string"&&(u=o.from(u,I)),o.isBuffer(u))return u.length===0?-1:L(i,u,h,I,C);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?C?Uint8Array.prototype.indexOf.call(i,u,h):Uint8Array.prototype.lastIndexOf.call(i,u,h):L(i,[u],h,I,C);throw new TypeError("val must be string, number or Buffer")}function L(i,u,h,I,C){let F=1,G=i.length,ve=u.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(i.length<2||u.length<2)return-1;F=2,G/=2,ve/=2,h/=2}function Le(_e,Ie){return F===1?_e[Ie]:_e.readUInt16BE(Ie*F)}let Ae;if(C){let _e=-1;for(Ae=h;Ae<G;Ae++)if(Le(i,Ae)===Le(u,_e===-1?0:Ae-_e)){if(_e===-1&&(_e=Ae),Ae-_e+1===ve)return _e*F}else _e!==-1&&(Ae-=Ae-_e),_e=-1}else for(h+ve>G&&(h=G-ve),Ae=h;Ae>=0;Ae--){let _e=!0;for(let Ie=0;Ie<ve;Ie++)if(Le(i,Ae+Ie)!==Le(u,Ie)){_e=!1;break}if(_e)return Ae}return-1}o.prototype.includes=function(i,u,h){return this.indexOf(i,u,h)!==-1},o.prototype.indexOf=function(i,u,h){return S(this,i,u,h,!0)},o.prototype.lastIndexOf=function(i,u,h){return S(this,i,u,h,!1)};function R(i,u,h,I){h=Number(h)||0;let C=i.length-h;I?(I=Number(I),I>C&&(I=C)):I=C;let F=u.length;I>F/2&&(I=F/2);let G;for(G=0;G<I;++G){let ve=parseInt(u.substr(G*2,2),16);if(bt(ve))return G;i[h+G]=ve}return G}function x(i,u,h,I){return Ke(pe(u,i.length-h),i,h,I)}function W(i,u,h,I){return Ke(ce(u),i,h,I)}function j(i,u,h,I){return Ke(xe(u),i,h,I)}function $(i,u,h,I){return Ke(U(u,i.length-h),i,h,I)}o.prototype.write=function(i,u,h,I){if(u===void 0)I="utf8",h=this.length,u=0;else if(h===void 0&&typeof u=="string")I=u,h=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(h)?(h=h>>>0,I===void 0&&(I="utf8")):(I=h,h=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let C=this.length-u;if((h===void 0||h>C)&&(h=C),i.length>0&&(h<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");let F=!1;for(;;)switch(I){case"hex":return R(this,i,u,h);case"utf8":case"utf-8":return x(this,i,u,h);case"ascii":case"latin1":case"binary":return W(this,i,u,h);case"base64":return j(this,i,u,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,i,u,h);default:if(F)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),F=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(i,u,h){return u===0&&h===i.length?t.fromByteArray(i):t.fromByteArray(i.slice(u,h))}function X(i,u,h){h=Math.min(i.length,h);let I=[],C=u;for(;C<h;){let F=i[C],G=null,ve=F>239?4:F>223?3:F>191?2:1;if(C+ve<=h){let Le,Ae,_e,Ie;switch(ve){case 1:F<128&&(G=F);break;case 2:Le=i[C+1],(Le&192)===128&&(Ie=(F&31)<<6|Le&63,Ie>127&&(G=Ie));break;case 3:Le=i[C+1],Ae=i[C+2],(Le&192)===128&&(Ae&192)===128&&(Ie=(F&15)<<12|(Le&63)<<6|Ae&63,Ie>2047&&(Ie<55296||Ie>57343)&&(G=Ie));break;case 4:Le=i[C+1],Ae=i[C+2],_e=i[C+3],(Le&192)===128&&(Ae&192)===128&&(_e&192)===128&&(Ie=(F&15)<<18|(Le&63)<<12|(Ae&63)<<6|_e&63,Ie>65535&&Ie<1114112&&(G=Ie))}}G===null?(G=65533,ve=1):G>65535&&(G-=65536,I.push(G>>>10&1023|55296),G=56320|G&1023),I.push(G),C+=ve}return de(I)}var ne=4096;function de(i){let u=i.length;if(u<=ne)return String.fromCharCode.apply(String,i);let h="",I=0;for(;I<u;)h+=String.fromCharCode.apply(String,i.slice(I,I+=ne));return h}function ye(i,u,h){let I="";h=Math.min(i.length,h);for(let C=u;C<h;++C)I+=String.fromCharCode(i[C]&127);return I}function Se(i,u,h){let I="";h=Math.min(i.length,h);for(let C=u;C<h;++C)I+=String.fromCharCode(i[C]);return I}function ue(i,u,h){let I=i.length;(!u||u<0)&&(u=0),(!h||h<0||h>I)&&(h=I);let C="";for(let F=u;F<h;++F)C+=Lt[i[F]];return C}function we(i,u,h){let I=i.slice(u,h),C="";for(let F=0;F<I.length-1;F+=2)C+=String.fromCharCode(I[F]+I[F+1]*256);return C}o.prototype.slice=function(i,u){let h=this.length;i=~~i,u=u===void 0?h:~~u,i<0?(i+=h,i<0&&(i=0)):i>h&&(i=h),u<0?(u+=h,u<0&&(u=0)):u>h&&(u=h),u<i&&(u=i);let I=this.subarray(i,u);return Object.setPrototypeOf(I,o.prototype),I};function fe(i,u,h){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+u>h)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(i,u,h){i=i>>>0,u=u>>>0,h||fe(i,u,this.length);let I=this[i],C=1,F=0;for(;++F<u&&(C*=256);)I+=this[i+F]*C;return I},o.prototype.readUintBE=o.prototype.readUIntBE=function(i,u,h){i=i>>>0,u=u>>>0,h||fe(i,u,this.length);let I=this[i+--u],C=1;for(;u>0&&(C*=256);)I+=this[i+--u]*C;return I},o.prototype.readUint8=o.prototype.readUInt8=function(i,u){return i=i>>>0,u||fe(i,1,this.length),this[i]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(i,u){return i=i>>>0,u||fe(i,2,this.length),this[i]|this[i+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(i,u){return i=i>>>0,u||fe(i,2,this.length),this[i]<<8|this[i+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(i,u){return i=i>>>0,u||fe(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(i,u){return i=i>>>0,u||fe(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},o.prototype.readBigUInt64LE=De(function(i){i=i>>>0,w(i,"offset");let u=this[i],h=this[i+7];(u===void 0||h===void 0)&&v(i,this.length-8);let I=u+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,C=this[++i]+this[++i]*2**8+this[++i]*2**16+h*2**24;return BigInt(I)+(BigInt(C)<<BigInt(32))}),o.prototype.readBigUInt64BE=De(function(i){i=i>>>0,w(i,"offset");let u=this[i],h=this[i+7];(u===void 0||h===void 0)&&v(i,this.length-8);let I=u*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],C=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+h;return(BigInt(I)<<BigInt(32))+BigInt(C)}),o.prototype.readIntLE=function(i,u,h){i=i>>>0,u=u>>>0,h||fe(i,u,this.length);let I=this[i],C=1,F=0;for(;++F<u&&(C*=256);)I+=this[i+F]*C;return C*=128,I>=C&&(I-=Math.pow(2,8*u)),I},o.prototype.readIntBE=function(i,u,h){i=i>>>0,u=u>>>0,h||fe(i,u,this.length);let I=u,C=1,F=this[i+--I];for(;I>0&&(C*=256);)F+=this[i+--I]*C;return C*=128,F>=C&&(F-=Math.pow(2,8*u)),F},o.prototype.readInt8=function(i,u){return i=i>>>0,u||fe(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},o.prototype.readInt16LE=function(i,u){i=i>>>0,u||fe(i,2,this.length);let h=this[i]|this[i+1]<<8;return h&32768?h|4294901760:h},o.prototype.readInt16BE=function(i,u){i=i>>>0,u||fe(i,2,this.length);let h=this[i+1]|this[i]<<8;return h&32768?h|4294901760:h},o.prototype.readInt32LE=function(i,u){return i=i>>>0,u||fe(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},o.prototype.readInt32BE=function(i,u){return i=i>>>0,u||fe(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},o.prototype.readBigInt64LE=De(function(i){i=i>>>0,w(i,"offset");let u=this[i],h=this[i+7];(u===void 0||h===void 0)&&v(i,this.length-8);let I=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(h<<24);return(BigInt(I)<<BigInt(32))+BigInt(u+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),o.prototype.readBigInt64BE=De(function(i){i=i>>>0,w(i,"offset");let u=this[i],h=this[i+7];(u===void 0||h===void 0)&&v(i,this.length-8);let I=(u<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(I)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+h)}),o.prototype.readFloatLE=function(i,u){return i=i>>>0,u||fe(i,4,this.length),r.read(this,i,!0,23,4)},o.prototype.readFloatBE=function(i,u){return i=i>>>0,u||fe(i,4,this.length),r.read(this,i,!1,23,4)},o.prototype.readDoubleLE=function(i,u){return i=i>>>0,u||fe(i,8,this.length),r.read(this,i,!0,52,8)},o.prototype.readDoubleBE=function(i,u){return i=i>>>0,u||fe(i,8,this.length),r.read(this,i,!1,52,8)};function T(i,u,h,I,C,F){if(!o.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>C||u<F)throw new RangeError('"value" argument is out of bounds');if(h+I>i.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(i,u,h,I){if(i=+i,u=u>>>0,h=h>>>0,!I){let G=Math.pow(2,8*h)-1;T(this,i,u,h,G,0)}let C=1,F=0;for(this[u]=i&255;++F<h&&(C*=256);)this[u+F]=i/C&255;return u+h},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(i,u,h,I){if(i=+i,u=u>>>0,h=h>>>0,!I){let G=Math.pow(2,8*h)-1;T(this,i,u,h,G,0)}let C=h-1,F=1;for(this[u+C]=i&255;--C>=0&&(F*=256);)this[u+C]=i/F&255;return u+h},o.prototype.writeUint8=o.prototype.writeUInt8=function(i,u,h){return i=+i,u=u>>>0,h||T(this,i,u,1,255,0),this[u]=i&255,u+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(i,u,h){return i=+i,u=u>>>0,h||T(this,i,u,2,65535,0),this[u]=i&255,this[u+1]=i>>>8,u+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(i,u,h){return i=+i,u=u>>>0,h||T(this,i,u,2,65535,0),this[u]=i>>>8,this[u+1]=i&255,u+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(i,u,h){return i=+i,u=u>>>0,h||T(this,i,u,4,4294967295,0),this[u+3]=i>>>24,this[u+2]=i>>>16,this[u+1]=i>>>8,this[u]=i&255,u+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(i,u,h){return i=+i,u=u>>>0,h||T(this,i,u,4,4294967295,0),this[u]=i>>>24,this[u+1]=i>>>16,this[u+2]=i>>>8,this[u+3]=i&255,u+4};function N(i,u,h,I,C){se(u,I,C,i,h,7);let F=Number(u&BigInt(4294967295));i[h++]=F,F=F>>8,i[h++]=F,F=F>>8,i[h++]=F,F=F>>8,i[h++]=F;let G=Number(u>>BigInt(32)&BigInt(4294967295));return i[h++]=G,G=G>>8,i[h++]=G,G=G>>8,i[h++]=G,G=G>>8,i[h++]=G,h}function q(i,u,h,I,C){se(u,I,C,i,h,7);let F=Number(u&BigInt(4294967295));i[h+7]=F,F=F>>8,i[h+6]=F,F=F>>8,i[h+5]=F,F=F>>8,i[h+4]=F;let G=Number(u>>BigInt(32)&BigInt(4294967295));return i[h+3]=G,G=G>>8,i[h+2]=G,G=G>>8,i[h+1]=G,G=G>>8,i[h]=G,h+8}o.prototype.writeBigUInt64LE=De(function(i,u=0){return N(this,i,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=De(function(i,u=0){return q(this,i,u,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(i,u,h,I){if(i=+i,u=u>>>0,!I){let ve=Math.pow(2,8*h-1);T(this,i,u,h,ve-1,-ve)}let C=0,F=1,G=0;for(this[u]=i&255;++C<h&&(F*=256);)i<0&&G===0&&this[u+C-1]!==0&&(G=1),this[u+C]=(i/F>>0)-G&255;return u+h},o.prototype.writeIntBE=function(i,u,h,I){if(i=+i,u=u>>>0,!I){let ve=Math.pow(2,8*h-1);T(this,i,u,h,ve-1,-ve)}let C=h-1,F=1,G=0;for(this[u+C]=i&255;--C>=0&&(F*=256);)i<0&&G===0&&this[u+C+1]!==0&&(G=1),this[u+C]=(i/F>>0)-G&255;return u+h},o.prototype.writeInt8=function(i,u,h){return i=+i,u=u>>>0,h||T(this,i,u,1,127,-128),i<0&&(i=255+i+1),this[u]=i&255,u+1},o.prototype.writeInt16LE=function(i,u,h){return i=+i,u=u>>>0,h||T(this,i,u,2,32767,-32768),this[u]=i&255,this[u+1]=i>>>8,u+2},o.prototype.writeInt16BE=function(i,u,h){return i=+i,u=u>>>0,h||T(this,i,u,2,32767,-32768),this[u]=i>>>8,this[u+1]=i&255,u+2},o.prototype.writeInt32LE=function(i,u,h){return i=+i,u=u>>>0,h||T(this,i,u,4,2147483647,-2147483648),this[u]=i&255,this[u+1]=i>>>8,this[u+2]=i>>>16,this[u+3]=i>>>24,u+4},o.prototype.writeInt32BE=function(i,u,h){return i=+i,u=u>>>0,h||T(this,i,u,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[u]=i>>>24,this[u+1]=i>>>16,this[u+2]=i>>>8,this[u+3]=i&255,u+4},o.prototype.writeBigInt64LE=De(function(i,u=0){return N(this,i,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=De(function(i,u=0){return q(this,i,u,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function re(i,u,h,I,C,F){if(h+I>i.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function ge(i,u,h,I,C){return u=+u,h=h>>>0,C||re(i,u,h,4),r.write(i,u,h,I,23,4),h+4}o.prototype.writeFloatLE=function(i,u,h){return ge(this,i,u,!0,h)},o.prototype.writeFloatBE=function(i,u,h){return ge(this,i,u,!1,h)};function he(i,u,h,I,C){return u=+u,h=h>>>0,C||re(i,u,h,8),r.write(i,u,h,I,52,8),h+8}o.prototype.writeDoubleLE=function(i,u,h){return he(this,i,u,!0,h)},o.prototype.writeDoubleBE=function(i,u,h){return he(this,i,u,!1,h)},o.prototype.copy=function(i,u,h,I){if(!o.isBuffer(i))throw new TypeError("argument should be a Buffer");if(h||(h=0),!I&&I!==0&&(I=this.length),u>=i.length&&(u=i.length),u||(u=0),I>0&&I<h&&(I=h),I===h||i.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(h<0||h>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),i.length-u<I-h&&(I=i.length-u+h);let C=I-h;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,h,I):Uint8Array.prototype.set.call(i,this.subarray(h,I),u),C},o.prototype.fill=function(i,u,h,I){if(typeof i=="string"){if(typeof u=="string"?(I=u,u=0,h=this.length):typeof h=="string"&&(I=h,h=this.length),I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!o.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(i.length===1){let F=i.charCodeAt(0);(I==="utf8"&&F<128||I==="latin1")&&(i=F)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(u<0||this.length<u||this.length<h)throw new RangeError("Out of range index");if(h<=u)return this;u=u>>>0,h=h===void 0?this.length:h>>>0,i||(i=0);let C;if(typeof i=="number")for(C=u;C<h;++C)this[C]=i;else{let F=o.isBuffer(i)?i:o.from(i,I),G=F.length;if(G===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(C=0;C<h-u;++C)this[C+u]=F[C%G]}return this};var O={};function P(i,u,h){O[i]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${i}]`,this.stack,delete this.name}get code(){return i}set code(I){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:I,writable:!0})}toString(){return`${this.name} [${i}]: ${this.message}`}}}P("ERR_BUFFER_OUT_OF_BOUNDS",function(i){return i?`${i} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),P("ERR_INVALID_ARG_TYPE",function(i,u){return`The "${i}" argument must be of type number. Received type ${typeof u}`},TypeError),P("ERR_OUT_OF_RANGE",function(i,u,h){let I=`The value of "${i}" is out of range.`,C=h;return Number.isInteger(h)&&Math.abs(h)>2**32?C=D(String(h)):typeof h=="bigint"&&(C=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(C=D(C)),C+="n"),I+=` It must be ${u}. Received ${C}`,I},RangeError);function D(i){let u="",h=i.length,I=i[0]==="-"?1:0;for(;h>=I+4;h-=3)u=`_${i.slice(h-3,h)}${u}`;return`${i.slice(0,h)}${u}`}function H(i,u,h){w(u,"offset"),(i[u]===void 0||i[u+h]===void 0)&&v(u,i.length-(h+1))}function se(i,u,h,I,C,F){if(i>h||i<u){let G=typeof u=="bigint"?"n":"",ve;throw F>3?u===0||u===BigInt(0)?ve=`>= 0${G} and < 2${G} ** ${(F+1)*8}${G}`:ve=`>= -(2${G} ** ${(F+1)*8-1}${G}) and < 2 ** ${(F+1)*8-1}${G}`:ve=`>= ${u}${G} and <= ${h}${G}`,new O.ERR_OUT_OF_RANGE("value",ve,i)}H(I,C,F)}function w(i,u){if(typeof i!="number")throw new O.ERR_INVALID_ARG_TYPE(u,"number",i)}function v(i,u,h){throw Math.floor(i)!==i?(w(i,h),new O.ERR_OUT_OF_RANGE(h||"offset","an integer",i)):u<0?new O.ERR_BUFFER_OUT_OF_BOUNDS:new O.ERR_OUT_OF_RANGE(h||"offset",`>= ${h?1:0} and <= ${u}`,i)}var V=/[^+/0-9A-Za-z-_]/g;function ee(i){if(i=i.split("=")[0],i=i.trim().replace(V,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function pe(i,u){u=u||1/0;let h,I=i.length,C=null,F=[];for(let G=0;G<I;++G){if(h=i.charCodeAt(G),h>55295&&h<57344){if(!C){if(h>56319){(u-=3)>-1&&F.push(239,191,189);continue}else if(G+1===I){(u-=3)>-1&&F.push(239,191,189);continue}C=h;continue}if(h<56320){(u-=3)>-1&&F.push(239,191,189),C=h;continue}h=(C-55296<<10|h-56320)+65536}else C&&(u-=3)>-1&&F.push(239,191,189);if(C=null,h<128){if((u-=1)<0)break;F.push(h)}else if(h<2048){if((u-=2)<0)break;F.push(h>>6|192,h&63|128)}else if(h<65536){if((u-=3)<0)break;F.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((u-=4)<0)break;F.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return F}function ce(i){let u=[];for(let h=0;h<i.length;++h)u.push(i.charCodeAt(h)&255);return u}function U(i,u){let h,I,C,F=[];for(let G=0;G<i.length&&!((u-=2)<0);++G)h=i.charCodeAt(G),I=h>>8,C=h%256,F.push(C),F.push(I);return F}function xe(i){return t.toByteArray(ee(i))}function Ke(i,u,h,I){let C;for(C=0;C<I&&!(C+h>=u.length||C>=i.length);++C)u[C+h]=i[C];return C}function Ne(i,u){return i instanceof u||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===u.name}function bt(i){return i!==i}var Lt=function(){let i="0123456789abcdef",u=new Array(256);for(let h=0;h<16;++h){let I=h*16;for(let C=0;C<16;++C)u[I+C]=i[h]+i[C]}return u}();function De(i){return typeof BigInt>"u"?wt:i}function wt(){throw new Error("BigInt not supported")}}),ie,le,Ze,te=Wn(()=>{ie=$e(Rt(),1),le={env:{},nextTick:(e,...t)=>{globalThis.setTimeout(e,0,...t)}},Ze=globalThis}),Tt=ae((e,t)=>{te();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:function(S,L,R){return Function.prototype.apply.call(S,L,R)},s;r&&typeof r.ownKeys=="function"?s=r.ownKeys:Object.getOwnPropertySymbols?s=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:s=function(S){return Object.getOwnPropertyNames(S)};function a(S){console&&console.warn&&console.warn(S)}var l=Number.isNaN||function(S){return S!==S};function o(){o.init.call(this)}t.exports=o,t.exports.once=k,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var f=10;function d(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(S){if(typeof S!="number"||S<0||l(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");f=S}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||l(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function y(S){return S._maxListeners===void 0?o.defaultMaxListeners:S._maxListeners}o.prototype.getMaxListeners=function(){return y(this)},o.prototype.emit=function(S){for(var L=[],R=1;R<arguments.length;R++)L.push(arguments[R]);var x=S==="error",W=this._events;if(W!==void 0)x=x&&W.error===void 0;else if(!x)return!1;if(x){var j;if(L.length>0&&(j=L[0]),j instanceof Error)throw j;var $=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw $.context=j,$}var Y=W[S];if(Y===void 0)return!1;if(typeof Y=="function")n(Y,this,L);else for(var X=Y.length,ne=m(Y,X),R=0;R<X;++R)n(ne[R],this,L);return!0};function g(S,L,R,x){var W,j,$;if(d(R),j=S._events,j===void 0?(j=S._events=Object.create(null),S._eventsCount=0):(j.newListener!==void 0&&(S.emit("newListener",L,R.listener?R.listener:R),j=S._events),$=j[L]),$===void 0)$=j[L]=R,++S._eventsCount;else if(typeof $=="function"?$=j[L]=x?[R,$]:[$,R]:x?$.unshift(R):$.push(R),W=y(S),W>0&&$.length>W&&!$.warned){$.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=S,Y.type=L,Y.count=$.length,a(Y)}return S}o.prototype.addListener=function(S,L){return g(this,S,L,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(S,L){return g(this,S,L,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(S,L,R){var x={fired:!1,wrapFn:void 0,target:S,type:L,listener:R},W=_.bind(x);return W.listener=R,x.wrapFn=W,W}o.prototype.once=function(S,L){return d(L),this.on(S,E(this,S,L)),this},o.prototype.prependOnceListener=function(S,L){return d(L),this.prependListener(S,E(this,S,L)),this},o.prototype.removeListener=function(S,L){var R,x,W,j,$;if(d(L),x=this._events,x===void 0)return this;if(R=x[S],R===void 0)return this;if(R===L||R.listener===L)--this._eventsCount===0?this._events=Object.create(null):(delete x[S],x.removeListener&&this.emit("removeListener",S,R.listener||L));else if(typeof R!="function"){for(W=-1,j=R.length-1;j>=0;j--)if(R[j]===L||R[j].listener===L){$=R[j].listener,W=j;break}if(W<0)return this;W===0?R.shift():A(R,W),R.length===1&&(x[S]=R[0]),x.removeListener!==void 0&&this.emit("removeListener",S,$||L)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(S){var L,R,x;if(R=this._events,R===void 0)return this;if(R.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):R[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete R[S]),this;if(arguments.length===0){var W=Object.keys(R),j;for(x=0;x<W.length;++x)j=W[x],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(L=R[S],typeof L=="function")this.removeListener(S,L);else if(L!==void 0)for(x=L.length-1;x>=0;x--)this.removeListener(S,L[x]);return this};function c(S,L,R){var x=S._events;if(x===void 0)return[];var W=x[L];return W===void 0?[]:typeof W=="function"?R?[W.listener||W]:[W]:R?b(W):m(W,W.length)}o.prototype.listeners=function(S){return c(this,S,!0)},o.prototype.rawListeners=function(S){return c(this,S,!1)},o.listenerCount=function(S,L){return typeof S.listenerCount=="function"?S.listenerCount(L):p.call(S,L)},o.prototype.listenerCount=p;function p(S){var L=this._events;if(L!==void 0){var R=L[S];if(typeof R=="function")return 1;if(R!==void 0)return R.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function m(S,L){for(var R=new Array(L),x=0;x<L;++x)R[x]=S[x];return R}function A(S,L){for(;L+1<S.length;L++)S[L]=S[L+1];S.pop()}function b(S){for(var L=new Array(S.length),R=0;R<L.length;++R)L[R]=S[R].listener||S[R];return L}function k(S,L){return new Promise(function(R,x){function W($){S.removeListener(L,j),x($)}function j(){typeof S.removeListener=="function"&&S.removeListener("error",W),R([].slice.call(arguments))}M(S,L,j,{once:!0}),L!=="error"&&B(S,W,{once:!0})})}function B(S,L,R){typeof S.on=="function"&&M(S,"error",L,R)}function M(S,L,R,x){if(typeof S.on=="function")x.once?S.once(L,R):S.on(L,R);else if(typeof S.addEventListener=="function")S.addEventListener(L,function W(j){x.once&&S.removeEventListener(L,W),R(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}}),$r=ae((e,t)=>{te(),t.exports=Tt().EventEmitter}),Wr=ae(()=>{te()}),Gn=ae((e,t)=>{te();function r(c,p){var m=Object.keys(c);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(c);p&&(A=A.filter(function(b){return Object.getOwnPropertyDescriptor(c,b).enumerable})),m.push.apply(m,A)}return m}function n(c){for(var p=1;p<arguments.length;p++){var m=arguments[p]!=null?arguments[p]:{};p%2?r(Object(m),!0).forEach(function(A){s(c,A,m[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(m)):r(Object(m)).forEach(function(A){Object.defineProperty(c,A,Object.getOwnPropertyDescriptor(m,A))})}return c}function s(c,p,m){return p in c?Object.defineProperty(c,p,{value:m,enumerable:!0,configurable:!0,writable:!0}):c[p]=m,c}function a(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}function l(c,p){for(var m=0;m<p.length;m++){var A=p[m];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(c,A.key,A)}}function o(c,p,m){return p&&l(c.prototype,p),m&&l(c,m),c}var f=Rt(),d=f.Buffer,y=Wr(),g=y.inspect,_=g&&g.custom||"inspect";function E(c,p,m){d.prototype.copy.call(c,p,m)}t.exports=function(){function c(){a(this,c),this.head=null,this.tail=null,this.length=0}return o(c,[{key:"push",value:function(p){var m={data:p,next:null};this.length>0?this.tail.next=m:this.head=m,this.tail=m,++this.length}},{key:"unshift",value:function(p){var m={data:p,next:this.head};this.length===0&&(this.tail=m),this.head=m,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var m=this.head,A=""+m.data;m=m.next;)A+=p+m.data;return A}},{key:"concat",value:function(p){if(this.length===0)return d.alloc(0);for(var m=d.allocUnsafe(p>>>0),A=this.head,b=0;A;)E(A.data,m,b),b+=A.data.length,A=A.next;return m}},{key:"consume",value:function(p,m){var A;return p<this.head.data.length?(A=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):p===this.head.data.length?A=this.shift():A=m?this._getString(p):this._getBuffer(p),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var m=this.head,A=1,b=m.data;for(p-=b.length;m=m.next;){var k=m.data,B=p>k.length?k.length:p;if(B===k.length?b+=k:b+=k.slice(0,p),p-=B,p===0){B===k.length?(++A,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=k.slice(B));break}++A}return this.length-=A,b}},{key:"_getBuffer",value:function(p){var m=d.allocUnsafe(p),A=this.head,b=1;for(A.data.copy(m),p-=A.data.length;A=A.next;){var k=A.data,B=p>k.length?k.length:p;if(k.copy(m,m.length-p,0,B),p-=B,p===0){B===k.length?(++b,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=k.slice(B));break}++b}return this.length-=b,m}},{key:_,value:function(p,m){return g(this,n({},m,{depth:0,customInspect:!1}))}}]),c}()}),qr=ae((e,t)=>{te();function r(f,d){var y=this,g=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return g||_?(d?d(f):f&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,le.nextTick(l,this,f)):le.nextTick(l,this,f)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(f||null,function(E){!d&&E?y._writableState?y._writableState.errorEmitted?le.nextTick(s,y):(y._writableState.errorEmitted=!0,le.nextTick(n,y,E)):le.nextTick(n,y,E):d?(le.nextTick(s,y),d(E)):le.nextTick(s,y)}),this)}function n(f,d){l(f,d),s(f)}function s(f){f._writableState&&!f._writableState.emitClose||f._readableState&&!f._readableState.emitClose||f.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(f,d){f.emit("error",d)}function o(f,d){var y=f._readableState,g=f._writableState;y&&y.autoDestroy||g&&g.autoDestroy?f.destroy(d):f.emit("error",d)}t.exports={destroy:r,undestroy:a,errorOrDestroy:o}}),gt=ae((e,t)=>{te();function r(d,y){d.prototype=Object.create(y.prototype),d.prototype.constructor=d,d.__proto__=y}var n={};function s(d,y,g){g||(g=Error);function _(c,p,m){return typeof y=="string"?y:y(c,p,m)}var E=function(c){r(p,c);function p(m,A,b){return c.call(this,_(m,A,b))||this}return p}(g);E.prototype.name=g.name,E.prototype.code=d,n[d]=E}function a(d,y){if(Array.isArray(d)){var g=d.length;return d=d.map(function(_){return String(_)}),g>2?"one of ".concat(y," ").concat(d.slice(0,g-1).join(", "),", or ")+d[g-1]:g===2?"one of ".concat(y," ").concat(d[0]," or ").concat(d[1]):"of ".concat(y," ").concat(d[0])}else return"of ".concat(y," ").concat(String(d))}function l(d,y,g){return d.substr(!g||g<0?0:+g,y.length)===y}function o(d,y,g){return(g===void 0||g>d.length)&&(g=d.length),d.substring(g-y.length,g)===y}function f(d,y,g){return typeof g!="number"&&(g=0),g+y.length>d.length?!1:d.indexOf(y,g)!==-1}s("ERR_INVALID_OPT_VALUE",function(d,y){return'The value "'+y+'" is invalid for option "'+d+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(d,y,g){var _;typeof y=="string"&&l(y,"not ")?(_="must not be",y=y.replace(/^not /,"")):_="must be";var E;if(o(d," argument"))E="The ".concat(d," ").concat(_," ").concat(a(y,"type"));else{var c=f(d,".")?"property":"argument";E='The "'.concat(d,'" ').concat(c," ").concat(_," ").concat(a(y,"type"))}return E+=". Received type ".concat(typeof g),E},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}),Vr=ae((e,t)=>{te();var r=gt().codes.ERR_INVALID_OPT_VALUE;function n(a,l,o){return a.highWaterMark!=null?a.highWaterMark:l?a[o]:null}function s(a,l,o,f){var d=n(l,f,o);if(d!=null){if(!(isFinite(d)&&Math.floor(d)===d)||d<0){var y=f?o:"highWaterMark";throw new r(y,d)}return Math.floor(d)}return a.objectMode?16:16*1024}t.exports={getHighWaterMark:s}}),it=ae((e,t)=>{te(),typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var s=function(){};s.prototype=n.prototype,r.prototype=new s,r.prototype.constructor=r}}}),Hn=ae((e,t)=>{te(),t.exports=r;function r(s,a){if(n("noDeprecation"))return s;var l=!1;function o(){if(!l){if(n("throwDeprecation"))throw new Error(a);n("traceDeprecation")?console.trace(a):console.warn(a),l=!0}return s.apply(this,arguments)}return o}function n(s){try{if(!Ze.localStorage)return!1}catch{return!1}var a=Ze.localStorage[s];return a==null?!1:String(a).toLowerCase()==="true"}}),zr=ae((e,t)=>{te(),t.exports=W;function r(O){var P=this;this.next=null,this.entry=null,this.finish=function(){he(P,O)}}var n;W.WritableState=R;var s={deprecate:Hn()},a=$r(),l=Rt().Buffer,o=Ze.Uint8Array||function(){};function f(O){return l.from(O)}function d(O){return l.isBuffer(O)||O instanceof o}var y=qr(),g=Vr(),_=g.getHighWaterMark,E=gt().codes,c=E.ERR_INVALID_ARG_TYPE,p=E.ERR_METHOD_NOT_IMPLEMENTED,m=E.ERR_MULTIPLE_CALLBACK,A=E.ERR_STREAM_CANNOT_PIPE,b=E.ERR_STREAM_DESTROYED,k=E.ERR_STREAM_NULL_VALUES,B=E.ERR_STREAM_WRITE_AFTER_END,M=E.ERR_UNKNOWN_ENCODING,S=y.errorOrDestroy;it()(W,a);function L(){}function R(O,P,D){n=n||yt(),O=O||{},typeof D!="boolean"&&(D=P instanceof n),this.objectMode=!!O.objectMode,D&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=_(this,O,"writableHighWaterMark",D),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var H=O.decodeStrings===!1;this.decodeStrings=!H,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){Se(P,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}R.prototype.getBuffer=function(){for(var O=this.bufferedRequest,P=[];O;)P.push(O),O=O.next;return P},function(){try{Object.defineProperty(R.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(O){return x.call(this,O)?!0:this!==W?!1:O&&O._writableState instanceof R}})):x=function(O){return O instanceof this};function W(O){n=n||yt();var P=this instanceof n;if(!P&&!x.call(W,this))return new W(O);this._writableState=new R(O,this,P),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),a.call(this)}W.prototype.pipe=function(){S(this,new A)};function j(O,P){var D=new B;S(O,D),le.nextTick(P,D)}function $(O,P,D,H){var se;return D===null?se=new k:typeof D!="string"&&!P.objectMode&&(se=new c("chunk",["string","Buffer"],D)),se?(S(O,se),le.nextTick(H,se),!1):!0}W.prototype.write=function(O,P,D){var H=this._writableState,se=!1,w=!H.objectMode&&d(O);return w&&!l.isBuffer(O)&&(O=f(O)),typeof P=="function"&&(D=P,P=null),w?P="buffer":P||(P=H.defaultEncoding),typeof D!="function"&&(D=L),H.ending?j(this,D):(w||$(this,H,O,D))&&(H.pendingcb++,se=X(this,H,w,O,P,D)),se},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&fe(this,O))},W.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new M(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Y(O,P,D){return!O.objectMode&&O.decodeStrings!==!1&&typeof P=="string"&&(P=l.from(P,D)),P}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function X(O,P,D,H,se,w){if(!D){var v=Y(P,H,se);H!==v&&(D=!0,se="buffer",H=v)}var V=P.objectMode?1:H.length;P.length+=V;var ee=P.length<P.highWaterMark;if(ee||(P.needDrain=!0),P.writing||P.corked){var pe=P.lastBufferedRequest;P.lastBufferedRequest={chunk:H,encoding:se,isBuf:D,callback:w,next:null},pe?pe.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else ne(O,P,!1,V,H,se,w);return ee}function ne(O,P,D,H,se,w,v){P.writelen=H,P.writecb=v,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new b("write")):D?O._writev(se,P.onwrite):O._write(se,w,P.onwrite),P.sync=!1}function de(O,P,D,H,se){--P.pendingcb,D?(le.nextTick(se,H),le.nextTick(re,O,P),O._writableState.errorEmitted=!0,S(O,H)):(se(H),O._writableState.errorEmitted=!0,S(O,H),re(O,P))}function ye(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function Se(O,P){var D=O._writableState,H=D.sync,se=D.writecb;if(typeof se!="function")throw new m;if(ye(D),P)de(O,D,H,P,se);else{var w=T(D)||O.destroyed;!w&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&fe(O,D),H?le.nextTick(ue,O,D,w,se):ue(O,D,w,se)}}function ue(O,P,D,H){D||we(O,P),P.pendingcb--,H(),re(O,P)}function we(O,P){P.length===0&&P.needDrain&&(P.needDrain=!1,O.emit("drain"))}function fe(O,P){P.bufferProcessing=!0;var D=P.bufferedRequest;if(O._writev&&D&&D.next){var H=P.bufferedRequestCount,se=new Array(H),w=P.corkedRequestsFree;w.entry=D;for(var v=0,V=!0;D;)se[v]=D,D.isBuf||(V=!1),D=D.next,v+=1;se.allBuffers=V,ne(O,P,!0,P.length,se,"",w.finish),P.pendingcb++,P.lastBufferedRequest=null,w.next?(P.corkedRequestsFree=w.next,w.next=null):P.corkedRequestsFree=new r(P),P.bufferedRequestCount=0}else{for(;D;){var ee=D.chunk,pe=D.encoding,ce=D.callback,U=P.objectMode?1:ee.length;if(ne(O,P,!1,U,ee,pe,ce),D=D.next,P.bufferedRequestCount--,P.writing)break}D===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=D,P.bufferProcessing=!1}W.prototype._write=function(O,P,D){D(new p("_write()"))},W.prototype._writev=null,W.prototype.end=function(O,P,D){var H=this._writableState;return typeof O=="function"?(D=O,O=null,P=null):typeof P=="function"&&(D=P,P=null),O!=null&&this.write(O,P),H.corked&&(H.corked=1,this.uncork()),H.ending||ge(this,H,D),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function T(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function N(O,P){O._final(function(D){P.pendingcb--,D&&S(O,D),P.prefinished=!0,O.emit("prefinish"),re(O,P)})}function q(O,P){!P.prefinished&&!P.finalCalled&&(typeof O._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,le.nextTick(N,O,P)):(P.prefinished=!0,O.emit("prefinish")))}function re(O,P){var D=T(P);if(D&&(q(O,P),P.pendingcb===0&&(P.finished=!0,O.emit("finish"),P.autoDestroy))){var H=O._readableState;(!H||H.autoDestroy&&H.endEmitted)&&O.destroy()}return D}function ge(O,P,D){P.ending=!0,re(O,P),D&&(P.finished?le.nextTick(D):O.once("finish",D)),P.ended=!0,O.writable=!1}function he(O,P,D){var H=O.entry;for(O.entry=null;H;){var se=H.callback;P.pendingcb--,se(D),H=H.next}P.corkedRequestsFree.next=O}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(O){!this._writableState||(this._writableState.destroyed=O)}}),W.prototype.destroy=y.destroy,W.prototype._undestroy=y.undestroy,W.prototype._destroy=function(O,P){P(O)}}),yt=ae((e,t)=>{te();var r=Object.keys||function(g){var _=[];for(var E in g)_.push(E);return _};t.exports=f;var n=Gr(),s=zr();for(it()(f,n),a=r(s.prototype),o=0;o<a.length;o++)l=a[o],f.prototype[l]||(f.prototype[l]=s.prototype[l]);var a,l,o;function f(g){if(!(this instanceof f))return new f(g);n.call(this,g),s.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function d(){this._writableState.ended||le.nextTick(y,this)}function y(g){g.end()}Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}),Kn=ae((e,t)=>{te();var r=Rt(),n=r.Buffer;function s(l,o){for(var f in l)o[f]=l[f]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=a);function a(l,o,f){return n(l,o,f)}a.prototype=Object.create(n.prototype),s(n,a),a.from=function(l,o,f){if(typeof l=="number")throw new TypeError("Argument must not be a number");return n(l,o,f)},a.alloc=function(l,o,f){if(typeof l!="number")throw new TypeError("Argument must be a number");var d=n(l);return o!==void 0?typeof f=="string"?d.fill(o,f):d.fill(o):d.fill(0),d},a.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n(l)},a.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(l)}}),mr=ae(e=>{te();var t=Kn().Buffer,r=t.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(b){if(!b)return"utf8";for(var k;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(k)return;b=(""+b).toLowerCase(),k=!0}}function s(b){var k=n(b);if(typeof k!="string"&&(t.isEncoding===r||!r(b)))throw new Error("Unknown encoding: "+b);return k||b}e.StringDecoder=a;function a(b){this.encoding=s(b);var k;switch(this.encoding){case"utf16le":this.text=_,this.end=E,k=4;break;case"utf8":this.fillLast=d,k=4;break;case"base64":this.text=c,this.end=p,k=3;break;default:this.write=m,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(k)}a.prototype.write=function(b){if(b.length===0)return"";var k,B;if(this.lastNeed){if(k=this.fillLast(b),k===void 0)return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<b.length?k?k+this.text(b,B):this.text(b,B):k||""},a.prototype.end=g,a.prototype.text=y,a.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function l(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,k,B){var M=k.length-1;if(M<B)return 0;var S=l(k[M]);return S>=0?(S>0&&(b.lastNeed=S-1),S):--M<B||S===-2?0:(S=l(k[M]),S>=0?(S>0&&(b.lastNeed=S-2),S):--M<B||S===-2?0:(S=l(k[M]),S>=0?(S>0&&(S===2?S=0:b.lastNeed=S-3),S):0))}function f(b,k,B){if((k[0]&192)!==128)return b.lastNeed=0,"";if(b.lastNeed>1&&k.length>1){if((k[1]&192)!==128)return b.lastNeed=1,"";if(b.lastNeed>2&&k.length>2&&(k[2]&192)!==128)return b.lastNeed=2,""}}function d(b){var k=this.lastTotal-this.lastNeed,B=f(this,b);if(B!==void 0)return B;if(this.lastNeed<=b.length)return b.copy(this.lastChar,k,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,k,0,b.length),this.lastNeed-=b.length}function y(b,k){var B=o(this,b,k);if(!this.lastNeed)return b.toString("utf8",k);this.lastTotal=B;var M=b.length-(B-this.lastNeed);return b.copy(this.lastChar,0,M),b.toString("utf8",k,M)}function g(b){var k=b&&b.length?this.write(b):"";return this.lastNeed?k+"":k}function _(b,k){if((b.length-k)%2===0){var B=b.toString("utf16le",k);if(B){var M=B.charCodeAt(B.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",k,b.length-1)}function E(b){var k=b&&b.length?this.write(b):"";if(this.lastNeed){var B=this.lastTotal-this.lastNeed;return k+this.lastChar.toString("utf16le",0,B)}return k}function c(b,k){var B=(b.length-k)%3;return B===0?b.toString("base64",k):(this.lastNeed=3-B,this.lastTotal=3,B===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",k,b.length-B))}function p(b){var k=b&&b.length?this.write(b):"";return this.lastNeed?k+this.lastChar.toString("base64",0,3-this.lastNeed):k}function m(b){return b.toString(this.encoding)}function A(b){return b&&b.length?this.write(b):""}}),ar=ae((e,t)=>{te();var r=gt().codes.ERR_STREAM_PREMATURE_CLOSE;function n(o){var f=!1;return function(){if(!f){f=!0;for(var d=arguments.length,y=new Array(d),g=0;g<d;g++)y[g]=arguments[g];o.apply(this,y)}}}function s(){}function a(o){return o.setHeader&&typeof o.abort=="function"}function l(o,f,d){if(typeof f=="function")return l(o,null,f);f||(f={}),d=n(d||s);var y=f.readable||f.readable!==!1&&o.readable,g=f.writable||f.writable!==!1&&o.writable,_=function(){o.writable||c()},E=o._writableState&&o._writableState.finished,c=function(){g=!1,E=!0,y||d.call(o)},p=o._readableState&&o._readableState.endEmitted,m=function(){y=!1,p=!0,g||d.call(o)},A=function(B){d.call(o,B)},b=function(){var B;if(y&&!p)return(!o._readableState||!o._readableState.ended)&&(B=new r),d.call(o,B);if(g&&!E)return(!o._writableState||!o._writableState.ended)&&(B=new r),d.call(o,B)},k=function(){o.req.on("finish",c)};return a(o)?(o.on("complete",c),o.on("abort",b),o.req?k():o.on("request",k)):g&&!o._writableState&&(o.on("end",_),o.on("close",_)),o.on("end",m),o.on("finish",c),f.error!==!1&&o.on("error",A),o.on("close",b),function(){o.removeListener("complete",c),o.removeListener("abort",b),o.removeListener("request",k),o.req&&o.req.removeListener("finish",c),o.removeListener("end",_),o.removeListener("close",_),o.removeListener("finish",c),o.removeListener("end",m),o.removeListener("error",A),o.removeListener("close",b)}}t.exports=l}),Yn=ae((e,t)=>{te();var r;function n(k,B,M){return B in k?Object.defineProperty(k,B,{value:M,enumerable:!0,configurable:!0,writable:!0}):k[B]=M,k}var s=ar(),a=Symbol("lastResolve"),l=Symbol("lastReject"),o=Symbol("error"),f=Symbol("ended"),d=Symbol("lastPromise"),y=Symbol("handlePromise"),g=Symbol("stream");function _(k,B){return{value:k,done:B}}function E(k){var B=k[a];if(B!==null){var M=k[g].read();M!==null&&(k[d]=null,k[a]=null,k[l]=null,B(_(M,!1)))}}function c(k){le.nextTick(E,k)}function p(k,B){return function(M,S){k.then(function(){if(B[f]){M(_(void 0,!0));return}B[y](M,S)},S)}}var m=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((r={get stream(){return this[g]},next:function(){var k=this,B=this[o];if(B!==null)return Promise.reject(B);if(this[f])return Promise.resolve(_(void 0,!0));if(this[g].destroyed)return new Promise(function(R,x){le.nextTick(function(){k[o]?x(k[o]):R(_(void 0,!0))})});var M=this[d],S;if(M)S=new Promise(p(M,this));else{var L=this[g].read();if(L!==null)return Promise.resolve(_(L,!1));S=new Promise(this[y])}return this[d]=S,S}},n(r,Symbol.asyncIterator,function(){return this}),n(r,"return",function(){var k=this;return new Promise(function(B,M){k[g].destroy(null,function(S){if(S){M(S);return}B(_(void 0,!0))})})}),r),m),b=function(k){var B,M=Object.create(A,(B={},n(B,g,{value:k,writable:!0}),n(B,a,{value:null,writable:!0}),n(B,l,{value:null,writable:!0}),n(B,o,{value:null,writable:!0}),n(B,f,{value:k._readableState.endEmitted,writable:!0}),n(B,y,{value:function(S,L){var R=M[g].read();R?(M[d]=null,M[a]=null,M[l]=null,S(_(R,!1))):(M[a]=S,M[l]=L)},writable:!0}),B));return M[d]=null,s(k,function(S){if(S&&S.code!=="ERR_STREAM_PREMATURE_CLOSE"){var L=M[l];L!==null&&(M[d]=null,M[a]=null,M[l]=null,L(S)),M[o]=S;return}var R=M[a];R!==null&&(M[d]=null,M[a]=null,M[l]=null,R(_(void 0,!0))),M[f]=!0}),k.on("readable",c.bind(null,M)),M};t.exports=b}),Jn=ae((e,t)=>{te(),t.exports=function(){throw new Error("Readable.from is not available in the browser")}}),Gr=ae((e,t)=>{te(),t.exports=j;var r;j.ReadableState=W,Tt().EventEmitter;var n=function(w,v){return w.listeners(v).length},s=$r(),a=Rt().Buffer,l=Ze.Uint8Array||function(){};function o(w){return a.from(w)}function f(w){return a.isBuffer(w)||w instanceof l}var d=Wr(),y;d&&d.debuglog?y=d.debuglog("stream"):y=function(){};var g=Gn(),_=qr(),E=Vr(),c=E.getHighWaterMark,p=gt().codes,m=p.ERR_INVALID_ARG_TYPE,A=p.ERR_STREAM_PUSH_AFTER_EOF,b=p.ERR_METHOD_NOT_IMPLEMENTED,k=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,B,M,S;it()(j,s);var L=_.errorOrDestroy,R=["error","close","destroy","pause","resume"];function x(w,v,V){if(typeof w.prependListener=="function")return w.prependListener(v,V);!w._events||!w._events[v]?w.on(v,V):Array.isArray(w._events[v])?w._events[v].unshift(V):w._events[v]=[V,w._events[v]]}function W(w,v,V){r=r||yt(),w=w||{},typeof V!="boolean"&&(V=v instanceof r),this.objectMode=!!w.objectMode,V&&(this.objectMode=this.objectMode||!!w.readableObjectMode),this.highWaterMark=c(this,w,"readableHighWaterMark",V),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=w.emitClose!==!1,this.autoDestroy=!!w.autoDestroy,this.destroyed=!1,this.defaultEncoding=w.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,w.encoding&&(B||(B=mr().StringDecoder),this.decoder=new B(w.encoding),this.encoding=w.encoding)}function j(w){if(r=r||yt(),!(this instanceof j))return new j(w);var v=this instanceof r;this._readableState=new W(w,this,v),this.readable=!0,w&&(typeof w.read=="function"&&(this._read=w.read),typeof w.destroy=="function"&&(this._destroy=w.destroy)),s.call(this)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(w){!this._readableState||(this._readableState.destroyed=w)}}),j.prototype.destroy=_.destroy,j.prototype._undestroy=_.undestroy,j.prototype._destroy=function(w,v){v(w)},j.prototype.push=function(w,v){var V=this._readableState,ee;return V.objectMode?ee=!0:typeof w=="string"&&(v=v||V.defaultEncoding,v!==V.encoding&&(w=a.from(w,v),v=""),ee=!0),$(this,w,v,!1,ee)},j.prototype.unshift=function(w){return $(this,w,null,!0,!1)};function $(w,v,V,ee,pe){y("readableAddChunk",v);var ce=w._readableState;if(v===null)ce.reading=!1,Se(w,ce);else{var U;if(pe||(U=X(ce,v)),U)L(w,U);else if(ce.objectMode||v&&v.length>0)if(typeof v!="string"&&!ce.objectMode&&Object.getPrototypeOf(v)!==a.prototype&&(v=o(v)),ee)ce.endEmitted?L(w,new k):Y(w,ce,v,!0);else if(ce.ended)L(w,new A);else{if(ce.destroyed)return!1;ce.reading=!1,ce.decoder&&!V?(v=ce.decoder.write(v),ce.objectMode||v.length!==0?Y(w,ce,v,!1):fe(w,ce)):Y(w,ce,v,!1)}else ee||(ce.reading=!1,fe(w,ce))}return!ce.ended&&(ce.length<ce.highWaterMark||ce.length===0)}function Y(w,v,V,ee){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,w.emit("data",V)):(v.length+=v.objectMode?1:V.length,ee?v.buffer.unshift(V):v.buffer.push(V),v.needReadable&&ue(w)),fe(w,v)}function X(w,v){var V;return!f(v)&&typeof v!="string"&&v!==void 0&&!w.objectMode&&(V=new m("chunk",["string","Buffer","Uint8Array"],v)),V}j.prototype.isPaused=function(){return this._readableState.flowing===!1},j.prototype.setEncoding=function(w){B||(B=mr().StringDecoder);var v=new B(w);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var V=this._readableState.buffer.head,ee="";V!==null;)ee+=v.write(V.data),V=V.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};var ne=1073741824;function de(w){return w>=ne?w=ne:(w--,w|=w>>>1,w|=w>>>2,w|=w>>>4,w|=w>>>8,w|=w>>>16,w++),w}function ye(w,v){return w<=0||v.length===0&&v.ended?0:v.objectMode?1:w!==w?v.flowing&&v.length?v.buffer.head.data.length:v.length:(w>v.highWaterMark&&(v.highWaterMark=de(w)),w<=v.length?w:v.ended?v.length:(v.needReadable=!0,0))}j.prototype.read=function(w){y("read",w),w=parseInt(w,10);var v=this._readableState,V=w;if(w!==0&&(v.emittedReadable=!1),w===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return y("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?D(this):ue(this),null;if(w=ye(w,v),w===0&&v.ended)return v.length===0&&D(this),null;var ee=v.needReadable;y("need readable",ee),(v.length===0||v.length-w<v.highWaterMark)&&(ee=!0,y("length less than watermark",ee)),v.ended||v.reading?(ee=!1,y("reading or ended",ee)):ee&&(y("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(w=ye(V,v)));var pe;return w>0?pe=P(w,v):pe=null,pe===null?(v.needReadable=v.length<=v.highWaterMark,w=0):(v.length-=w,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),V!==w&&v.ended&&D(this)),pe!==null&&this.emit("data",pe),pe};function Se(w,v){if(y("onEofChunk"),!v.ended){if(v.decoder){var V=v.decoder.end();V&&V.length&&(v.buffer.push(V),v.length+=v.objectMode?1:V.length)}v.ended=!0,v.sync?ue(w):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,we(w)))}}function ue(w){var v=w._readableState;y("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(y("emitReadable",v.flowing),v.emittedReadable=!0,le.nextTick(we,w))}function we(w){var v=w._readableState;y("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(w.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,O(w)}function fe(w,v){v.readingMore||(v.readingMore=!0,le.nextTick(T,w,v))}function T(w,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var V=v.length;if(y("maybeReadMore read 0"),w.read(0),V===v.length)break}v.readingMore=!1}j.prototype._read=function(w){L(this,new b("_read()"))},j.prototype.pipe=function(w,v){var V=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=w;break;case 1:ee.pipes=[ee.pipes,w];break;default:ee.pipes.push(w);break}ee.pipesCount+=1,y("pipe count=%d opts=%j",ee.pipesCount,v);var pe=(!v||v.end!==!1)&&w!==le.stdout&&w!==le.stderr,ce=pe?xe:u;ee.endEmitted?le.nextTick(ce):V.once("end",ce),w.on("unpipe",U);function U(h,I){y("onunpipe"),h===V&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,bt())}function xe(){y("onend"),w.end()}var Ke=N(V);w.on("drain",Ke);var Ne=!1;function bt(){y("cleanup"),w.removeListener("close",wt),w.removeListener("finish",i),w.removeListener("drain",Ke),w.removeListener("error",De),w.removeListener("unpipe",U),V.removeListener("end",xe),V.removeListener("end",u),V.removeListener("data",Lt),Ne=!0,ee.awaitDrain&&(!w._writableState||w._writableState.needDrain)&&Ke()}V.on("data",Lt);function Lt(h){y("ondata");var I=w.write(h);y("dest.write",I),I===!1&&((ee.pipesCount===1&&ee.pipes===w||ee.pipesCount>1&&se(ee.pipes,w)!==-1)&&!Ne&&(y("false write response, pause",ee.awaitDrain),ee.awaitDrain++),V.pause())}function De(h){y("onerror",h),u(),w.removeListener("error",De),n(w,"error")===0&&L(w,h)}x(w,"error",De);function wt(){w.removeListener("finish",i),u()}w.once("close",wt);function i(){y("onfinish"),w.removeListener("close",wt),u()}w.once("finish",i);function u(){y("unpipe"),V.unpipe(w)}return w.emit("pipe",V),ee.flowing||(y("pipe resume"),V.resume()),w};function N(w){return function(){var v=w._readableState;y("pipeOnDrain",v.awaitDrain),v.awaitDrain&&v.awaitDrain--,v.awaitDrain===0&&n(w,"data")&&(v.flowing=!0,O(w))}}j.prototype.unpipe=function(w){var v=this._readableState,V={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return w&&w!==v.pipes?this:(w||(w=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,w&&w.emit("unpipe",this,V),this);if(!w){var ee=v.pipes,pe=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var ce=0;ce<pe;ce++)ee[ce].emit("unpipe",this,{hasUnpiped:!1});return this}var U=se(v.pipes,w);return U===-1?this:(v.pipes.splice(U,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),w.emit("unpipe",this,V),this)},j.prototype.on=function(w,v){var V=s.prototype.on.call(this,w,v),ee=this._readableState;return w==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):w==="readable"&&!ee.endEmitted&&!ee.readableListening&&(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,y("on readable",ee.length,ee.reading),ee.length?ue(this):ee.reading||le.nextTick(re,this)),V},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(w,v){var V=s.prototype.removeListener.call(this,w,v);return w==="readable"&&le.nextTick(q,this),V},j.prototype.removeAllListeners=function(w){var v=s.prototype.removeAllListeners.apply(this,arguments);return(w==="readable"||w===void 0)&&le.nextTick(q,this),v};function q(w){var v=w._readableState;v.readableListening=w.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:w.listenerCount("data")>0&&w.resume()}function re(w){y("readable nexttick read 0"),w.read(0)}j.prototype.resume=function(){var w=this._readableState;return w.flowing||(y("resume"),w.flowing=!w.readableListening,ge(this,w)),w.paused=!1,this};function ge(w,v){v.resumeScheduled||(v.resumeScheduled=!0,le.nextTick(he,w,v))}function he(w,v){y("resume",v.reading),v.reading||w.read(0),v.resumeScheduled=!1,w.emit("resume"),O(w),v.flowing&&!v.reading&&w.read(0)}j.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(w){var v=w._readableState;for(y("flow",v.flowing);v.flowing&&w.read()!==null;);}j.prototype.wrap=function(w){var v=this,V=this._readableState,ee=!1;w.on("end",function(){if(y("wrapped end"),V.decoder&&!V.ended){var U=V.decoder.end();U&&U.length&&v.push(U)}v.push(null)}),w.on("data",function(U){if(y("wrapped data"),V.decoder&&(U=V.decoder.write(U)),!(V.objectMode&&U==null)&&!(!V.objectMode&&(!U||!U.length))){var xe=v.push(U);xe||(ee=!0,w.pause())}});for(var pe in w)this[pe]===void 0&&typeof w[pe]=="function"&&(this[pe]=function(U){return function(){return w[U].apply(w,arguments)}}(pe));for(var ce=0;ce<R.length;ce++)w.on(R[ce],this.emit.bind(this,R[ce]));return this._read=function(U){y("wrapped _read",U),ee&&(ee=!1,w.resume())},this},typeof Symbol=="function"&&(j.prototype[Symbol.asyncIterator]=function(){return M===void 0&&(M=Yn()),M(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(w){this._readableState&&(this._readableState.flowing=w)}}),j._fromList=P,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(w,v){if(v.length===0)return null;var V;return v.objectMode?V=v.buffer.shift():!w||w>=v.length?(v.decoder?V=v.buffer.join(""):v.buffer.length===1?V=v.buffer.first():V=v.buffer.concat(v.length),v.buffer.clear()):V=v.buffer.consume(w,v.decoder),V}function D(w){var v=w._readableState;y("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,le.nextTick(H,v,w))}function H(w,v){if(y("endReadableNT",w.endEmitted,w.length),!w.endEmitted&&w.length===0&&(w.endEmitted=!0,v.readable=!1,v.emit("end"),w.autoDestroy)){var V=v._writableState;(!V||V.autoDestroy&&V.finished)&&v.destroy()}}typeof Symbol=="function"&&(j.from=function(w,v){return S===void 0&&(S=Jn()),S(j,w,v)});function se(w,v){for(var V=0,ee=w.length;V<ee;V++)if(w[V]===v)return V;return-1}}),Hr=ae((e,t)=>{te(),t.exports=d;var r=gt().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,s=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=r.ERR_TRANSFORM_WITH_LENGTH_0,o=yt();it()(d,o);function f(_,E){var c=this._transformState;c.transforming=!1;var p=c.writecb;if(p===null)return this.emit("error",new s);c.writechunk=null,c.writecb=null,E!=null&&this.push(E),p(_);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function d(_){if(!(this instanceof d))return new d(_);o.call(this,_),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",y)}function y(){var _=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(E,c){g(_,E,c)}):g(this,null,null)}d.prototype.push=function(_,E){return this._transformState.needTransform=!1,o.prototype.push.call(this,_,E)},d.prototype._transform=function(_,E,c){c(new n("_transform()"))},d.prototype._write=function(_,E,c){var p=this._transformState;if(p.writecb=c,p.writechunk=_,p.writeencoding=E,!p.transforming){var m=this._readableState;(p.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},d.prototype._read=function(_){var E=this._transformState;E.writechunk!==null&&!E.transforming?(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform)):E.needTransform=!0},d.prototype._destroy=function(_,E){o.prototype._destroy.call(this,_,function(c){E(c)})};function g(_,E,c){if(E)return _.emit("error",E);if(c!=null&&_.push(c),_._writableState.length)throw new l;if(_._transformState.transforming)throw new a;return _.push(null)}}),Xn=ae((e,t)=>{te(),t.exports=n;var r=Hr();it()(n,r);function n(s){if(!(this instanceof n))return new n(s);r.call(this,s)}n.prototype._transform=function(s,a,l){l(null,s)}}),Qn=ae((e,t)=>{te();var r;function n(c){var p=!1;return function(){p||(p=!0,c.apply(void 0,arguments))}}var s=gt().codes,a=s.ERR_MISSING_ARGS,l=s.ERR_STREAM_DESTROYED;function o(c){if(c)throw c}function f(c){return c.setHeader&&typeof c.abort=="function"}function d(c,p,m,A){A=n(A);var b=!1;c.on("close",function(){b=!0}),r===void 0&&(r=ar()),r(c,{readable:p,writable:m},function(B){if(B)return A(B);b=!0,A()});var k=!1;return function(B){if(!b&&!k){if(k=!0,f(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();A(B||new l("pipe"))}}}function y(c){c()}function g(c,p){return c.pipe(p)}function _(c){return!c.length||typeof c[c.length-1]!="function"?o:c.pop()}function E(){for(var c=arguments.length,p=new Array(c),m=0;m<c;m++)p[m]=arguments[m];var A=_(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new a("streams");var b,k=p.map(function(B,M){var S=M<p.length-1,L=M>0;return d(B,S,L,function(R){b||(b=R),R&&k.forEach(y),!S&&(k.forEach(y),A(b))})});return p.reduce(g)}t.exports=E}),mt=ae((e,t)=>{te(),e=t.exports=Gr(),e.Stream=e,e.Readable=e,e.Writable=zr(),e.Duplex=yt(),e.Transform=Hr(),e.PassThrough=Xn(),e.finished=ar(),e.pipeline=Qn()}),Zn=ae((e,t)=>{te(),t.exports=r;function r(n,s){if(n&&s)return r(n)(s);if(typeof n!="function")throw new TypeError("need wrapper function");return Object.keys(n).forEach(function(l){a[l]=n[l]}),a;function a(){for(var l=new Array(arguments.length),o=0;o<l.length;o++)l[o]=arguments[o];var f=n.apply(this,l),d=l[l.length-1];return typeof f=="function"&&f!==d&&Object.keys(d).forEach(function(y){f[y]=d[y]}),f}}}),Kr=ae((e,t)=>{te();var r=Zn();t.exports=r(n),t.exports.strict=r(s),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})});function n(a){var l=function(){return l.called?l.value:(l.called=!0,l.value=a.apply(this,arguments))};return l.called=!1,l}function s(a){var l=function(){if(l.called)throw new Error(l.onceError);return l.called=!0,l.value=a.apply(this,arguments)},o=a.name||"Function wrapped with `once`";return l.onceError=o+" shouldn't be called more than once",l.called=!1,l}}),Yr=ae((e,t)=>{te();var r=Kr(),n=function(){},s=function(o){return o.setHeader&&typeof o.abort=="function"},a=function(o){return o.stdio&&Array.isArray(o.stdio)&&o.stdio.length===3},l=function(o,f,d){if(typeof f=="function")return l(o,null,f);f||(f={}),d=r(d||n);var y=o._writableState,g=o._readableState,_=f.readable||f.readable!==!1&&o.readable,E=f.writable||f.writable!==!1&&o.writable,c=!1,p=function(){o.writable||m()},m=function(){E=!1,_||d.call(o)},A=function(){_=!1,E||d.call(o)},b=function(L){d.call(o,L?new Error("exited with error code: "+L):null)},k=function(L){d.call(o,L)},B=function(){le.nextTick(M)},M=function(){if(!c){if(_&&!(g&&g.ended&&!g.destroyed))return d.call(o,new Error("premature close"));if(E&&!(y&&y.ended&&!y.destroyed))return d.call(o,new Error("premature close"))}},S=function(){o.req.on("finish",m)};return s(o)?(o.on("complete",m),o.on("abort",B),o.req?S():o.on("request",S)):E&&!y&&(o.on("end",p),o.on("close",p)),a(o)&&o.on("exit",b),o.on("end",A),o.on("finish",m),f.error!==!1&&o.on("error",k),o.on("close",B),function(){c=!0,o.removeListener("complete",m),o.removeListener("abort",B),o.removeListener("request",S),o.req&&o.req.removeListener("finish",m),o.removeListener("end",p),o.removeListener("close",p),o.removeListener("finish",m),o.removeListener("exit",b),o.removeListener("end",A),o.removeListener("error",k),o.removeListener("close",B)}};t.exports=l}),ei=ae(()=>{te()}),ti=ae((e,t)=>{te();var r=Kr(),n=Yr(),s=ei(),a=function(){},l=/^v?\.0/.test(le.version),o=function(c){return typeof c=="function"},f=function(c){return!l||!s?!1:(c instanceof(s.ReadStream||a)||c instanceof(s.WriteStream||a))&&o(c.close)},d=function(c){return c.setHeader&&o(c.abort)},y=function(c,p,m,A){A=r(A);var b=!1;c.on("close",function(){b=!0}),n(c,{readable:p,writable:m},function(B){if(B)return A(B);b=!0,A()});var k=!1;return function(B){if(!b&&!k){if(k=!0,f(c))return c.close(a);if(d(c))return c.abort();if(o(c.destroy))return c.destroy();A(B||new Error("stream was destroyed"))}}},g=function(c){c()},_=function(c,p){return c.pipe(p)},E=function(){var c=Array.prototype.slice.call(arguments),p=o(c[c.length-1]||a)&&c.pop()||a;if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new Error("pump requires two streams per minimum");var m,A=c.map(function(b,k){var B=k<c.length-1,M=k>0;return y(b,B,M,function(S){m||(m=S),S&&A.forEach(g),!B&&(A.forEach(g),p(m))})});return c.reduce(_)};t.exports=E}),ri=ae((e,t)=>{te(),t.exports=r;function r(s){var a=s._readableState;return a?a.objectMode||typeof s._duplexState=="number"?s.read():s.read(n(a)):null}function n(s){return s.buffer.length?s.buffer.head?s.buffer.head.data.length:s.buffer[0].length:s.length}}),ni=ae((e,t)=>{te();var r=mt(),n=Yr(),s=it(),a=ri(),l=ie.Buffer.from&&ie.Buffer.from!==Uint8Array.from?ie.Buffer.from([0]):new ie.Buffer([0]),o=function(c,p){c._corked?c.once("uncork",p):p()},f=function(c,p){c._autoDestroy&&c.destroy(p)},d=function(c,p){return function(m){m?f(c,m.message==="premature close"?null:m):p&&!c._ended&&c.end()}},y=function(c,p){if(!c||c._writableState&&c._writableState.finished)return p();if(c._writableState)return c.end(p);c.end(),p()},g=function(){},_=function(c){return new r.Readable({objectMode:!0,highWaterMark:16}).wrap(c)},E=function(c,p,m){if(!(this instanceof E))return new E(c,p,m);r.Duplex.call(this,m),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!m||m.autoDestroy!==!1,this._forwardDestroy=!m||m.destroy!==!1,this._forwardEnd=!m||m.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,c&&this.setWritable(c),p&&this.setReadable(p)};s(E,r.Duplex),E.obj=function(c,p,m){return m||(m={}),m.objectMode=!0,m.highWaterMark=16,new E(c,p,m)},E.prototype.cork=function(){++this._corked===1&&this.emit("cork")},E.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},E.prototype.setWritable=function(c){if(this._unwrite&&this._unwrite(),this.destroyed){c&&c.destroy&&c.destroy();return}if(c===null||c===!1){this.end();return}var p=this,m=n(c,{writable:!0,readable:!1},d(this,this._forwardEnd)),A=function(){var k=p._ondrain;p._ondrain=null,k&&k()},b=function(){p._writable.removeListener("drain",A),m()};this._unwrite&&le.nextTick(A),this._writable=c,this._writable.on("drain",A),this._unwrite=b,this.uncork()},E.prototype.setReadable=function(c){if(this._unread&&this._unread(),this.destroyed){c&&c.destroy&&c.destroy();return}if(c===null||c===!1){this.push(null),this.resume();return}var p=this,m=n(c,{writable:!1,readable:!0},d(this)),A=function(){p._forward()},b=function(){p.push(null)},k=function(){p._readable2.removeListener("readable",A),p._readable2.removeListener("end",b),m()};this._drained=!0,this._readable=c,this._readable2=c._readableState?c:_(c),this._readable2.on("readable",A),this._readable2.on("end",b),this._unread=k,this._forward()},E.prototype._read=function(){this._drained=!0,this._forward()},E.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var c;this._drained&&(c=a(this._readable2))!==null;)this.destroyed||(this._drained=this.push(c));this._forwarding=!1}},E.prototype.destroy=function(c,p){if(p||(p=g),this.destroyed)return p(null);this.destroyed=!0;var m=this;le.nextTick(function(){m._destroy(c),p(null)})},E.prototype._destroy=function(c){if(c){var p=this._ondrain;this._ondrain=null,p?p(c):this.emit("error",c)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},E.prototype._write=function(c,p,m){if(!this.destroyed){if(this._corked)return o(this,this._write.bind(this,c,p,m));if(c===l)return this._finish(m);if(!this._writable)return m();this._writable.write(c)===!1?this._ondrain=m:this.destroyed||m()}},E.prototype._finish=function(c){var p=this;this.emit("preend"),o(this,function(){y(p._forwardEnd&&p._writable,function(){p._writableState.prefinished===!1&&(p._writableState.prefinished=!0),p.emit("prefinish"),o(p,c)})})},E.prototype.end=function(c,p,m){return typeof c=="function"?this.end(null,null,c):typeof p=="function"?this.end(c,null,p):(this._ended=!0,c&&this.write(c),!this._writableState.ending&&!this._writableState.destroyed&&this.write(l),r.Writable.prototype.end.call(this,m))},t.exports=E}),ii=ae((e,t)=>{te();var r=ti(),n=it(),s=ni(),a=function(o){return o.length?Array.isArray(o[0])?o[0]:Array.prototype.slice.call(o):[]},l=function(o){var f=function(){var d=a(arguments);if(!(this instanceof f))return new f(d);s.call(this,null,null,o),d.length&&this.setPipeline(d)};return n(f,s),f.prototype.setPipeline=function(){var d=a(arguments),y=this,g=!1,_=d[0],E=d[d.length-1];E=E.readable?E:null,_=_.writable?_:null;var c=function(){d[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",c),this.on("prefinish",function(){g||y.cork()}),r(d,function(p){if(y.removeListener("close",c),p)return y.destroy(p.message==="premature close"?null:p);g=!0,y._autoDestroy===!1&&(y._autoDestroy=!0),y.uncork()}),this.destroyed)return c();this.setWritable(_),this.setReadable(E)},f};t.exports=l({autoDestroy:!1,destroy:!1}),t.exports.obj=l({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16}),t.exports.ctor=l}),oi=ae(()=>{te()}),Jr=ae((e,t)=>{te(),function(r){typeof define<"u"&&define.amd?define([],function(){return n}):typeof t<"u"&&t.exports?t.exports=n:r.secureRandom=n;function n(l,o){if(o=o||{type:"Array"},typeof le<"u"&&typeof le.pid=="number"&&le.versions&&le.versions.node)return s(l,o);var f=window.crypto||window.msCrypto;if(!f)throw new Error("Your browser does not support window.crypto.");return a(l,o)}function s(l,o){var f=oi(),d=f.randomBytes(l);switch(o.type){case"Array":return[].slice.call(d);case"Buffer":return d;case"Uint8Array":for(var y=new Uint8Array(l),g=0;g<l;++g)y[g]=d.readUInt8(g);return y;default:throw new Error(o.type+" is unsupported.")}}function a(l,o){var f=new Uint8Array(l),d=window.crypto||window.msCrypto;switch(d.getRandomValues(f),o.type){case"Array":return[].slice.call(f);case"Buffer":try{var y=new ie.Buffer(1)}catch{throw new Error("Buffer not supported in this environment. Use Node.js or Browserify for browser support.")}return new ie.Buffer(f);case"Uint8Array":return f;default:throw new Error(o.type+" is unsupported.")}}n.randomArray=function(l){return n(l,{type:"Array"})},n.randomUint8Array=function(l){return n(l,{type:"Uint8Array"})},n.randomBuffer=function(l){return n(l,{type:"Buffer"})}}(e)}),Xr=ae((e,t)=>{te(),t.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},n=Symbol("test"),s=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var a=42;r[n]=a;for(n in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var l=Object.getOwnPropertySymbols(r);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(r,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(r,n);if(o.value!==a||o.enumerable!==!0)return!1}return!0}}),Wt=ae((e,t)=>{te();var r=Xr();t.exports=function(){return r()&&!!Symbol.toStringTag}}),ai=ae((e,t)=>{te();var r=typeof Symbol<"u"&&Symbol,n=Xr();t.exports=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:n()}}),si=ae((e,t)=>{te();var r="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,s=Object.prototype.toString,a="[object Function]";t.exports=function(l){var o=this;if(typeof o!="function"||s.call(o)!==a)throw new TypeError(r+o);for(var f=n.call(arguments,1),d,y=function(){if(this instanceof d){var p=o.apply(this,f.concat(n.call(arguments)));return Object(p)===p?p:this}else return o.apply(l,f.concat(n.call(arguments)))},g=Math.max(0,o.length-f.length),_=[],E=0;E<g;E++)_.push("$"+E);if(d=Function("binder","return function ("+_.join(",")+"){ return binder.apply(this,arguments); }")(y),o.prototype){var c=function(){};c.prototype=o.prototype,d.prototype=new c,c.prototype=null}return d}}),sr=ae((e,t)=>{te();var r=si();t.exports=Function.prototype.bind||r}),li=ae((e,t)=>{te();var r=sr();t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)}),lr=ae((e,t)=>{te();var r,n=SyntaxError,s=Function,a=TypeError,l=function(j){try{return s('"use strict"; return ('+j+").constructor;")()}catch{}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch{o=null}var f=function(){throw new a},d=o?function(){try{return arguments.callee,f}catch{try{return o(arguments,"callee").get}catch{return f}}}():f,y=ai()(),g=Object.getPrototypeOf||function(j){return j.__proto__},_={},E=typeof Uint8Array>"u"?r:g(Uint8Array),c={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":y?g([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":_,"%AsyncGenerator%":_,"%AsyncGeneratorFunction%":_,"%AsyncIteratorPrototype%":_,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":_,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y?g(g([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!y?r:g(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!y?r:g(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y?g(""[Symbol.iterator]()):r,"%Symbol%":y?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":d,"%TypedArray%":E,"%TypeError%":a,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet},p=function j($){var Y;if($==="%AsyncFunction%")Y=l("async function () {}");else if($==="%GeneratorFunction%")Y=l("function* () {}");else if($==="%AsyncGeneratorFunction%")Y=l("async function* () {}");else if($==="%AsyncGenerator%"){var X=j("%AsyncGeneratorFunction%");X&&(Y=X.prototype)}else if($==="%AsyncIteratorPrototype%"){var ne=j("%AsyncGenerator%");ne&&(Y=g(ne.prototype))}return c[$]=Y,Y},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=sr(),b=li(),k=A.call(Function.call,Array.prototype.concat),B=A.call(Function.apply,Array.prototype.splice),M=A.call(Function.call,String.prototype.replace),S=A.call(Function.call,String.prototype.slice),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,R=/\\(\\)?/g,x=function(j){var $=S(j,0,1),Y=S(j,-1);if($==="%"&&Y!=="%")throw new n("invalid intrinsic syntax, expected closing `%`");if(Y==="%"&&$!=="%")throw new n("invalid intrinsic syntax, expected opening `%`");var X=[];return M(j,L,function(ne,de,ye,Se){X[X.length]=ye?M(Se,R,"$1"):de||ne}),X},W=function(j,$){var Y=j,X;if(b(m,Y)&&(X=m[Y],Y="%"+X[0]+"%"),b(c,Y)){var ne=c[Y];if(ne===_&&(ne=p(Y)),typeof ne>"u"&&!$)throw new a("intrinsic "+j+" exists, but is not available. Please file an issue!");return{alias:X,name:Y,value:ne}}throw new n("intrinsic "+j+" does not exist!")};t.exports=function(j,$){if(typeof j!="string"||j.length===0)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof $!="boolean")throw new a('"allowMissing" argument must be a boolean');var Y=x(j),X=Y.length>0?Y[0]:"",ne=W("%"+X+"%",$),de=ne.name,ye=ne.value,Se=!1,ue=ne.alias;ue&&(X=ue[0],B(Y,k([0,1],ue)));for(var we=1,fe=!0;we<Y.length;we+=1){var T=Y[we],N=S(T,0,1),q=S(T,-1);if((N==='"'||N==="'"||N==="`"||q==='"'||q==="'"||q==="`")&&N!==q)throw new n("property names with quotes must have matching quotes");if((T==="constructor"||!fe)&&(Se=!0),X+="."+T,de="%"+X+"%",b(c,de))ye=c[de];else if(ye!=null){if(!(T in ye)){if(!$)throw new a("base intrinsic for "+j+" exists, but the property is not available.");return}if(o&&we+1>=Y.length){var re=o(ye,T);fe=!!re,fe&&"get"in re&&!("originalValue"in re.get)?ye=re.get:ye=ye[T]}else fe=b(ye,T),ye=ye[T];fe&&!Se&&(c[de]=ye)}}return ye}}),ui=ae((e,t)=>{te();var r=sr(),n=lr(),s=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),l=n("%Reflect.apply%",!0)||r.call(a,s),o=n("%Object.getOwnPropertyDescriptor%",!0),f=n("%Object.defineProperty%",!0),d=n("%Math.max%");if(f)try{f({},"a",{value:1})}catch{f=null}t.exports=function(g){var _=l(r,a,arguments);if(o&&f){var E=o(_,"length");E.configurable&&f(_,"length",{value:1+d(0,g.length-(arguments.length-1))})}return _};var y=function(){return l(r,s,arguments)};f?f(t.exports,"apply",{value:y}):t.exports.apply=y}),ur=ae((e,t)=>{te();var r=lr(),n=ui(),s=n(r("String.prototype.indexOf"));t.exports=function(a,l){var o=r(a,!!l);return typeof o=="function"&&s(a,".prototype.")>-1?n(o):o}}),fi=ae((e,t)=>{te();var r=Wt()(),n=ur(),s=n("Object.prototype.toString"),a=function(f){return r&&f&&typeof f=="object"&&Symbol.toStringTag in f?!1:s(f)==="[object Arguments]"},l=function(f){return a(f)?!0:f!==null&&typeof f=="object"&&typeof f.length=="number"&&f.length>=0&&s(f)!=="[object Array]"&&s(f.callee)==="[object Function]"},o=function(){return a(arguments)}();a.isLegacyArguments=l,t.exports=o?a:l}),ci=ae((e,t)=>{te();var r=Object.prototype.toString,n=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=Wt()(),l=Object.getPrototypeOf,o=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch{}},f;t.exports=function(d){if(typeof d!="function")return!1;if(s.test(n.call(d)))return!0;if(!a){var y=r.call(d);return y==="[object GeneratorFunction]"}if(!l)return!1;if(typeof f>"u"){var g=o();f=g?l(g):!1}return l(d)===f}}),Qr=ae((e,t)=>{te();var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString;t.exports=function(s,a,l){if(n.call(a)!=="[object Function]")throw new TypeError("iterator must be a function");var o=s.length;if(o===+o)for(var f=0;f<o;f++)a.call(l,s[f],f,s);else for(var d in s)r.call(s,d)&&a.call(l,s[d],d,s)}}),Zr=ae((e,t)=>{te();var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n=typeof globalThis>"u"?Ze:globalThis;t.exports=function(){for(var s=[],a=0;a<r.length;a++)typeof n[r[a]]=="function"&&(s[s.length]=r[a]);return s}}),en=ae((e,t)=>{te();var r=lr(),n=r("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch{n=null}t.exports=n}),tn=ae((e,t)=>{te();var r=Qr(),n=Zr(),s=ur(),a=s("Object.prototype.toString"),l=Wt()(),o=typeof globalThis>"u"?Ze:globalThis,f=n(),d=s("Array.prototype.indexOf",!0)||function(p,m){for(var A=0;A<p.length;A+=1)if(p[A]===m)return A;return-1},y=s("String.prototype.slice"),g={},_=en(),E=Object.getPrototypeOf;l&&_&&E&&r(f,function(p){var m=new o[p];if(Symbol.toStringTag in m){var A=E(m),b=_(A,Symbol.toStringTag);if(!b){var k=E(A);b=_(k,Symbol.toStringTag)}g[p]=b.get}});var c=function(p){var m=!1;return r(g,function(A,b){if(!m)try{m=A.call(p)===b}catch{}}),m};t.exports=function(p){if(!p||typeof p!="object")return!1;if(!l||!(Symbol.toStringTag in p)){var m=y(a(p),8,-1);return d(f,m)>-1}return _?c(p):!1}}),hi=ae((e,t)=>{te();var r=Qr(),n=Zr(),s=ur(),a=s("Object.prototype.toString"),l=Wt()(),o=typeof globalThis>"u"?Ze:globalThis,f=n(),d=s("String.prototype.slice"),y={},g=en(),_=Object.getPrototypeOf;l&&g&&_&&r(f,function(p){if(typeof o[p]=="function"){var m=new o[p];if(Symbol.toStringTag in m){var A=_(m),b=g(A,Symbol.toStringTag);if(!b){var k=_(A);b=g(k,Symbol.toStringTag)}y[p]=b.get}}});var E=function(p){var m=!1;return r(y,function(A,b){if(!m)try{var k=A.call(p);k===b&&(m=k)}catch{}}),m},c=tn();t.exports=function(p){return c(p)?!l||!(Symbol.toStringTag in p)?d(a(p),8,-1):E(p):!1}}),di=ae(e=>{te();var t=fi(),r=ci(),n=hi(),s=tn();function a(U){return U.call.bind(U)}var l=typeof BigInt<"u",o=typeof Symbol<"u",f=a(Object.prototype.toString),d=a(Number.prototype.valueOf),y=a(String.prototype.valueOf),g=a(Boolean.prototype.valueOf);l&&(_=a(BigInt.prototype.valueOf));var _;o&&(E=a(Symbol.prototype.valueOf));var E;function c(U,xe){if(typeof U!="object")return!1;try{return xe(U),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=s;function p(U){return typeof Promise<"u"&&U instanceof Promise||U!==null&&typeof U=="object"&&typeof U.then=="function"&&typeof U.catch=="function"}e.isPromise=p;function m(U){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(U):s(U)||N(U)}e.isArrayBufferView=m;function A(U){return n(U)==="Uint8Array"}e.isUint8Array=A;function b(U){return n(U)==="Uint8ClampedArray"}e.isUint8ClampedArray=b;function k(U){return n(U)==="Uint16Array"}e.isUint16Array=k;function B(U){return n(U)==="Uint32Array"}e.isUint32Array=B;function M(U){return n(U)==="Int8Array"}e.isInt8Array=M;function S(U){return n(U)==="Int16Array"}e.isInt16Array=S;function L(U){return n(U)==="Int32Array"}e.isInt32Array=L;function R(U){return n(U)==="Float32Array"}e.isFloat32Array=R;function x(U){return n(U)==="Float64Array"}e.isFloat64Array=x;function W(U){return n(U)==="BigInt64Array"}e.isBigInt64Array=W;function j(U){return n(U)==="BigUint64Array"}e.isBigUint64Array=j;function $(U){return f(U)==="[object Map]"}$.working=typeof Map<"u"&&$(new Map);function Y(U){return typeof Map>"u"?!1:$.working?$(U):U instanceof Map}e.isMap=Y;function X(U){return f(U)==="[object Set]"}X.working=typeof Set<"u"&&X(new Set);function ne(U){return typeof Set>"u"?!1:X.working?X(U):U instanceof Set}e.isSet=ne;function de(U){return f(U)==="[object WeakMap]"}de.working=typeof WeakMap<"u"&&de(new WeakMap);function ye(U){return typeof WeakMap>"u"?!1:de.working?de(U):U instanceof WeakMap}e.isWeakMap=ye;function Se(U){return f(U)==="[object WeakSet]"}Se.working=typeof WeakSet<"u"&&Se(new WeakSet);function ue(U){return Se(U)}e.isWeakSet=ue;function we(U){return f(U)==="[object ArrayBuffer]"}we.working=typeof ArrayBuffer<"u"&&we(new ArrayBuffer);function fe(U){return typeof ArrayBuffer>"u"?!1:we.working?we(U):U instanceof ArrayBuffer}e.isArrayBuffer=fe;function T(U){return f(U)==="[object DataView]"}T.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&T(new DataView(new ArrayBuffer(1),0,1));function N(U){return typeof DataView>"u"?!1:T.working?T(U):U instanceof DataView}e.isDataView=N;var q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function re(U){return f(U)==="[object SharedArrayBuffer]"}function ge(U){return typeof q>"u"?!1:(typeof re.working>"u"&&(re.working=re(new q)),re.working?re(U):U instanceof q)}e.isSharedArrayBuffer=ge;function he(U){return f(U)==="[object AsyncFunction]"}e.isAsyncFunction=he;function O(U){return f(U)==="[object Map Iterator]"}e.isMapIterator=O;function P(U){return f(U)==="[object Set Iterator]"}e.isSetIterator=P;function D(U){return f(U)==="[object Generator]"}e.isGeneratorObject=D;function H(U){return f(U)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=H;function se(U){return c(U,d)}e.isNumberObject=se;function w(U){return c(U,y)}e.isStringObject=w;function v(U){return c(U,g)}e.isBooleanObject=v;function V(U){return l&&c(U,_)}e.isBigIntObject=V;function ee(U){return o&&c(U,E)}e.isSymbolObject=ee;function pe(U){return se(U)||w(U)||v(U)||V(U)||ee(U)}e.isBoxedPrimitive=pe;function ce(U){return typeof Uint8Array<"u"&&(fe(U)||ge(U))}e.isAnyArrayBuffer=ce,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(U){Object.defineProperty(e,U,{enumerable:!1,value:function(){throw new Error(U+" is not supported in userland")}})})}),pi=ae((e,t)=>{te(),t.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}}),yi=ae(e=>{te();var t=Object.getOwnPropertyDescriptors||function(T){for(var N=Object.keys(T),q={},re=0;re<N.length;re++)q[N[re]]=Object.getOwnPropertyDescriptor(T,N[re]);return q},r=/%[sdj%]/g;e.format=function(T){if(!M(T)){for(var N=[],q=0;q<arguments.length;q++)N.push(l(arguments[q]));return N.join(" ")}for(var q=1,re=arguments,ge=re.length,he=String(T).replace(r,function(D){if(D==="%%")return"%";if(q>=ge)return D;switch(D){case"%s":return String(re[q++]);case"%d":return Number(re[q++]);case"%j":try{return JSON.stringify(re[q++])}catch{return"[Circular]"}default:return D}}),O=re[q];q<ge;O=re[++q])b(O)||!x(O)?he+=" "+O:he+=" "+l(O);return he},e.deprecate=function(T,N){if(typeof le<"u"&&le.noDeprecation===!0)return T;if(typeof le>"u")return function(){return e.deprecate(T,N).apply(this,arguments)};var q=!1;function re(){if(!q){if(le.throwDeprecation)throw new Error(N);le.traceDeprecation?console.trace(N):console.error(N),q=!0}return T.apply(this,arguments)}return re};var n={},s=/^$/;le.env.NODE_DEBUG&&(a=le.env.NODE_DEBUG,a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i"));var a;e.debuglog=function(T){if(T=T.toUpperCase(),!n[T])if(s.test(T)){var N=le.pid;n[T]=function(){var q=e.format.apply(e,arguments);console.error("%s %d: %s",T,N,q)}}else n[T]=function(){};return n[T]};function l(T,N){var q={seen:[],stylize:f};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),A(N)?q.showHidden=N:N&&e._extend(q,N),L(q.showHidden)&&(q.showHidden=!1),L(q.depth)&&(q.depth=2),L(q.colors)&&(q.colors=!1),L(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=o),y(q,T,q.depth)}e.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(T,N){var q=l.styles[N];return q?"\x1B["+l.colors[q][0]+"m"+T+"\x1B["+l.colors[q][1]+"m":T}function f(T,N){return T}function d(T){var N={};return T.forEach(function(q,re){N[q]=!0}),N}function y(T,N,q){if(T.customInspect&&N&&$(N.inspect)&&N.inspect!==e.inspect&&!(N.constructor&&N.constructor.prototype===N)){var re=N.inspect(q,T);return M(re)||(re=y(T,re,q)),re}var ge=g(T,N);if(ge)return ge;var he=Object.keys(N),O=d(he);if(T.showHidden&&(he=Object.getOwnPropertyNames(N)),j(N)&&(he.indexOf("message")>=0||he.indexOf("description")>=0))return _(N);if(he.length===0){if($(N)){var P=N.name?": "+N.name:"";return T.stylize("[Function"+P+"]","special")}if(R(N))return T.stylize(RegExp.prototype.toString.call(N),"regexp");if(W(N))return T.stylize(Date.prototype.toString.call(N),"date");if(j(N))return _(N)}var D="",H=!1,se=["{","}"];if(m(N)&&(H=!0,se=["[","]"]),$(N)){var w=N.name?": "+N.name:"";D=" [Function"+w+"]"}if(R(N)&&(D=" "+RegExp.prototype.toString.call(N)),W(N)&&(D=" "+Date.prototype.toUTCString.call(N)),j(N)&&(D=" "+_(N)),he.length===0&&(!H||N.length==0))return se[0]+D+se[1];if(q<0)return R(N)?T.stylize(RegExp.prototype.toString.call(N),"regexp"):T.stylize("[Object]","special");T.seen.push(N);var v;return H?v=E(T,N,q,O,he):v=he.map(function(V){return c(T,N,q,O,V,H)}),T.seen.pop(),p(v,D,se)}function g(T,N){if(L(N))return T.stylize("undefined","undefined");if(M(N)){var q="'"+JSON.stringify(N).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return T.stylize(q,"string")}if(B(N))return T.stylize(""+N,"number");if(A(N))return T.stylize(""+N,"boolean");if(b(N))return T.stylize("null","null")}function _(T){return"["+Error.prototype.toString.call(T)+"]"}function E(T,N,q,re,ge){for(var he=[],O=0,P=N.length;O<P;++O)Se(N,String(O))?he.push(c(T,N,q,re,String(O),!0)):he.push("");return ge.forEach(function(D){D.match(/^\d+$/)||he.push(c(T,N,q,re,D,!0))}),he}function c(T,N,q,re,ge,he){var O,P,D;if(D=Object.getOwnPropertyDescriptor(N,ge)||{value:N[ge]},D.get?D.set?P=T.stylize("[Getter/Setter]","special"):P=T.stylize("[Getter]","special"):D.set&&(P=T.stylize("[Setter]","special")),Se(re,ge)||(O="["+ge+"]"),P||(T.seen.indexOf(D.value)<0?(b(q)?P=y(T,D.value,null):P=y(T,D.value,q-1),P.indexOf(`
`)>-1&&(he?P=P.split(`
`).map(function(H){return"  "+H}).join(`
`).substr(2):P=`
`+P.split(`
`).map(function(H){return"   "+H}).join(`
`))):P=T.stylize("[Circular]","special")),L(O)){if(he&&ge.match(/^\d+$/))return P;O=JSON.stringify(""+ge),O.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.substr(1,O.length-2),O=T.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=T.stylize(O,"string"))}return O+": "+P}function p(T,N,q){var re=0,ge=T.reduce(function(he,O){return re++,O.indexOf(`
`)>=0&&re++,he+O.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ge>60?q[0]+(N===""?"":N+`
 `)+" "+T.join(`,
  `)+" "+q[1]:q[0]+N+" "+T.join(", ")+" "+q[1]}e.types=di();function m(T){return Array.isArray(T)}e.isArray=m;function A(T){return typeof T=="boolean"}e.isBoolean=A;function b(T){return T===null}e.isNull=b;function k(T){return T==null}e.isNullOrUndefined=k;function B(T){return typeof T=="number"}e.isNumber=B;function M(T){return typeof T=="string"}e.isString=M;function S(T){return typeof T=="symbol"}e.isSymbol=S;function L(T){return T===void 0}e.isUndefined=L;function R(T){return x(T)&&X(T)==="[object RegExp]"}e.isRegExp=R,e.types.isRegExp=R;function x(T){return typeof T=="object"&&T!==null}e.isObject=x;function W(T){return x(T)&&X(T)==="[object Date]"}e.isDate=W,e.types.isDate=W;function j(T){return x(T)&&(X(T)==="[object Error]"||T instanceof Error)}e.isError=j,e.types.isNativeError=j;function $(T){return typeof T=="function"}e.isFunction=$;function Y(T){return T===null||typeof T=="boolean"||typeof T=="number"||typeof T=="string"||typeof T=="symbol"||typeof T>"u"}e.isPrimitive=Y,e.isBuffer=pi();function X(T){return Object.prototype.toString.call(T)}function ne(T){return T<10?"0"+T.toString(10):T.toString(10)}var de=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ye(){var T=new Date,N=[ne(T.getHours()),ne(T.getMinutes()),ne(T.getSeconds())].join(":");return[T.getDate(),de[T.getMonth()],N].join(" ")}e.log=function(){console.log("%s - %s",ye(),e.format.apply(e,arguments))},e.inherits=it(),e._extend=function(T,N){if(!N||!x(N))return T;for(var q=Object.keys(N),re=q.length;re--;)T[q[re]]=N[q[re]];return T};function Se(T,N){return Object.prototype.hasOwnProperty.call(T,N)}var ue=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(T){if(typeof T!="function")throw new TypeError('The "original" argument must be of type Function');if(ue&&T[ue]){var N=T[ue];if(typeof N!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(N,ue,{value:N,enumerable:!1,writable:!1,configurable:!0}),N}function N(){for(var q,re,ge=new Promise(function(P,D){q=P,re=D}),he=[],O=0;O<arguments.length;O++)he.push(arguments[O]);he.push(function(P,D){P?re(P):q(D)});try{T.apply(this,he)}catch(P){re(P)}return ge}return Object.setPrototypeOf(N,Object.getPrototypeOf(T)),ue&&Object.defineProperty(N,ue,{value:N,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(N,t(T))},e.promisify.custom=ue;function we(T,N){if(!T){var q=new Error("Promise was rejected with a falsy value");q.reason=T,T=q}return N(T)}function fe(T){if(typeof T!="function")throw new TypeError('The "original" argument must be of type Function');function N(){for(var q=[],re=0;re<arguments.length;re++)q.push(arguments[re]);var ge=q.pop();if(typeof ge!="function")throw new TypeError("The last argument must be of type Function");var he=this,O=function(){return ge.apply(he,arguments)};T.apply(this,q).then(function(P){le.nextTick(O.bind(null,null,P))},function(P){le.nextTick(we.bind(null,P,O))})}return Object.setPrototypeOf(N,Object.getPrototypeOf(T)),Object.defineProperties(N,t(T)),N}e.callbackify=fe}),gi=ae((e,t)=>{te();var r=mt(),n=yi(),s=r.Transform;function a(l){if(!(this instanceof a))return new a(l);this._toSkip=l.skip,s.call(this,l)}n.inherits(a,s),a.prototype._transform=function(l,o,f){this._toSkip==0?this.push(l):this._toSkip>l.length?this._toSkip-=l.length:(this._toSkip!==l.length&&this.push(l.slice(this._toSkip)),this._toSkip=0),f()},t.exports=a});te();te();var rn=$e(mt(),1),nn=$e(ii(),1);te();var on=$e(mt(),1);function an(e,t){let r=[],n;e.on("data",s=>r.push(s)),e.on("end",()=>{n||(n=!0,t(null,ie.Buffer.concat(r)))}),e.on("error",s=>{n||(n=!0,t(s))})}function sn(e){let t;return new on.Transform({transform(r,n,s){t&&(r=ie.Buffer.concat([t,r]));let a=Math.floor(r.length/e)*e;a?r.length>a?(t=r.slice(a),this.push(r.slice(0,a))):(t=void 0,this.push(r)):t=t?ie.Buffer.concat([t,r]):r,s()},flush(r){t&&this.push(t),r()}})}function mi(e,t){let r=[],n=0;return new on.Transform({transform(s,a,l){r.push(s),n+=s.length,l()},flush(s){t(n);function a(){for(;r.length;)if(!e.write(r.shift()))return e.once("drain",a);e.end(),s()}a()}})}function Ce(e){let t,r=new Promise((n,s)=>{t=(a,l)=>{a?s(a):n(l)}});return e&&r.then(n=>e(null,n),e),[t,r]}var bi=$e(Jr(),1);te();te();var fr=class{constructor(e){this._tables[0][0][0]||this._precompute();let t,r,n,s,a,l=this._tables[0][4],o=this._tables[1],f=e.length,d=1;if(f!==4&&f!==6&&f!==8)throw new Error("invalid aes key size");for(this._key=[s=e.slice(0),a=[]],t=f;t<4*f+28;t++)n=s[t-1],(t%f===0||f===8&&t%f===4)&&(n=l[n>>>24]<<24^l[n>>16&255]<<16^l[n>>8&255]<<8^l[n&255],t%f===0&&(n=n<<8^n>>>24^d<<24,d=d<<1^(d>>7)*283)),s[t]=s[t-f]^n;for(r=0;t;r++,t--)n=s[r&3?t:t-4],t<=4||r<4?a[r]=n:a[r]=o[0][l[n>>>24]]^o[1][l[n>>16&255]]^o[2][l[n>>8&255]]^o[3][l[n&255]]}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){let e=this._tables[0],t=this._tables[1],r=e[4],n=t[4],s,a,l,o=[],f=[],d,y,g,_,E,c;for(s=0;s<256;s++)f[(o[s]=s<<1^(s>>7)*283)^s]=s;for(a=l=0;!r[a];a^=d||1,l=f[l]||1)for(_=l^l<<1^l<<2^l<<3^l<<4,_=_>>8^_&255^99,r[a]=_,n[_]=a,g=o[y=o[d=o[a]]],c=g*16843009^y*65537^d*257^a*16843008,E=o[_]*257^_*16843008,s=0;s<4;s++)e[s][a]=E=E<<24^E>>>8,t[s][_]=c=c<<24^c>>>8;for(s=0;s<5;s++)e[s]=e[s].slice(0),t[s]=t[s].slice(0)}_crypt(e,t){if(e.length!==4)throw new Error("invalid aes block size");let r=this._key[t],n=e[0]^r[0],s=e[t?3:1]^r[1],a=e[2]^r[2],l=e[t?1:3]^r[3],o,f,d,y=r.length/4-2,g,_=4,E=[0,0,0,0],c=this._tables[t],p=c[0],m=c[1],A=c[2],b=c[3],k=c[4];for(g=0;g<y;g++)o=p[n>>>24]^m[s>>16&255]^A[a>>8&255]^b[l&255]^r[_],f=p[s>>>24]^m[a>>16&255]^A[l>>8&255]^b[n&255]^r[_+1],d=p[a>>>24]^m[l>>16&255]^A[n>>8&255]^b[s&255]^r[_+2],l=p[l>>>24]^m[n>>16&255]^A[s>>8&255]^b[a&255]^r[_+3],_+=4,n=o,s=f,a=d;for(g=0;g<4;g++)E[t?3&-g:g]=k[n>>>24]<<24^k[s>>16&255]<<16^k[a>>8&255]<<8^k[l&255]^r[_++],o=n,n=s,s=a,a=l,l=o;return E}};fr.prototype._tables=[[[],[],[],[],[]],[[],[],[],[],[]]];function wi(e){let t,r,n,s=[2479122403,2108737444,3518906241,22203222],a=ie.Buffer.alloc(Math.ceil(e.length/4)*4);for(a.set(e,0),n=65536;n--;)for(r=0;r<e.length;r+=16){let o=[0,0,0,0];for(t=0;t<16;t+=4)t+r<e.length&&(o[t/4]=a.readInt32BE(t+r));s=new fr(o).encrypt(s)}let l=ie.Buffer.allocUnsafe(16);for(t=0;t<4;t++)l.writeInt32BE(s[t],t*4);return l}function vi(e,t,r){let n=ie.Buffer.from(t.s,"base64"),s=1e5,a="SHA-512";window.crypto.subtle.importKey("raw",e,"PBKDF2",!1,["deriveKey","deriveBits"]).then(l=>window.crypto.subtle.deriveBits({name:"PBKDF2",salt:n,iterations:s,hash:{name:a}},l,256)).then(l=>{r(null,ie.Buffer.from(l))}).catch(r)}var ze=class{constructor(e){if(e.length!==16)throw Error("Wrong key length. Key must be 128bit.");let t=[];for(let r=0;r<4;r++)t[r]=e.readInt32BE(r*4);this.aes=new fr(t)}encryptCBC(e){let t=[0,0,0,0],r=Array(4),n,s;for(n=0;n<e.length;n+=16){for(s=0;s<4;s++)r[s]=e.readUInt32BE(n+s*4)^t[s];for(t=this.aes.encrypt(r),s=0;s<4;s++)e.writeInt32BE(t[s],n+s*4)}}decryptCBC(e){let t=[0,0,0,0],r=Array(4),n=Array(4),s,a;for(s=0;s<e.length;s+=16){for(a=0;a<4;a++)r[a]=e.readUInt32BE(s+a*4);for(n=r,r=this.aes.decrypt(r),a=0;a<4;a++)e.writeInt32BE(r[a]^t[a],s+a*4);t=n}}stringhash(e){let t=[0,0,0,0];for(let n=0;n<e.length;n+=4)if(e.length-n<4){let s=e.length-n;t[n/4&3]^=e.readIntBE(n,s)<<(4-s)*8}else t[n/4&3]^=e.readInt32BE(n);for(let n=16384;n--;)t=this.aes.encrypt(t);let r=ie.Buffer.allocUnsafe(8);return r.writeInt32BE(t[0],0),r.writeInt32BE(t[2],4),r}encryptECB(e){let t=[];for(let r=0;r<e.length;r+=16)t[0]=e.readInt32BE(r),t[1]=e.readInt32BE(r+4),t[2]=e.readInt32BE(r+8),t[3]=e.readInt32BE(r+12),t=this.aes.encrypt(t),e.writeInt32BE(t[0],r),e.writeInt32BE(t[1],r+4),e.writeInt32BE(t[2],r+8),e.writeInt32BE(t[3],r+12);return e}decryptECB(e){let t=[];for(let r=0;r<e.length;r+=16)t[0]=e.readInt32BE(r),t[1]=e.readInt32BE(r+4),t[2]=e.readInt32BE(r+8),t[3]=e.readInt32BE(r+12),t=this.aes.decrypt(t),e.writeInt32BE(t[0],r),e.writeInt32BE(t[1],r+4),e.writeInt32BE(t[2],r+8),e.writeInt32BE(t[3],r+12);return e}},ln=class{constructor(e,t,r=0){this.aes=e,this.nonce=t.slice(0,8),this.increment=131072,this.posNext=this.increment,this.pos=0,this.ctr=ie.Buffer.alloc(16),this.nonce.copy(this.ctr,0),this.incrementCTR(r/16)}encrypt(e){for(let t=0;t<e.length;t+=16){let r=this.aes.encryptECB(ie.Buffer.from(this.ctr));for(let n=0;n<16;n++)e[t+n]^=r[n];this.incrementCTR()}return e}decrypt(e){for(let t=0;t<e.length;t+=16){let r=this.aes.encryptECB(ie.Buffer.from(this.ctr));for(let n=0;n<16;n++)e[t+n]^=r[n];this.incrementCTR()}return e}incrementCTR(e=1){let t=this.ctr,r=15,n;for(;e!==0;)n=(e+t[r])%256,e=Math.floor((e+t[r])/256),t[r]=n,r-=1,r<0&&(r=15)}},un=class{constructor(e,t,r=0){this.aes=e,this.nonce=t.slice(0,8),this.increment=131072,this.posNext=this.increment,this.pos=0,this.mac=ie.Buffer.alloc(16),this.nonce.copy(this.mac,0),this.nonce.copy(this.mac,8),this.macs=[]}condense(){this.mac&&(this.macs.push(this.mac),this.mac=void 0);let e=ie.Buffer.alloc(16);for(let r=0;r<this.macs.length;r++){for(let n=0;n<16;n++)e[n]^=this.macs[r][n];this.aes.encryptECB(e)}let t=ie.Buffer.allocUnsafe(8);return t.writeInt32BE(e.readInt32BE(0)^e.readInt32BE(4),0),t.writeInt32BE(e.readInt32BE(8)^e.readInt32BE(12),4),t}update(e){for(let t=0;t<e.length;t+=16){for(let r=0;r<16;r++)this.mac[r]^=e[t+r];this.aes.encryptECB(this.mac),this.checkBounding()}}checkBounding(){this.pos+=16,this.pos>=this.posNext&&(this.macs.push(ie.Buffer.from(this.mac)),this.nonce.copy(this.mac,0),this.nonce.copy(this.mac,8),this.increment<1048576&&(this.increment+=131072),this.posNext+=this.increment)}};function We(e){return typeof e=="string"?cr(e):e}function Oe(e){return e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function cr(e){return ie.Buffer.from(e,"base64")}function st(e){return new ze(fn(e).slice(0,16))}function _i(e,t={}){let r=t.start||0;if(r!==0)throw Error("Encryption cannot start midstream otherwise MAC verification will fail.");e=We(e),e||(e=(0,bi.default)(24)),e instanceof ie.Buffer||(e=ie.Buffer.from(e));let n=new rn.Transform({transform(o,f,d){l.update(o);let y=a.encrypt(o);d(null,ie.Buffer.from(y))},flush(o){n.mac=l.condense(),n.key=Si(e,n.mac),o()}});if(e.length!==24)throw Error("Wrong key length. Key must be 192bit.");let s=new ze(e.slice(0,16)),a=new ln(s,e.slice(16),r),l=new un(s,e.slice(16));return n=(0,nn.default)(sn(16),n),n}function Ei(e,t={}){let r=t.start||0;if(r!==0&&(t.disableVerification=!0),r%16!==0)throw Error("start argument of megaDecrypt must be a multiple of 16");e=We(e),e instanceof ie.Buffer||(e=ie.Buffer.from(e));let n=st(e),s=new ln(n,e.slice(16),r),a=!t.disableVerification&&new un(n,e.slice(16)),l=new rn.Transform({transform(o,f,d){let y=s.decrypt(o);a&&a.update(y),d(null,ie.Buffer.from(y))},flush(o){if(a&&(l.mac=a.condense()),!t.disableVerification&&!l.mac.equals(e.slice(24))){o(Error("MAC verification failed"));return}o()}});return l=(0,nn.default)(sn(16),l),l}function fn(e){let t=ie.Buffer.alloc(32);e.copy(t);for(let r=0;r<16;r++)t.writeUInt8(t.readUInt8(r)^t.readUInt8(16+r,!0),r);return t}function Si(e,t){let r=ie.Buffer.alloc(32);e.copy(r),t.copy(r,24);for(let n=0;n<16;n++)r.writeUInt8(r.readUInt8(n)^r.readUInt8(16+n),n);return r}function Ai(e,t){if(e.length!==t.length)return!1;let r=e.length,n=0;for(let s=0;s<r;s++)n|=e[s]^t[s];return n===0}te();te();var Ge={},ki=Math.log(2);function Ot(e){let t=[];for(;e-- >0;)t[e]=0;return t}function Bt(e){let t=e.length;if(e[t-1])return e;for(;t>1&&e[t-1]===0;)t--;return e.slice(0,t)}function Ii(e){let t=1,r;return(r=e>>>16)!==0&&(e=r,t+=16),(r=e>>8)!==0&&(e=r,t+=8),(r=e>>4)!==0&&(e=r,t+=4),(r=e>>2)!==0&&(e=r,t+=2),(r=e>>1)!==0&&(e=r,t+=1),t}function cn(e,t){let r=e.length,n=t.length;if(r<n)return cn(t,e);let s=[],a=0,l=0;for(;l<n;l++)a+=e[l]+t[l],s[l]=a&268435455,a>>>=28;for(;l<r;l++)a+=e[l],s[l]=a&268435455,a>>>=28;return a&&(s[l]=a),s}function Fe(e,t){let r=e.length,n=t.length;if(n>r)return[];if(n===r){if(t[n-1]>e[n-1])return[];if(n===1)return[e[0]-t[0]]}let s=[],a=0,l;for(l=0;l<n;l++)a+=e[l]-t[l],s[l]=a&268435455,a>>=28;for(;l<r;l++)a+=e[l],s[l]=a&268435455,a>>=28;return a?[]:Bt(s)}function Qt(e,t,r,n,s){let a=r&16383,l=r>>14,o=n&16383,f=n>>14,d=l*o+f*a,y=a*o+((d&16383)<<14)+e[t]+s;return e[t]=y&268435455,s=l*f+(d>>14)+(y>>28),s}function Oi(e){let t=e.length,r=2*t,n=Ot(r),s=0,a,l;for(a=0;a<t;a++){for(s=Qt(n,2*a,e[a],e[a],0),l=a+1;l<t;l++)s=Qt(n,a+l,2*e[l],e[a],s);n[a+t]=s}return Bt(n)}function Xe(e,t){let r=e.length,n=t.length,s=Ot(r+n-1),a,l,o;for(l=0;l<n;l++){for(a=0,o=0;o<r;o++)a=Qt(s,l+o,e[o],t[l],a);s[l+r]=a}return Bt(s)}function vt(e,t,r){let n=0;for(;t>=0&&r-- >0;)n=n*268435456+e[t--];return n}function hn(e,t){let r=e.length-1,n=t.length-1,s=r-n,a,l,o,f;if(r<n||r===n&&(e[r]<t[r]||r>0&&e[r]===t[r]&&e[r-1]<t[r-1]))return Ge.q=[0],Ge.mod=e,Ge;if(r===n&&vt(e,n,2)/vt(t,n,2)<4){for(a=e.concat(),l=0;o=Fe(a,t),o.length!==0;)a=o,l++;return Ge.q=[l],Ge.mod=a,Ge}let d=Math.floor(Math.log(t[n])/ki)+1,y=28-d;a=e.concat();let g=t.concat();if(y){for(f=n;f>0;f--)g[f]=g[f]<<y&268435455|g[f-1]>>d;for(g[0]=g[0]<<y&268435455,a[r]&(268435455<<d&268435455)&&(a[++r]=0,s++),f=r;f>0;f--)a[f]=a[f]<<y&268435455|a[f-1]>>d;a[0]=a[0]<<y&268435455}let _,E=Ot(s+1),c=Ot(s).concat(g);for(;_=Fe(a,c),_.length!==0;)E[s]++,a=_;let p=g[n],m=vt(g,n,2),A;for(f=r;f>n;f--){A=f-n-1,f>=a.length?E[A]=1:a[f]===p?E[A]=268435455:E[A]=Math.floor(vt(a,f,2)/p);let b=vt(a,f,3);for(;E[A]*m>b;)E[A]--;c=c.slice(1),_=Fe(a,Xe([E[A]],c)),_.length===0&&(E[A]--,_=Fe(a,Xe([E[A]],c))),a=_}if(y){for(f=0;f<a.length-1;f++)a[f]=a[f]>>y|a[f+1]<<d&268435455;a[a.length-1]>>=y}return Ge.q=Bt(E),Ge.mod=Bt(a),Ge}function Bi(e,t){let r=0,n;for(let s=e.length-1;s>=0;s--)n=e[s],r=((n>>14)+(r<<14))%t,r=((n&16383)+(r<<14))%t;return r}function ct(e,t){if(t.length===1){if(e.length===1)return[e[0]%t[0]];if(t[0]<16383)return[Bi(e,t[0])]}return hn(e,t).mod}function St(e,t,r){let n=e.length-(t.length<<1);if(n>0)return St(e.slice(0,n).concat(St(e.slice(n),t,r)),t,r);let s=t.length+1,a=t.length-1,l,o=Xe(e.slice(a),r).slice(s),f=e.slice(0,s),d=Xe(o,t).slice(0,s),y=Fe(f,d);y.length===0&&(f[s]=1,y=Fe(f,d));for(let g=0;l=Fe(y,t),l.length!==0;g++)if(y=l,g>=3)return St(y,t,r);return y}function br(e,t,r){let n=e.concat(),s=t.length-1,a=r.length*2,l=Ot(a+1);for(l[a]=1,l=hn(l,r).q,a=Ii(t[s])-2;s>=0;s--){for(;a>=0;a-=1)n=St(Oi(n),r,l),t[s]&1<<a&&(n=St(Xe(n,e),r,l));a=28-1}return n}function Ri(e,t,r,n,s){let a=br(ct(e,r),ct(t,Fe(r,[1])),r),l=br(ct(e,n),ct(t,Fe(n,[1])),n),o=Fe(l,a);return o.length===0?(o=Fe(a,l),o=ct(Xe(o,s),n),o=Fe(n,o)):o=ct(Xe(o,s),n),cn(Xe(o,r),a)}function dn(e){let t=1,r=[0],n=0,s=256,a=e.length,l;if(a<2)return 0;let o=(a-2)*8,f=e.charCodeAt(0)*256+e.charCodeAt(1);if(f>o||f<o-8)return 0;for(let d=0;d<o;d++)(s<<=1)>255&&(s=1,l=e.charCodeAt(--a)),t>268435455&&(t=1,r[++n]=0),l&s&&(r[n]|=t),t<<=1;return r}function Ti(e){let t=1,r=0,n=[0],s=1,a=0,l=e.length*28,o="",f;for(f=0;f<l;f++)e[r]&t&&(n[a]|=s),(s<<=1)>255&&(s=1,n[++a]=0),(t<<=1)>268435455&&(t=1,r++);for(;a>=0&&n[a]===0;)a--;for(f=0;f<=a;f++)o=String.fromCharCode(n[f])+o;return o}function Li(e){let t=[];for(let r=0;r<4;r++){let n=(e[0]*256+e[1]+7>>3)+2;if(t[r]=dn(e.toString("binary").substr(0,n)),typeof t[r]=="number"){if(r!==4||e.length>=16)return!1;break}e=e.slice(n)}return t}function Pi(e,t){let r=dn(e.toString("binary")),n=Ti(Ri(r,t[2],t[0],t[1],t[3]));return ie.Buffer.from(n,"binary")}te();var Ci=$e(Tt(),1);te();var ji=null;te();var Mi=globalThis.fetch,Ui=Mi;te();var Ni=globalThis.AbortController||ji,Zt=Ni,er=4,wr={1:"EINTERNAL (-1): An internal error has occurred. Please submit a bug report, detailing the exact circumstances in which this error occurred.",2:"EARGS (-2): You have passed invalid arguments to this command.",3:"EAGAIN (-3): A temporary congestion or server malfunction prevented your request from being processed. No data was altered. Retried "+er+" times.",4:"ERATELIMIT (-4): You have exceeded your command weight per time quota. Please wait a few seconds, then try again (this should never happen in sane real-life applications).",5:"EFAILED (-5): The upload failed. Please restart it from scratch.",6:"ETOOMANY (-6): Too many concurrent IP addresses are accessing this upload target URL.",7:"ERANGE (-7): The upload file packet is out of range or not starting and ending on a chunk boundary.",8:"EEXPIRED (-8): The upload target URL you are trying to access has expired. Please request a fresh one.",9:"ENOENT (-9): Object (typically, node or user) not found. Wrong password?",10:"ECIRCULAR (-10): Circular linkage attempted",11:"EACCESS (-11): Access violation (e.g., trying to write to a read-only share)",12:"EEXIST (-12): Trying to create an object that already exists",13:"EINCOMPLETE (-13): Trying to access an incomplete resource",14:"EKEY (-14): A decryption operation failed (never returned by the API)",15:"ESID (-15): Invalid or expired user session, please relogin",16:"EBLOCKED (-16): User blocked",17:"EOVERQUOTA (-17): Request over quota",18:"ETEMPUNAVAIL (-18): Resource temporarily not available, please try again later",19:"ETOOMANYCONNECTIONS (-19)",24:"EGOINGOVERQUOTA (-24)",25:"EROLLEDBACK (-25)",26:"EMFAREQUIRED (-26): Multi-Factor Authentication Required",27:"EMASTERONLY (-27)",28:"EBUSINESSPASTDUE (-28)",29:"EPAYWALL (-29): ODQ paywall state",400:"ETOOERR (-400)",401:"ESHAREROVERQUOTA (-401)"},xi="https://g.api.mega.co.nz/",Di=null,Fi=null,_t=class extends Ci.EventEmitter{constructor(e,t={}){super(),this.keepalive=e,this.counterId=Math.random().toString().substr(2,10),this.gateway=t.gateway||xi;let r="1.1.2";this.userAgent=t.userAgent===null?null:`${t.userAgent||""} megajs/${r}`.trim(),this.httpAgent=t.httpAgent||Di,this.httpsAgent=t.httpsAgent||Fi,this.fetch=t.fetch||this.defaultFetch.bind(this),this.closed=!1}defaultFetch(e,t){return t||(t={}),t.agent||(t.agent=r=>r.protocol==="http:"?this.httpAgent:this.httpsAgent),this.userAgent&&(t.headers||(t.headers={}),t.headers["user-agent"]||(t.headers["user-agent"]=this.userAgent)),Ui(e,t)}request(e,t,r=0){let n=e.a==="sml";if(this.closed&&!n)throw Error("API is closed");let[s,a]=Ce(t),l={id:(this.counterId++).toString()};return this.sid&&(l.sid=this.sid),typeof e._querystring=="object"&&(Object.assign(l,e._querystring),delete e._querystring),this.fetch(`${this.gateway}cs?${new URLSearchParams(l)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([e])}).then(vr).then(o=>{if(this.closed&&!n)return;if(!o)return s(Error("Empty response"));o.length&&(o=o[0]);let f;if(typeof o=="number"&&o<0){if(o===-3&&r<er)return setTimeout(()=>{this.request(e,s,r+1)},Math.pow(2,r+1)*1e3);f=Error(wr[-o])}else this.keepalive&&o&&o.sn&&this.pull(o.sn);s(f,o)}).catch(o=>{s(o)}),a}pull(e,t=0){let r=new Zt;this.sn=r,this.fetch(`${this.gateway}sc?${new URLSearchParams({sn:e,sid:this.sid})}`,{method:"POST",signal:r.signal}).then(vr).then(n=>{if(this.sn=void 0,!this.closed){if(typeof n=="number"&&n<0){if(n===-3&&t<er)return setTimeout(()=>{this.pull(e,t+1)},Math.pow(2,t+1)*1e3);this.emit("error",Error(wr[-n]))}n.w?this.wait(n.w,e):n.sn&&(n.a&&this.emit("sc",n.a),this.pull(n.sn))}}).catch($i).catch(n=>{this.emit("error",n)})}wait(e,t){let r=new Zt;this.sn=r,this.fetch(e,{method:"POST",signal:r.signal}).catch(()=>{}).then(()=>{this.sn=void 0,this.pull(t)})}close(){this.sn&&this.sn.abort(),this.closed=!0}static getGlobalApi(){return _t.globalApi||(_t.globalApi=new _t),_t.globalApi}};function vr(e){if(e.statusText==="Server Too Busy")return-3;if(!e.ok)throw Error(`Server returned error: ${e.statusText}`);return e.json()}function $i(e){if(e.name!=="AbortError")throw e}var Dt=_t,Wi=$e(Tt(),1);te();te();var qi=$e(Tt(),1),Vi=$e(mt(),1),zi=$e(gi(),1),at=class extends qi.EventEmitter{constructor(e){if(super(),this.checkConstructorArgument(e.downloadId),this.checkConstructorArgument(e.key),this.checkConstructorArgument(e.loadedFile),this.downloadId=e.downloadId,this.key=e.key?We(e.key):null,this.type=e.directory?1:0,this.directory=!!e.directory,this.api=e.api||Dt.getGlobalApi(),!(this.api instanceof Dt))throw Error("api must be a instance of API");this.loadedFile=e.loadedFile}get createdAt(){if(typeof this.timestamp<"u")return this.timestamp*1e3}checkConstructorArgument(e){if(typeof e=="string"&&!/^[\w-]+$/.test(e))throw Error(`Invalid argument: "${e}"`)}loadMetadata(e,t){if(this.size=t.s||0,this.timestamp=t.ts||0,this.type=t.t,this.directory=!!t.t,this.owner=t.u,this.name=null,!e||!t.k)return;let r=t.k.split(":");this.key=We(r[r.length-1]),e.decryptECB(this.key),t.a&&this.decryptAttributes(t.a)}decryptAttributes(e){if(!this.key)return this;e=cr(e),st(this.key).decryptCBC(e);let t=at.unpackAttributes(e);t&&this.parseAttributes(t)}parseAttributes(e){this.attributes=e,this.name=e.n,this.label=pn[e.lbl||0],this.favorited=!!e.fav}loadAttributes(e){let[t,r]=Ce(e),n=this.directory?{a:"f",c:1,ca:1,r:1,_querystring:{n:this.downloadId}}:{a:"g",p:this.downloadId};return this.api.request(n,(s,a)=>{if(s)return t(s);if(this.directory){let l=Object.create(null),o=a.f,f=o.find(y=>y.k&&y.h===y.k.split(":")[0]),d=this.key?new ze(this.key):null;this.nodeId=f.h,this.timestamp=f.ts,l[f.h]=this;for(let y of o){if(y===f)continue;let g=new at(y,this.storage);g.loadMetadata(d,y),g.downloadId=[this.downloadId,y.h],l[y.h]=g}for(let y of o){let g=l[y.p];if(g){let _=l[y.h];g.children||(g.children=[]),g.children.push(_),_.parent=g}}if(this.loadMetadata(d,f),this.key&&!this.attributes)return t(Error("Attributes could not be decrypted with provided key."));if(this.loadedFile){let y=l[this.loadedFile];typeof y>"u"?t(Error("Node (file or folder) not found in folder")):t(null,y)}else t(null,this)}else{if(this.size=a.s,this.decryptAttributes(a.at),this.key&&!this.attributes)return t(Error("Attributes could not be decrypted with provided key."));t(null,this)}}),r}download(e,t){typeof e=="function"&&(t=e,e={}),e||(e={});let r=e.start||0,n=e.returnCiphertext?r:r-r%16,s=e.end||null,a=e.maxConnections||4,l=e.initialChunkSize||128*1024,o=e.chunkSizeIncrement||128*1024,f=e.maxChunkSize||1024*1024,d=e.forceHttps??!0?2:0,y={a:"g",g:1,ssl:d};if(this.nodeId?y.n=this.nodeId:Array.isArray(this.downloadId)?(y._querystring={n:this.downloadId[0]},y.n=this.downloadId[1]):y.p=this.downloadId,this.directory)throw Error("Can't download: folder download isn't supported");if(!this.key&&!e.returnCiphertext)throw Error("Can't download: key isn't defined");let g=this.key&&!e.returnCiphertext?Ei(this.key,{start:n,disableVerification:n!==0||s!==null}):new Vi.PassThrough,_=n===r?g:g.pipe(new zi.default({skip:r-n})),E=e.handleRetries||at.defaultHandleRetries;return this.api.request(y,(c,p)=>{if(c)return _.emit("error",c);if(typeof p.g!="string"||p.g.substr(0,4)!=="http")return _.emit("error",Error("MEGA servers returned an invalid response, maybe caused by rate limit"));if(p.s===0)return _.end();if(s||(s=p.s-1),r>s)return _.emit("error",Error("You can't download past the end of the file."));function m(j){if(j.status!==200){if(j.status===509){let $=j.headers.get("x-mega-time-left"),Y=Error("Bandwidth limit reached: "+$+" seconds until it resets");Y.timeLimit=$,_.emit("error",Y);return}_.emit("error",Error("MEGA returned a "+j.status+" status code"))}}function A(j){_.emit("error",j)}let b=0;if(_.on("data",j=>{b+=j.length,_.emit("progress",{bytesLoaded:b,bytesTotal:p.s})}),a===1){let j=new Zt;_.on("close",()=>{j.abort()}),this.api.fetch(p.g+"/"+n+"-"+s,{signal:j.signal}).then($=>{m($);let Y=$.body;if(Y)if(Y.pipe)$.body.pipe(g);else if(Y.getReader){let X=Y.getReader(),ne=({done:de,value:ye})=>{if(de)g.end();else return g.write(ye),X.read().then(ne)};X.read().then(ne)}else throw Error("Single connection streaming not supported by fetch");else throw Error("Missing response body")}).catch(A);return}let k={},B=0,M=0,S=!1,L=n,R=l;_.on("error",()=>{S=!0}),_.on("close",()=>{S=!0});let x=()=>{if(L>s){S=!0,B===M&&g.end();return}let j=L,$=Math.min(s,j+R-1),Y=B++,X=0,ne=()=>{X++,this.api.fetch(p.g+"/"+j+"-"+$).then(de=>(m(de),de.arrayBuffer())).then(de=>{let ye=ie.Buffer.from(de);k[Y]=ye,M===Y&&W()},de=>{E(X,de,ye=>{ye?A(ye):ne()})})};ne(),L=$+1,R<f&&(R=R+o)},W=()=>{let j;for(;;){let $=k[M];if(!$||(j=!g.write($),delete k[M],M++,j))break}S&&B===M&&g.end(),j?g.once("drain",W):x()};for(let j=0;j<a;j++)x()}),t&&an(_,t),_}downloadBuffer(e,t){let[r,n]=Ce(t);return this.download(e,r),n}link(e,t){arguments.length===1&&typeof e=="function"&&(t=e,e={noKey:!1});let[r,n]=Ce(t);typeof e=="boolean"&&(e={noKey:e});let s=`https://mega.nz/${this.directory?"folder":"file"}/${this.downloadId}`;return!e.noKey&&this.key&&(s+=`#${Oe(this.key)}`),!e.noKey&&this.loadedFile&&(s+=`/file/${this.loadedFile}`),r(null,s),n}static fromURL(e,t={}){if(typeof e=="object")return new at(e);let r=new URL(e);if(r.hostname!=="mega.nz"&&r.hostname!=="mega.co.nz")throw Error("Invalid URL: wrong hostname");if(!r.hash)throw Error("Invalid URL: no hash");if(r.pathname.match(/\/(file|folder)\//)!==null){let n=r.hash.substr(1).split("/file/"),s=r.pathname.substring(r.pathname.lastIndexOf("/")+1,r.pathname.length+1),a=n[0];if(s&&!a||!s&&a)throw Error("Invalid URL: too few arguments");return new at({downloadId:s,key:a,directory:r.pathname.indexOf("/folder/")>=0,loadedFile:n[1],...t})}else{let n=r.hash.split("!");if(n[0]!=="#"&&n[0]!=="#F")throw Error("Invalid URL: format not recognized");if(n.length<=1)throw Error("Invalid URL: too few arguments");if(n.length>=(n[0]==="#"?4:5))throw Error("Invalid URL: too many arguments");return new at({downloadId:n[1],key:n[2],directory:n[0]==="#F",loadedFile:n[3],...t})}}static unpackAttributes(e){let t=0;for(;t<e.length&&e.readUInt8(t);)t++;if(e=e.slice(0,t).toString(),e.substr(0,6)==='MEGA{"')try{return JSON.parse(e.substr(4))}catch{}}static defaultHandleRetries(e,t,r){e>8?r(t):setTimeout(r,1e3*Math.pow(2,e))}},pn=["","red","orange","yellow","green","blue","purple","grey"],Ve=at,Gt=$e(Jr(),1),_r=$e(mt(),1),Er={},Et=class extends Ve{constructor(e,t){if(super(e),this.storage=t,this.api=t.api,this.nodeId=e.h,this.timestamp=e.ts,this.type=e.t,this.directory=!!this.type,e.k){let r=e.k.split("/"),n=t.aes;for(let s of r){let a=s.split(":")[0];if(a===t.user){e.k=s;break}let l=t.shareKeys[a];if(l){e.k=s,n=Er[a],n||(n=Er[a]=new ze(l));break}}this.loadMetadata(n,e)}}loadAttributes(){throw Error("This is not needed for files loaded from logged in sessions")}mkdir(e,t){if(!this.directory)throw Error("node isn't a directory");let[r,n]=Ce(t);if(typeof e=="string"&&(e={name:e}),e.attributes||(e.attributes={}),e.name&&(e.attributes.n=e.name),!e.attributes.n)throw Error("file name is required");if(e.target||(e.target=this),e.key||(e.key=ie.Buffer.from((0,Gt.default)(16))),e.key.length!==16)throw Error("wrong key length, must be 128bit");let s=e.key,a=Et.packAttributes(e.attributes);st(s).encryptCBC(a);let l=ie.Buffer.from(s);this.storage.aes.encryptECB(l);let o={a:"p",t:e.target.nodeId?e.target.nodeId:e.target,n:[{h:"xxxxxxxx",t:1,a:Oe(a),k:Oe(l)}]},f=At(this.storage.shareKeys,this);return f.length>0&&(o.cr=Ct(this.storage,[{nodeId:"xxxxxxxx",key:s}],f)),this.api.request(o,(d,y)=>{if(d)return r(d);let g=this.storage._importFile(y.f[0]);this.storage.emit("add",g),r(null,g)}),n}upload(e,t,r){if(!this.directory)throw Error("node is not a directory");arguments.length===2&&typeof t=="function"&&([r,t]=[t,null]);let[n,s]=Ce(r);if(typeof e=="string"&&(e={name:e}),e.attributes||(e.attributes={}),e.name&&(e.attributes.n=e.name),!e.attributes.n)throw Error("File name is required.");if(!(typeof e.size=="number"&&e.size>=0)&&!(t&&typeof t.pipe!="function"&&typeof t.length=="number")&&!e.allowUploadBuffering)throw Error("Specify a file size or set allowUploadBuffering to true");e.target||(e.target=this);let a,l=We(e.key);l||(l=(0,Gt.default)(24)),l instanceof ie.Buffer||(l=ie.Buffer.from(l));let o=e.uploadCiphertext?32:24;if(l.length!==o)throw Error("Wrong key length. Key must be 192bit");e.uploadCiphertext&&(a=l,l=fn(l).slice(0,24)),e.key=l;let f=[],d=(_,E,c,p)=>{if(_)return g(_);if(!c||c.length===0){g(Error("Server returned a invalid response while uploading"));return}let m=Number(c.toString());if(m<0){g(Error("Server returned error "+m+" while uploading"));return}if(f[E]=c,E===0&&!a&&(a=p.key),e.thumbnailImage&&!f[1]||e.previewImage&&!f[2]||!f[0])return;let A=Et.packAttributes(e.attributes);st(a).encryptCBC(A);let b=ie.Buffer.from(a);this.storage.aes.encryptECB(b);let k={h:Oe(f[0]),t:0,a:Oe(A),k:Oe(b)};f.length!==1&&(k.fa=f.slice(1).map((S,L)=>L+"*"+Oe(S)).filter(S=>S).join("/"));let B={a:"p",t:e.target.nodeId?e.target.nodeId:e.target,n:[k]},M=At(this.storage.shareKeys,this);M.length>0&&(B.cr=Ct(this.storage,[{nodeId:k.h,key:a}],M)),this.api.request(B,(S,L)=>{if(S)return g(S);let R=this.storage._importFile(L.f[0]);this.storage.emit("add",R),y.emit("complete",R),n&&n(null,R)})};e.thumbnailImage&&this._uploadAttribute(e,e.thumbnailImage,1,d),e.previewImage&&this._uploadAttribute(e,e.previewImage,2,d);let y=this._upload(e,t,0,d);function g(_){y.listenerCount("error")?y.emit("error",_):n(_)}return y.complete=s,y}_upload(e,t,r,n){let s=e.uploadCiphertext?new _r.PassThrough:_i(e.key),a=s,l=e.size;return t&&typeof t.pipe!="function"&&(l=t.length,a.end(t)),l!=null?(l===0&&s.end(),this._uploadWithSize(a,l,s,r,e,n)):a=mi(a,o=>{this._uploadWithSize(a,o,s,r,e,n)}),t&&typeof t.pipe=="function"&&t.pipe(a),a}_uploadAttribute(e,t,r,n){let s=(a,l)=>{if(a)return n(a);let o=l.length,f=Math.ceil(o/16)*16-o;f!==0&&(l=ie.Buffer.concat([l,ie.Buffer.alloc(f)])),(e.handle?st(e.key):new ze(e.key.slice(0,16))).encryptCBC(l);let d=new _r.PassThrough;d.end(l),this._uploadWithSize(d,l.length,d,r,e,n)};if(t instanceof ie.Buffer){s(null,t);return}an(t,s)}_uploadWithSize(e,t,r,n,s,a){let l=s.forceHttps??!0?2:0,o=n===0?{a:"u",ssl:l,s:t,ms:0,r:0,e:0,v:2}:{a:"ufa",ssl:l,s:t};s.handle&&(o.h=s.handle);let f=n===0?s.initialChunkSize||128*1024:t,d=s.chunkSizeIncrement||128*1024,y=s.maxChunkSize||1024*1024,g=s.maxConnections||4,_=s.handleRetries||Ve.defaultHandleRetries,E=f,c=0,p=!1,m=0,A,b,k,B,M,S=()=>{B=Math.min(E,t-m),b=ie.Buffer.alloc(B),c++,E<y&&(E+=d),M=0,A&&(A.copy(b),M=Math.min(A.length,B),A=A.length>B?A.slice(B):null),M===B?L():(p=!0,x())},L=()=>{let W=m,j=b,$=0,Y=()=>{$++,this.api.fetch(k+"/"+(n===0?W:n-1),{method:"POST",body:j,headers:{"content-length":j.length}}).then(X=>{if(X.status!==200)throw Error("MEGA returned a "+X.status+" status code");return X.arrayBuffer()}).then(X=>{let ne=ie.Buffer.from(X);ne.length>0?(r.end(),le.nextTick(()=>{a(null,n,ne,r)})):m<t&&!p&&S()},X=>{_($,X,ne=>{ne?e.emit("error",ne):Y()})})};Y(),b=null,m+=B,m<t&&!p&&c<g&&S()},R=0,x=()=>{for(;;){let W=r.read();if(W===null){r.once("readable",x);break}if(R+=W.length,e.emit("progress",{bytesLoaded:R,bytesTotal:t}),W.copy(b,M),M+=W.length,M>=B){p=!1,A=W.slice(W.length-(M-B)),L();break}}};r.on("end",()=>{t&&R!==t&&e.emit("error",Error("Specified data size does not match: "+t+" !== "+R))}),this.api.request(o,(W,j)=>{if(W)return a(W);k=j.p,S()})}uploadAttribute(e,t,r){let[n,s]=Ce(r);if(typeof e=="string"&&(e=["thumbnail","preview"].indexOf(e)),e!==0&&e!==1)throw Error("Invalid attribute type");return this._uploadAttribute({key:this.key,handle:this.nodeId},t,e+1,(a,l,o,f)=>{if(a)return n(a);let d={a:"pfa",n:this.nodeId,fa:e+"*"+Oe(o)};this.api.request(d,(y,g)=>{if(y)return n(y);n(null,this)})}),s}delete(e,t){return typeof e=="function"&&(t=e,e=void 0),typeof e>"u"&&(e=this.parent===this.storage.trash),e?this.api.request({a:"d",n:this.nodeId},t):this.moveTo(this.storage.trash,t)}moveTo(e,t){if(typeof e=="string"&&(e=this.storage.files[e]),!(e instanceof Ve))throw Error("target must be a folder or a nodeId");let r={a:"m",n:this.nodeId,t:e.nodeId},n=At(this.storage.shareKeys,e);return n.length>0&&(r.cr=Ct(this.storage,[this],n)),this.api.request(r,t)}setAttributes(e,t){let[r,n]=Ce(t);Object.assign(this.attributes,e);let s=Et.packAttributes(this.attributes);return st(this.key).encryptCBC(s),this.api.request({a:"a",n:this.nodeId,at:Oe(s)},a=>{this.parseAttributes(this.attributes),r(a)}),n}rename(e,t){return this.setAttributes({n:e},t)}setLabel(e,t){if(typeof e=="string"&&(e=pn.indexOf(e)),typeof e!="number"||Math.floor(e)!==e||e<0||e>7)throw Error("label must be a integer between 0 and 7 or a valid label name");return this.setAttributes({lbl:e},t)}setFavorite(e,t){return this.setAttributes({fav:e?1:0},t)}link(e,t){arguments.length===1&&typeof e=="function"&&(t=e,e={noKey:!1}),typeof e=="boolean"&&(e={noKey:e}),e||(e={});let r=e.__folderKey;if(this.directory&&!r)return this.shareFolder(e,t);let[n,s]=Ce(t);return this.api.request({a:"l",n:this.nodeId},(a,l)=>{if(a)return n(a);let o=`https://mega.nz/${r?"folder":"file"}/${l}`;!e.noKey&&this.key&&(o+=`#${Oe(r||this.key)}`),n(null,o)}),s}shareFolder(e,t){if(!this.directory)throw Error("node isn't a folder");let r=this.nodeId,n=this.storage.shareKeys[r];if(n)return this.link(Object.assign({__folderKey:n},e),t);let s=We(e.key);s||(s=(0,Gt.default)(16)),s instanceof ie.Buffer||(s=ie.Buffer.from(s));let[a,l]=Ce(t);if(s.length!==16)return a(Error("share key must be 16 byte / 22 characters")),l;this.storage.shareKeys[r]=s;let o=ie.Buffer.from(r+r);this.storage.aes.encryptECB(o);let f={a:"s2",n:r,s:[{u:"EXP",r:0}],ok:Oe(this.storage.aes.encryptECB(ie.Buffer.from(s))),ha:Oe(o),cr:Ct(this.storage,this)};return this.api.request(f,d=>{if(d)return a(d);this.link(Object.assign({__folderKey:s},e),a)}),l}unshare(e){return this.directory?this.unshareFolder(e):this.api.request({a:"l",n:this.nodeId,d:1},e)}unshareFolder(e){if(!this.directory)throw Error("node isn't a folder");return delete this.storage.shareKeys[this.nodeId],this.api.request({a:"s2",n:this.nodeId,s:[{u:"EXP",r:""}]},e)}importFile(e,t){let[r,n]=Ce(t);if(!this.directory)throw Error("importFile can only be called on directories");if(typeof e=="string"&&(e=Ve.fromURL(e)),!(e instanceof Ve))throw Error("First argument of importFile should be a File or a URL string");if(!e.key)return r(Error("Can't import files without encryption keys")),n;let s=(a,l)=>{if(a)return r(a);let o=Et.packAttributes(l.attributes);st(l.key).encryptCBC(o);let f=Array.isArray(l.downloadId)?l.downloadId[1]:l.downloadId,d={a:"p",t:this.nodeId,n:[{ph:f,t:0,a:Oe(o),k:Oe(this.storage.aes.encryptECB(l.key))}]};this.api.request(d,(y,g)=>{if(y)return r(y);let _=this.storage._importFile(g.f[0]);this.storage.emit("add",_),r(null,_)})};return e.attributes?s(null,e):e.loadAttributes(s),n}static packAttributes(e){let t=JSON.stringify(e);t=ie.Buffer.from(`MEGA${t}`);let r=ie.Buffer.alloc(Math.ceil(t.length/16)*16);return t.copy(r),r}};function Ct(e,t,r){let n=e.shareKeys;Array.isArray(t)||(t=yn(t)),r||(r=t.map(a=>At(n,a)).reduce((a,l)=>a.concat(l)).filter((a,l,o)=>l===o.indexOf(a)));let s=[r,t.map(a=>a.nodeId),[]];for(let a=r.length;a--;){let l=new ze(n[r[a]]);for(let o=t.length;o--;){let f=ie.Buffer.from(t[o].key);f&&(f.length===32||f.length===16)&&s[2].push(a,o,Oe(l.encryptECB(f)))}}return s}function yn(e){return[e].concat((e.children||[]).map(yn).reduce((t,r)=>t.concat(r),[]))}function At(e,t){let r=t.nodeId,n=t.parent,s=[];return e[r]&&s.push(r),n?s.concat(At(e,n)):s}var Gi=Et,Hi=class extends Wi.EventEmitter{constructor(e,t){super(),arguments.length===1&&typeof e=="function"&&(t=e,e={});let[r,n]=Ce(t);this.ready=n,e.keepalive=e.keepalive===void 0?!0:!!e.keepalive,e.autoload=e.autoload===void 0?!0:!!e.autoload,e.autologin=e.autologin===void 0?!0:!!e.autologin,this.api=new Dt(e.keepalive,e),this.files={},this.options=e,this.status="closed",e.autologin?this.login(r):le.nextTick(()=>{r(null,this)})}login(e){let[t,r]=Ce(e);if(typeof this.options.email!="string")return le.nextTick(()=>{t(Error("starting a session without credentials isn't supported"))}),r;let n=()=>{this.status="ready",t(null,this),this.emit("ready",this)},s=f=>{this.api.request({a:"ug"},(d,y)=>{if(d)return f(d);this.name=y.name,this.user=y.u,this.options.autoload?this.reload(!0,g=>{if(g)return f(g);n()}):n()})};this.email=this.options.email.toLowerCase();let a=f=>{let d=wi(ie.Buffer.from(this.options.password)),y=new ze(d),g=Oe(y.stringhash(ie.Buffer.from(this.email))),_={a:"us",user:this.email,uh:g};o(_,y,f)},l=(f,d)=>{vi(ie.Buffer.from(this.options.password),f,(y,g)=>{if(y)return d(y);let _=new ze(g.slice(0,16)),E=Oe(g.slice(16)),c={a:"us",user:this.email,uh:E};o(c,_,d)})},o=(f,d,y)=>{delete this.options.password,this.options.secondFactorCode&&(f.mfa=this.options.secondFactorCode.toString()),this.api.request(f,(g,_)=>{if(g)return y(g);this.key=We(_.k),d.decryptECB(this.key),this.aes=new ze(this.key);let E=We(_.csid),c=this.aes.decryptECB(We(_.privk)),p=Li(c);if(!p)throw Error("invalid credentials");let m=Oe(Pi(E,p).slice(0,43));this.api.sid=this.sid=m,this.RSAPrivateKey=p,s(y)})};return this.api.request({a:"us0",user:this.email},(f,d)=>{if(f)return t(f);if(d.v===1)return a(t);if(d.v===2)return l(d,t);t(Error("Account version not supported"))}),this.status="connecting",r}reload(e,t){typeof e=="function"&&([e,t]=[t,e]);let[r,n]=Ce(t);return this.status==="connecting"&&!e?(this.once("ready",()=>{this.reload(e,r)}),n):(this.mounts=[],this.api.request({a:"f",c:1},(s,a)=>{var l;if(s)return r(s);this.shareKeys=a.ok.reduce((o,f)=>{let d=f.h,y=this.aes.encryptECB(ie.Buffer.from(d+d));return Ai(We(f.ha),y)&&(o[d]=this.aes.decryptECB(We(f.k))),o},{});for(let o of a.f)if(o=this._importFile(o),a.ph!==void 0&&(o.shareId=(l=a.ph.find(f=>f.h===o.nodeId))==null?void 0:l.ph,o.shared=!!o.shareId,o.shared)){o.shareURL=`https://mega.nz/${o.directory?"folder":"file"}/${o.shareId}`;let f=o.directory?this.shareKeys[o.nodeId]:o.key;f&&(o.shareURL+="#"+Oe(f))}r(null,this.mounts)}),this.api.on("sc",s=>{let a={};s.forEach(l=>{if(l.a==="u"){let o=this.files[l.n];o&&(o.timestamp=l.ts,o.decryptAttributes(l.at),o.emit("update"),this.emit("update",o))}else l.a==="d"?a[l.n]=!0:l.a==="t"&&l.t.f.forEach(o=>{let f=this.files[o.h];if(f){delete a[o.h];let d=f.parent;if(d.nodeId===o.p)return;d.children.splice(d.children.indexOf(f),1),f.parent=this.files[o.p],f.parent.children||(f.parent.children=[]),f.parent.children.push(f),f.emit("move",d),this.emit("move",f,d)}else this.emit("add",this._importFile(o))})}),Object.keys(a).forEach(l=>{let o=this.files[l],f=o.parent;f.children.splice(f.children.indexOf(o),1),this.emit("delete",o),o.emit("delete")})}),n)}_importFile(e){if(!this.files[e.h]){let t=this.files[e.h]=new Gi(e,this);if(e.t===Ki&&(this.root=t,t.name="Cloud Drive"),e.t===Ji&&(this.trash=t,t.name="Rubbish Bin"),e.t===Yi&&(this.inbox=t,t.name="Inbox"),e.t>1&&this.mounts.push(t),e.p){let r=this.files[e.p];r&&(r.children||(r.children=[]),r.children.push(t),t.parent=r)}}return this.files[e.h]}mkdir(e,t){if(this.status!=="ready")throw Error("storage is not ready");return this.root.mkdir(e,t)}upload(e,t,r){if(this.status!=="ready")throw Error("storage is not ready");return this.root.upload(e,t,r)}close(e){return this.status="closed",this.api.close(),this.api.request({a:"sml"},e)}getAccountInfo(e){let[t,r]=Ce(e);return this.api.request({a:"uq",strg:1,xfer:1,pro:1},(n,s)=>{n&&t(n);let a={};a.type=s.utype,a.spaceUsed=s.cstrg,a.spaceTotal=s.mstrg,a.downloadBandwidthTotal=s.mxfer||Math.pow(1024,5)*10,a.downloadBandwidthUsed=s.caxfer||0,a.sharedBandwidthUsed=s.csxfer||0,a.sharedBandwidthLimit=s.srvratio,t(null,a)}),r}toJSON(){return{key:Oe(this.key),sid:this.sid,name:this.name,user:this.user,options:this.options}}static fromJSON(e){let t=new Hi(Object.assign(e.options,{autoload:!1,autologin:!1}));return t.key=cr(e.key),t.aes=new ze(t.key),t.api.sid=t.sid=e.sid,t.name=e.name,t.user=e.user,t}},Ki=2,Yi=3,Ji=4;Ve.fromURL;/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */async function ot(){return await Cn("music",2,{upgrade(e,t,r,n,s){t<1&&(e.createObjectStore("album",{keyPath:"folderName"}),e.createObjectStore("image",{keyPath:"id"}),e.createObjectStore("song",{keyPath:"id"})),e.createObjectStore("albumFolder")}})}async function Xi(){const e=await ot(),t=await e.getAll("album"),r=await e.get("albumFolder","german")??[],n=await e.get("albumFolder","russian")??[],s=await e.get("albumFolder","instrumental")??[],a=await e.get("albumFolder","geistlicheLieder")??[];return e.close(),{german:t.filter(l=>r.includes(l.folderName)),russian:t.filter(l=>n.includes(l.folderName)),instrumental:t.filter(l=>s.includes(l.folderName)),geistlicheLieder:t.find(l=>a.includes(l.folderName))}}async function Qi(e){const t=await ot(),r=t.transaction(["album","albumFolder"],"readwrite"),n=r.objectStore("albumFolder");n.clear(),n.put(e.german.map(l=>l.folderName),"german"),n.put(e.russian.map(l=>l.folderName),"russian"),n.put(e.instrumental.map(l=>l.folderName),"instrumental"),n.put([e.geistlicheLieder.folderName],"geistlicheLieder");const s=r.objectStore("album");s.clear();const a=[];for(const l of e.german)a.push(s.put(l));for(const l of e.russian)a.push(s.put(l));for(const l of e.instrumental)a.push(s.put(l));a.push(s.put(e.geistlicheLieder)),await Promise.all(a),r.commit(),t.close()}const Sr={};async function hr(e){const t=qe(e);let r=Sr[t];if(!r){const n=await Zi(e);r=URL.createObjectURL(n),Sr[t]=r}return r}async function Zi(e){const t=qe(e),r=await ot(),n=await r.get("image",t);if(r.close(),n)return n.blob;const s=await new Ve({key:e.key,downloadId:e.downloadId}).downloadBuffer({end:e.fileSize}),a=new Blob([s]);return eo(e,a),a}async function eo(e,t){const n={id:qe(e),blob:t},s=await ot();await s.add("image",n),s.close()}async function gn(e){const t=qe(e),r=await ot(),n=await r.get("song",t);if(r.close(),n)return n.blob;const s=await new Ve({key:e.key,downloadId:e.downloadId}).downloadBuffer({end:e.fileSize}),a=new Blob([s],{type:"audio/mpeg"});return to(e,a),a}async function to(e,t){const n={id:qe(e),name:e.name,blob:t},s=await ot();await s.add("song",n),s.close()}async function ro(e){const t=await ot(),r=await t.getAllKeys("song");return t.close(),e.filter(n=>r.includes(qe(n)))}async function no(){const e=await ot(),t=await e.getAllKeys("song");return e.close(),t}function qe(e){return JSON.stringify({key:e.key,downloadId:e.downloadId})}const jt={GERMAN_SONGS_URL:"https://mega.nz/folder/b6RACRQI#jDnUGMJCQLF57D0WKd9Vmg",RUSSIAN_SONGS_URL:"https://mega.nz/folder/lExABJSB#kqZ2hZTf2Wg9tdsVIkbIIQ",INSTRUMENTAL_SONGS_URL:"https://mega.nz/folder/N08k2ILC#BNbDNDWmXDXbFIY412V1qA",GEISTLICHE_LIEDER_URL:"https://mega.nz/folder/Dm5x2LRZ#OLhiAvvoX4qZTZGDLPn0SQ"};function Ht(e){var t;return e.german.flatMap(r=>r.songs).concat(e.russian.flatMap(r=>r.songs)).concat(e.instrumental.flatMap(r=>r.songs)).concat(((t=e.geistlicheLieder)==null?void 0:t.songs.map(r=>({...r,name:r.name.split("_",2)[1]})))??[])}async function io(){return{german:await Kt(jt.GERMAN_SONGS_URL),russian:await Kt(jt.RUSSIAN_SONGS_URL),instrumental:await Kt(jt.INSTRUMENTAL_SONGS_URL),geistlicheLieder:await oo(jt.GEISTLICHE_LIEDER_URL)}}async function Kt(e){const t=Ve.fromURL(e);return await t.loadAttributes(),t.children.filter(r=>r.directory).map(mn)}async function oo(e){const t=Ve.fromURL(e);return await t.loadAttributes(),mn(t)}function mn(e){const t=e.children.find(r=>{var n;return(n=r.name)==null?void 0:n.endsWith(".jpg")});return{name:e.name.split("(")[0].trim(),folderName:e.name,image:t?{key:t.key,downloadId:t.downloadId,fileSize:t.size}:null,songs:e.children.filter(r=>r.name.endsWith(".mp3")).map(r=>({name:r.name.substring(0,r.name.length-4).trim(),link:{key:r.key,downloadId:r.downloadId,fileSize:r.size}}))}}async function kt(e,t,r){try{const n=t[r];Ye.update(a=>({...a,isLoading:!0}));const s=await gn({name:n.name,...n.link});Ye.update(a=>(a.src!=null&&URL.revokeObjectURL(a.src),{...a,isLoading:!1,src:URL.createObjectURL(s),album:e,song:n,playPrevious:r>0?()=>kt(e,t,r-1):null,playNext:r<t.length-1?()=>kt(e,t,r+1):null,playRandom:()=>kt(e,t,ao(t.length))}))}catch{Ye.update(n=>({...n,isLoading:!1,fileLink:null,src:null}))}}function ao(e){return Math.floor(Math.random()*e)}const Ut="music/favorites";function tr(e){var r;const t=qe(e);return((r=localStorage.getItem(Ut))==null?void 0:r.includes(t))??!1}function so(e){const t=`;${qe(e)};`,r=localStorage.getItem(Ut);(r==null?void 0:r.includes(t))??!1?localStorage.setItem(Ut,r.replace(t,"")):localStorage.setItem(Ut,r+t)}function lo(e){let t,r,n,s,a;return{c(){t=Q("button"),r=Re("play_arrow"),this.h()},l(l){t=Z(l,"BUTTON",{class:!0});var o=oe(t);r=Te(o,"play_arrow"),o.forEach(J),this.h()},h(){K(t,"class","material-symbols-outlined btn btn-sm btn-circle"),t.disabled=n=e[1].isLoading},m(l,o){Ee(l,t,o),z(t,r),s||(a=ke(t,"click",e[6]),s=!0)},p(l,o){o&2&&n!==(n=l[1].isLoading)&&(t.disabled=n)},d(l){l&&J(t),s=!1,a()}}}function uo(e){let t,r="pause",n,s;return{c(){t=Q("button"),t.textContent=r,this.h()},l(a){t=Z(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Me(t)!=="svelte-trrviv"&&(t.textContent=r),this.h()},h(){K(t,"class","material-symbols-outlined btn btn-sm btn-circle")},m(a,l){Ee(a,t,l),n||(s=ke(t,"click",e[7]),n=!0)},p:Ue,d(a){a&&J(t),n=!1,s()}}}function fo(e){let t,r,n,s,a,l,o="X",f,d,y,g=Mt(e[5])+"",_,E,c,p=Mt(e[3])+"",m,A,b,k,B,M,S,L,R,x,W,j,$,Y,X,ne,de,ye="shuffle",Se,ue,we,fe=!0,T=!1,N,q,re;function ge(D,H){return D[2]?lo:uo}let he=ge(e),O=he(e);function P(){cancelAnimationFrame(N),ue.paused||(N=An(P),T=!0),e[13].call(ue)}return{c(){t=Q("div"),r=Q("div"),n=Q("div"),s=Q("input"),a=me(),l=Q("button"),l.textContent=o,f=me(),d=Q("div"),y=Q("p"),_=Re(g),E=me(),c=Q("p"),m=Re(p),A=me(),b=Q("div"),k=Q("button"),B=Re("favorite"),S=me(),L=Q("button"),R=Re("skip_previous"),W=me(),O.c(),j=me(),$=Q("button"),Y=Re("skip_next"),ne=me(),de=Q("button"),de.textContent=ye,Se=me(),ue=Q("audio"),this.h()},l(D){t=Z(D,"DIV",{class:!0});var H=oe(t);r=Z(H,"DIV",{class:!0});var se=oe(r);n=Z(se,"DIV",{class:!0});var w=oe(n);s=Z(w,"INPUT",{class:!0,type:!0,min:!0,max:!0}),a=be(w),l=Z(w,"BUTTON",{class:!0,"data-svelte-h":!0}),Me(l)!=="svelte-1crfd7b"&&(l.textContent=o),w.forEach(J),se.forEach(J),f=be(H),d=Z(H,"DIV",{class:!0});var v=oe(d);y=Z(v,"P",{});var V=oe(y);_=Te(V,g),V.forEach(J),E=be(v),c=Z(v,"P",{});var ee=oe(c);m=Te(ee,p),ee.forEach(J),v.forEach(J),A=be(H),b=Z(H,"DIV",{class:!0});var pe=oe(b);k=Z(pe,"BUTTON",{class:!0});var ce=oe(k);B=Te(ce,"favorite"),ce.forEach(J),S=be(pe),L=Z(pe,"BUTTON",{class:!0});var U=oe(L);R=Te(U,"skip_previous"),U.forEach(J),W=be(pe),O.l(pe),j=be(pe),$=Z(pe,"BUTTON",{class:!0});var xe=oe($);Y=Te(xe,"skip_next"),xe.forEach(J),ne=be(pe),de=Z(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),Me(de)!=="svelte-18hvivn"&&(de.textContent=ye),pe.forEach(J),Se=be(H),ue=Z(H,"AUDIO",{id:!0,src:!0}),oe(ue).forEach(J),H.forEach(J),this.h()},h(){K(s,"class","range flex-1"),K(s,"type","range"),K(s,"min","0"),K(s,"max",e[3]),K(l,"class","inline btn btn-sm btn-circle ml-2 relative bottom-2"),K(n,"class","flex"),K(r,"class","flex-1 w-full max-w-lg relative mt-2"),K(d,"class","w-full max-w-lg flex flex-row justify-between"),K(k,"class",M=`material-symbols-outlined ${e[4]?"material-symbols-filled":""} btn btn-sm btn-circle`),K(L,"class","material-symbols-outlined btn btn-sm btn-circle"),L.disabled=x=e[1].playPrevious==null,K($,"class","material-symbols-outlined btn btn-sm btn-circle"),$.disabled=X=e[1].playNext==null,K(de,"class","material-symbols-outlined btn btn-sm btn-circle"),K(b,"class","h-8 flex justify-center gap-1"),K(ue,"id","audio"),ue.autoplay=!0,ht(ue.src,we=e[1].src)||K(ue,"src",we),e[3]===void 0&&Ft(()=>e[12].call(ue)),K(t,"class","h-18 flex flex-col items-center rounded-md border-t-2")},m(D,H){Ee(D,t,H),z(t,r),z(r,n),z(n,s),Be(s,e[0]),z(n,a),z(n,l),z(t,f),z(t,d),z(d,y),z(y,_),z(d,E),z(d,c),z(c,m),z(t,A),z(t,b),z(b,k),z(k,B),z(b,S),z(b,L),z(L,R),z(b,W),O.m(b,null),z(b,j),z(b,$),z($,Y),z(b,ne),z(b,de),z(t,Se),z(t,ue),q||(re=[ke(s,"change",e[10]),ke(s,"input",e[10]),ke(l,"click",e[9]),ke(k,"click",e[8]),ke(L,"click",function(){Pt(e[1].playPrevious)&&e[1].playPrevious.apply(this,arguments)}),ke($,"click",function(){Pt(e[1].playNext)&&e[1].playNext.apply(this,arguments)}),ke(de,"click",function(){Pt(e[1].playRandom)&&e[1].playRandom.apply(this,arguments)}),ke(ue,"play",e[11]),ke(ue,"pause",e[11]),ke(ue,"durationchange",e[12]),ke(ue,"timeupdate",P),ke(ue,"ended",function(){Pt(e[1].playNext)&&e[1].playNext.apply(this,arguments)})],q=!0)},p(D,[H]){e=D,H&8&&K(s,"max",e[3]),H&1&&Be(s,e[0]),H&32&&g!==(g=Mt(e[5])+"")&&dt(_,g),H&8&&p!==(p=Mt(e[3])+"")&&dt(m,p),H&16&&M!==(M=`material-symbols-outlined ${e[4]?"material-symbols-filled":""} btn btn-sm btn-circle`)&&K(k,"class",M),H&2&&x!==(x=e[1].playPrevious==null)&&(L.disabled=x),he===(he=ge(e))&&O?O.p(e,H):(O.d(1),O=he(e),O&&(O.c(),O.m(b,j))),H&2&&X!==(X=e[1].playNext==null)&&($.disabled=X),H&2&&!ht(ue.src,we=e[1].src)&&K(ue,"src",we),H&4&&fe!==(fe=e[2])&&ue[fe?"pause":"play"](),!T&&H&1&&!isNaN(e[0])&&(ue.currentTime=e[0]),T=!1},i:Ue,o:Ue,d(D){D&&J(t),O.d(),q=!1,rr(re)}}}function Mt(e){return e=Math.round(e),`${Math.floor(e/60)}`.padStart(2,"0")+":"+`${e%60}`.padStart(2,"0")}function co(e,t,r){let n,s,a;He(e,Ye,k=>r(1,a=k));let l=null;$t(()=>{l=document.getElementById("audio")});let o=!0,f=0,d=0;async function y(k){const B=await hr(k);navigator.mediaSession.metadata.artwork=[{src:B}]}function g(){l.play()}function _(){l.pause()}function E(){a.song&&(so(a.song.link),r(4,s=tr(a.song.link)))}function c(){Ye.set({isLoading:!1,song:null,album:null,src:null})}function p(){d=wn(this.value),r(0,d)}function m(){o=this.paused,r(2,o)}function A(){f=this.duration,r(3,f)}function b(){d=this.currentTime,r(0,d)}return e.$$.update=()=>{var k,B,M;e.$$.dirty&1&&r(5,n=Math.round(d)),e.$$.dirty&2&&r(4,s=a.song!=null&&tr(a.song.link)),e.$$.dirty&2&&"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:(k=a.song)==null?void 0:k.name,album:(B=a.album)==null?void 0:B.name}),(M=a.album)!=null&&M.image&&y(a.album.image),navigator.mediaSession.setActionHandler("nexttrack",a.playNext??null),navigator.mediaSession.setActionHandler("previoustrack",a.playPrevious??null))},[d,a,o,f,s,n,g,_,E,c,p,m,A,b]}class ho extends ut{constructor(t){super(),ft(this,t,co,fo,lt,{})}}function Ar(e,t,r){const n=e.slice();return n[10]=t[r],n}function po(e){let t,r="download",n,s;return{c(){t=Q("button"),t.textContent=r,this.h()},l(a){t=Z(a,"BUTTON",{class:!0,"data-svelte-h":!0}),Me(t)!=="svelte-1q4a5e4"&&(t.textContent=r),this.h()},h(){K(t,"class","material-symbols-outlined btn btn-sm btn-circle")},m(a,l){Ee(a,t,l),n||(s=ke(t,"click",e[5]),n=!0)},p:Ue,d(a){a&&J(t),n=!1,s()}}}function yo(e){let t,r='<progress class="progress w-56 mb-2 h-4"></progress>';return{c(){t=Q("div"),t.innerHTML=r,this.h()},l(n){t=Z(n,"DIV",{class:!0,"data-svelte-h":!0}),Me(t)!=="svelte-134bier"&&(t.innerHTML=r),this.h()},h(){K(t,"class","w-48 h-48 flex self-center justify-center items-center")},m(n,s){Ee(n,t,s)},p:Ue,d(n){n&&J(t)}}}function go(e){let t,r,n;return{c(){t=Q("figure"),r=Q("img"),this.h()},l(s){t=Z(s,"FIGURE",{});var a=oe(t);r=Z(a,"IMG",{src:!0,alt:!0,class:!0}),a.forEach(J),this.h()},h(){ht(r.src,n=e[2])||K(r,"src",n),K(r,"alt","Albumbild"),K(r,"class","w-48 h-48 object-scale-down")},m(s,a){Ee(s,t,a),z(t,r)},p(s,a){a&4&&!ht(r.src,n=s[2])&&K(r,"src",n)},d(s){s&&J(t)}}}function kr(e){let t,r="download";return{c(){t=Q("span"),t.textContent=r,this.h()},l(n){t=Z(n,"SPAN",{class:!0,"data-svelte-h":!0}),Me(t)!=="svelte-yi50h3"&&(t.textContent=r),this.h()},h(){K(t,"class","material-symbols-outlined")},m(n,s){Ee(n,t,s)},d(n){n&&J(t)}}}function Ir(e){let t,r,n=e[10].name+"",s,a,l=e[1].includes(e[10].link),o,f,d,y,g=l&&kr();function _(){return e[8](e[10])}return{c(){t=Q("li"),r=Q("p"),s=Re(n),a=me(),g&&g.c(),o=me(),this.h()},l(E){t=Z(E,"LI",{class:!0});var c=oe(t);r=Z(c,"P",{class:!0});var p=oe(r);s=Te(p,n),p.forEach(J),a=be(c),g&&g.l(c),o=be(c),c.forEach(J),this.h()},h(){K(r,"class","flex-1 hover:underline"),K(t,"class",f=`cursor-pointer flex ${e[10]===e[3].song?"font-bold":""}`)},m(E,c){Ee(E,t,c),z(t,r),z(r,s),z(t,a),g&&g.m(t,null),z(t,o),d||(y=ke(t,"click",_),d=!0)},p(E,c){e=E,c&1&&n!==(n=e[10].name+"")&&dt(s,n),c&3&&(l=e[1].includes(e[10].link)),l?g||(g=kr(),g.c(),g.m(t,o)):g&&(g.d(1),g=null),c&9&&f!==(f=`cursor-pointer flex ${e[10]===e[3].song?"font-bold":""}`)&&K(t,"class",f)},d(E){E&&J(t),g&&g.d(),d=!1,y()}}}function mo(e){let t,r,n,s,a,l,o,f,d;r=new xr({props:{title:e[0].name??"Ldt...",withCloseButton:!0,$$slots:{default:[po]},$$scope:{ctx:e}}});function y(p,m){return p[2]?go:yo}let g=y(e),_=g(e),E=Qe(e[0].songs??[]),c=[];for(let p=0;p<E.length;p+=1)c[p]=Ir(Ar(e,E,p));return{c(){t=Q("main"),et(r.$$.fragment),n=me(),s=Q("div"),a=Q("div"),l=Q("div"),_.c(),o=me(),f=Q("ul");for(let p=0;p<c.length;p+=1)c[p].c();this.h()},l(p){t=Z(p,"MAIN",{class:!0});var m=oe(t);tt(r.$$.fragment,m),n=be(m),s=Z(m,"DIV",{class:!0});var A=oe(s);a=Z(A,"DIV",{class:!0});var b=oe(a);l=Z(b,"DIV",{class:!0});var k=oe(l);_.l(k),k.forEach(J),o=be(b),f=Z(b,"UL",{class:!0});var B=oe(f);for(let M=0;M<c.length;M+=1)c[M].l(B);B.forEach(J),b.forEach(J),A.forEach(J),m.forEach(J),this.h()},h(){K(l,"class","mb-2"),K(f,"class","mx-2"),K(a,"class","card w-full md:w-96 bg-base-100 shadow-xl"),K(s,"class","flex-1 flex justify-center"),K(t,"class","flex-1 flex flex-col")},m(p,m){Ee(p,t,m),rt(r,t,null),z(t,n),z(t,s),z(s,a),z(a,l),_.m(l,null),z(a,o),z(a,f);for(let A=0;A<c.length;A+=1)c[A]&&c[A].m(f,null);d=!0},p(p,[m]){const A={};if(m&1&&(A.title=p[0].name??"Ldt..."),m&8192&&(A.$$scope={dirty:m,ctx:p}),r.$set(A),g===(g=y(p))&&_?_.p(p,m):(_.d(1),_=g(p),_&&(_.c(),_.m(l,null))),m&27){E=Qe(p[0].songs??[]);let b;for(b=0;b<E.length;b+=1){const k=Ar(p,E,b);c[b]?c[b].p(k,m):(c[b]=Ir(k),c[b].c(),c[b].m(f,null))}for(;b<c.length;b+=1)c[b].d(1);c.length=E.length}},i(p){d||(Pe(r.$$.fragment,p),d=!0)},o(p){je(r.$$.fragment,p),d=!1},d(p){p&&J(t),nt(r),_.d(),nr(c,p)}}}function bo(e,t,r){let n,s,a;He(e,It,E=>r(7,s=E)),He(e,Ye,E=>r(3,a=E));let{album:l}=t,o=[],f;async function d(E){const c=n.songs.indexOf(E);kt(n,n.songs,c),y()}async function y(){r(1,o=await ro(n.songs.map(E=>E.link)))}async function g(){for(const E of n.songs)await gn({name:E.name,...E.link}),y()}$t(()=>{y()});const _=E=>d(E);return e.$$set=E=>{"album"in E&&r(6,l=E.album)},e.$$.update=()=>{e.$$.dirty&192&&r(0,n=s.german.concat(s.russian).concat(s.instrumental).find(E=>E.folderName===l)),e.$$.dirty&1&&n.image&&hr(n.image).then(E=>r(2,f=E))},[n,o,f,a,d,g,l,s,_]}class wo extends ut{constructor(t){super(),ft(this,t,bo,mo,lt,{album:6})}}function vo(e){let t,r='<progress class="progress w-56 mb-2 h-4"></progress>';return{c(){t=Q("div"),t.innerHTML=r,this.h()},l(n){t=Z(n,"DIV",{class:!0,"data-svelte-h":!0}),Me(t)!=="svelte-m3w8dv"&&(t.innerHTML=r),this.h()},h(){K(t,"class","w-48 h-48 flex self-center justify-center items-center")},m(n,s){Ee(n,t,s)},p:Ue,d(n){n&&J(t)}}}function _o(e){let t,r,n;return{c(){t=Q("figure"),r=Q("img"),this.h()},l(s){t=Z(s,"FIGURE",{});var a=oe(t);r=Z(a,"IMG",{src:!0,alt:!0,class:!0}),a.forEach(J),this.h()},h(){ht(r.src,n=e[1])||K(r,"src",n),K(r,"alt","Albumbild"),K(r,"class","w-48 h-48 object-scale-down")},m(s,a){Ee(s,t,a),z(t,r)},p(s,a){a&2&&!ht(r.src,n=s[1])&&K(r,"src",n)},d(s){s&&J(t)}}}function Eo(e){let t,r,n,s,a=e[0].name+"",l,o,f,d,y,g,_;function E(m,A){return m[1]?_o:vo}let c=E(e),p=c(e);return{c(){t=Q("div"),p.c(),r=me(),n=Q("div"),s=Q("p"),l=Re(a),o=me(),f=Q("div"),d=Q("a"),y=Re("ffnen"),this.h()},l(m){t=Z(m,"DIV",{id:!0,class:!0});var A=oe(t);p.l(A),r=be(A),n=Z(A,"DIV",{class:!0});var b=oe(n);s=Z(b,"P",{class:!0});var k=oe(s);l=Te(k,a),k.forEach(J),b.forEach(J),o=be(A),f=Z(A,"DIV",{class:!0});var B=oe(f);d=Z(B,"A",{class:!0,href:!0});var M=oe(d);y=Te(M,"ffnen"),M.forEach(J),B.forEach(J),A.forEach(J),this.h()},h(){K(s,"class","card-title"),K(n,"class","card-body w-full md:w-96"),K(d,"class","btn btn-primary capitalize"),K(d,"href",g=`#album/${e[0].folderName}`),K(f,"class","card-actions justify-end"),K(t,"id",_=`album_card_${e[0].name}`),K(t,"class","card w-full md:w-96 bg-base-100 shadow-xl h-min")},m(m,A){Ee(m,t,A),p.m(t,null),z(t,r),z(t,n),z(n,s),z(s,l),z(t,o),z(t,f),z(f,d),z(d,y)},p(m,[A]){c===(c=E(m))&&p?p.p(m,A):(p.d(1),p=c(m),p&&(p.c(),p.m(t,r))),A&1&&a!==(a=m[0].name+"")&&dt(l,a),A&1&&g!==(g=`#album/${m[0].folderName}`)&&K(d,"href",g),A&1&&_!==(_=`album_card_${m[0].name}`)&&K(t,"id",_)},i:Ue,o:Ue,d(m){m&&J(t),p.d()}}}function So(e,t,r){let{album:n}=t,s,a,l;return l=new IntersectionObserver(async o=>{o[0].isIntersecting&&!s&&(r(1,s=await hr(n.image)),l.unobserve(a),l=null)}),$t(()=>{a=document.getElementById(`album_card_${n.name}`),l.observe(a)}),bn(()=>{l==null||l.unobserve(a)}),e.$$set=o=>{"album"in o&&r(0,n=o.album)},[n,s]}class Ao extends ut{constructor(t){super(),ft(this,t,So,Eo,lt,{album:0})}}function Or(e,t,r){const n=e.slice();return n[6]=t[r],n}function Br(e,t){let r,n,s;return n=new Ao({props:{album:t[6]}}),{key:e,first:null,c(){r=dr(),et(n.$$.fragment),this.h()},l(a){r=dr(),tt(n.$$.fragment,a),this.h()},h(){this.first=r},m(a,l){Ee(a,r,l),rt(n,a,l),s=!0},p(a,l){t=a;const o={};l&4&&(o.album=t[6]),n.$set(o)},i(a){s||(Pe(n.$$.fragment,a),s=!0)},o(a){je(n.$$.fragment,a),s=!1},d(a){a&&J(r),nt(n,a)}}}function ko(e){let t,r,n,s,a="Alle Alben",l,o="Deutsche Alben",f,d="Russische Alben",y,g="Instrumentelle Alben",_,E,c,p,m=[],A=new Map,b,k,B,M=Qe(e[2]);const S=L=>L[6].folderName;for(let L=0;L<M.length;L+=1){let R=Or(e,M,L),x=S(R);A.set(x,m[L]=Br(x,R))}return{c(){t=Q("div"),r=Q("div"),n=Q("select"),s=Q("option"),s.textContent=a,l=Q("option"),l.textContent=o,f=Q("option"),f.textContent=d,y=Q("option"),y.textContent=g,_=me(),E=Q("input"),c=me(),p=Q("div");for(let L=0;L<m.length;L+=1)m[L].c();this.h()},l(L){t=Z(L,"DIV",{class:!0});var R=oe(t);r=Z(R,"DIV",{class:!0});var x=oe(r);n=Z(x,"SELECT",{class:!0});var W=oe(n);s=Z(W,"OPTION",{"data-svelte-h":!0}),Me(s)!=="svelte-1i7obur"&&(s.textContent=a),l=Z(W,"OPTION",{"data-svelte-h":!0}),Me(l)!=="svelte-1i51hln"&&(l.textContent=o),f=Z(W,"OPTION",{"data-svelte-h":!0}),Me(f)!=="svelte-1opew9k"&&(f.textContent=d),y=Z(W,"OPTION",{"data-svelte-h":!0}),Me(y)!=="svelte-hlo9rd"&&(y.textContent=g),W.forEach(J),_=be(x),E=Z(x,"INPUT",{class:!0,placeholder:!0,type:!0}),x.forEach(J),c=be(R),p=Z(R,"DIV",{class:!0});var j=oe(p);for(let $=0;$<m.length;$+=1)m[$].l(j);j.forEach(J),R.forEach(J),this.h()},h(){s.__value="all",Be(s,s.__value),l.__value="german",Be(l,l.__value),f.__value="russian",Be(f,f.__value),y.__value="instrumental",Be(y,y.__value),K(n,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0 focus:outline-none"),e[1]===void 0&&Ft(()=>e[4].call(n)),K(E,"class","input input-bordered w-full max-w-md mb-2 focus:outline-none"),K(E,"placeholder","Suche"),K(E,"type","search"),K(r,"class","w-full flex justify-center md:gap-2 flex-wrap"),K(p,"class","flex-1 flex flex-wrap justify-between gap-4 overflow-auto"),K(t,"class","flex-1 flex flex-col overflow-hidden")},m(L,R){Ee(L,t,R),z(t,r),z(r,n),z(n,s),z(n,l),z(n,f),z(n,y),pt(n,e[1],!0),z(r,_),z(r,E),Be(E,e[0]),z(t,c),z(t,p);for(let x=0;x<m.length;x+=1)m[x]&&m[x].m(p,null);b=!0,k||(B=[ke(n,"change",e[4]),ke(E,"input",e[5])],k=!0)},p(L,[R]){R&2&&pt(n,L[1]),R&1&&E.value!==L[0]&&Be(E,L[0]),R&4&&(M=Qe(L[2]),Nt(),m=vn(m,R,S,1,L,M,A,p,_n,Br,null,Or),xt())},i(L){if(!b){for(let R=0;R<M.length;R+=1)Pe(m[R]);b=!0}},o(L){for(let R=0;R<m.length;R+=1)je(m[R]);b=!1},d(L){L&&J(t);for(let R=0;R<m.length;R+=1)m[R].d();k=!1,rr(B)}}}function Io(e,t,r){let n;He(e,It,d=>r(3,n=d));let s=[],a="",l="all";function o(){l=Yt(this),r(1,l)}function f(){a=this.value,r(0,a)}return e.$$.update=()=>{if(e.$$.dirty&11){let d;if(l==="all")d=n.german.concat(n.russian).concat(n.instrumental);else if(l==="german")d=n.german;else if(l==="russian")d=n.russian;else if(l==="instrumental")d=n.instrumental;else throw new Error("No album selected.");r(2,s=d.filter(y=>a.toLocaleLowerCase().split(" ").every(g=>y.name.toLocaleLowerCase().includes(g))).sort((y,g)=>y.name>g.name?1:-1))}},[a,l,s,n,o,f]}class Oo extends ut{constructor(t){super(),ft(this,t,Io,ko,lt,{})}}function Rr(e,t,r){const n=e.slice();return n[21]=t[r],n}function Tr(e,t,r){const n=e.slice();return n[24]=t[r],n}function Lr(e){let t,r,n="Alle Lieder",s,a,l=Qe(e[3]),o=[];for(let f=0;f<l.length;f+=1)o[f]=Pr(Tr(e,l,f));return{c(){t=Q("select"),r=Q("option"),r.textContent=n;for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){t=Z(f,"SELECT",{class:!0});var d=oe(t);r=Z(d,"OPTION",{"data-svelte-h":!0}),Me(r)!=="svelte-1023i8w"&&(r.textContent=n);for(let y=0;y<o.length;y+=1)o[y].l(d);d.forEach(J),this.h()},h(){r.__value=null,Be(r,r.__value),K(t,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0 focus:outline-none"),e[2]===void 0&&Ft(()=>e[18].call(t))},m(f,d){Ee(f,t,d),z(t,r);for(let y=0;y<o.length;y+=1)o[y]&&o[y].m(t,null);pt(t,e[2],!0),s||(a=ke(t,"change",e[18]),s=!0)},p(f,d){if(d&8){l=Qe(f[3]);let y;for(y=0;y<l.length;y+=1){const g=Tr(f,l,y);o[y]?o[y].p(g,d):(o[y]=Pr(g),o[y].c(),o[y].m(t,null))}for(;y<o.length;y+=1)o[y].d(1);o.length=l.length}d&12&&pt(t,f[2])},d(f){f&&J(t),nr(o,f),s=!1,a()}}}function Pr(e){let t,r=e[24].name+"",n,s;return{c(){t=Q("option"),n=Re(r),this.h()},l(a){t=Z(a,"OPTION",{});var l=oe(t);n=Te(l,r),l.forEach(J),this.h()},h(){t.__value=s=e[24],Be(t,t.__value)},m(a,l){Ee(a,t,l),z(t,n)},p(a,l){l&8&&r!==(r=a[24].name+"")&&dt(n,r),l&8&&s!==(s=a[24])&&(t.__value=s,Be(t,t.__value))},d(a){a&&J(t)}}}function Cr(e){let t,r="download";return{c(){t=Q("span"),t.textContent=r,this.h()},l(n){t=Z(n,"SPAN",{class:!0,"data-svelte-h":!0}),Me(t)!=="svelte-yi50h3"&&(t.textContent=r),this.h()},h(){K(t,"class","material-symbols-outlined")},m(n,s){Ee(n,t,s)},d(n){n&&J(t)}}}function jr(e){var E;let t,r,n=e[21].name+"",s,a,l=(E=e[4])==null?void 0:E.includes(qe(e[21].link)),o,f,d,y,g=l&&Cr();function _(){return e[20](e[21])}return{c(){t=Q("li"),r=Q("p"),s=Re(n),a=me(),g&&g.c(),o=me(),this.h()},l(c){t=Z(c,"LI",{class:!0});var p=oe(t);r=Z(p,"P",{class:!0});var m=oe(r);s=Te(m,n),m.forEach(J),a=be(p),g&&g.l(p),o=be(p),p.forEach(J),this.h()},h(){K(r,"class","flex-1 hover:underline"),K(t,"class",f=`cursor-pointer flex ${e[21]===e[6].song?"font-bold":""}`)},m(c,p){Ee(c,t,p),z(t,r),z(r,s),z(t,a),g&&g.m(t,null),z(t,o),d||(y=ke(t,"click",_),d=!0)},p(c,p){var m;e=c,p&32&&n!==(n=e[21].name+"")&&dt(s,n),p&48&&(l=(m=e[4])==null?void 0:m.includes(qe(e[21].link))),l?g||(g=Cr(),g.c(),g.m(t,o)):g&&(g.d(1),g=null),p&96&&f!==(f=`cursor-pointer flex ${e[21]===e[6].song?"font-bold":""}`)&&K(t,"class",f)},d(c){c&&J(t),g&&g.d(),d=!1,y()}}}function Bo(e){let t,r,n,s,a,l,o,f,d,y,g,_,E,c,p,m,A,b,k,B,M,S,L,R,x=e[3]&&Lr(e),W=Qe(e[5]),j=[];for(let $=0;$<W.length;$+=1)j[$]=jr(Rr(e,W,$));return{c(){t=Q("div"),r=Q("div"),n=Q("select"),s=Q("option"),a=Re("Alle Lieder"),l=Q("option"),o=Re("Favoriten"),f=Q("option"),d=Re("Heruntergeladene Lieder"),y=Q("option"),g=Re("Deutsche Lieder"),_=Q("option"),E=Re("Russische Lieder"),c=Q("option"),p=Re("Instrumentelle Lieder"),m=Q("option"),A=Re("Geistliche Lieder"),b=me(),x&&x.c(),k=me(),B=Q("input"),M=me(),S=Q("ul");for(let $=0;$<j.length;$+=1)j[$].c();this.h()},l($){t=Z($,"DIV",{class:!0});var Y=oe(t);r=Z(Y,"DIV",{class:!0});var X=oe(r);n=Z(X,"SELECT",{class:!0});var ne=oe(n);s=Z(ne,"OPTION",{});var de=oe(s);a=Te(de,"Alle Lieder"),de.forEach(J),l=Z(ne,"OPTION",{});var ye=oe(l);o=Te(ye,"Favoriten"),ye.forEach(J),f=Z(ne,"OPTION",{});var Se=oe(f);d=Te(Se,"Heruntergeladene Lieder"),Se.forEach(J),y=Z(ne,"OPTION",{});var ue=oe(y);g=Te(ue,"Deutsche Lieder"),ue.forEach(J),_=Z(ne,"OPTION",{});var we=oe(_);E=Te(we,"Russische Lieder"),we.forEach(J),c=Z(ne,"OPTION",{});var fe=oe(c);p=Te(fe,"Instrumentelle Lieder"),fe.forEach(J),m=Z(ne,"OPTION",{});var T=oe(m);A=Te(T,"Geistliche Lieder"),T.forEach(J),ne.forEach(J),b=be(X),x&&x.l(X),k=be(X),B=Z(X,"INPUT",{class:!0,placeholder:!0,type:!0}),X.forEach(J),M=be(Y),S=Z(Y,"UL",{class:!0});var N=oe(S);for(let q=0;q<j.length;q+=1)j[q].l(N);N.forEach(J),Y.forEach(J),this.h()},h(){s.__value=e[7],Be(s,s.__value),l.__value=e[8],Be(l,l.__value),f.__value=e[9],Be(f,f.__value),y.__value=e[10],Be(y,y.__value),_.__value=e[11],Be(_,_.__value),c.__value=e[12],Be(c,c.__value),m.__value=e[13],Be(m,m.__value),K(n,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0 focus:outline-none"),e[1]===void 0&&Ft(()=>e[17].call(n)),K(B,"class","input input-bordered w-full max-w-md mb-2 focus:outline-none"),K(B,"placeholder","Suche"),K(B,"type","search"),K(r,"class","w-full flex justify-center md:gap-2 flex-wrap"),K(S,"class","flex-1 overflow-auto mx-2"),K(t,"class","flex-1 flex flex-col justify-center")},m($,Y){Ee($,t,Y),z(t,r),z(r,n),z(n,s),z(s,a),z(n,l),z(l,o),z(n,f),z(f,d),z(n,y),z(y,g),z(n,_),z(_,E),z(n,c),z(c,p),z(n,m),z(m,A),pt(n,e[1],!0),z(r,b),x&&x.m(r,null),z(r,k),z(r,B),Be(B,e[0]),z(t,M),z(t,S);for(let X=0;X<j.length;X+=1)j[X]&&j[X].m(S,null);L||(R=[ke(n,"change",e[17]),ke(B,"input",e[19])],L=!0)},p($,[Y]){if(Y&16258&&pt(n,$[1]),$[3]?x?x.p($,Y):(x=Lr($),x.c(),x.m(r,k)):x&&(x.d(1),x=null),Y&1&&B.value!==$[0]&&Be(B,$[0]),Y&16496){W=Qe($[5]);let X;for(X=0;X<W.length;X+=1){const ne=Rr($,W,X);j[X]?j[X].p(ne,Y):(j[X]=jr(ne),j[X].c(),j[X].m(S,null))}for(;X<j.length;X+=1)j[X].d(1);j.length=W.length}},i:Ue,o:Ue,d($){$&&J(t),x&&x.d(),nr(j,$),L=!1,rr(R)}}}function Ro(e,t,r){let n,s,a,l;He(e,It,R=>r(16,a=R)),He(e,Ye,R=>r(6,l=R));let o="";const f={getSongs:R=>Ht(R)},d={getSongs:R=>Ht(R).filter(x=>tr(x.link))},y={getSongs:R=>Ht(R).filter(x=>m.includes(qe(x.link)))},g={getAlbums:R=>R.german,getSongs:R=>R.german.flatMap(x=>x.songs)},_={getAlbums:R=>R.russian,getSongs:R=>R.russian.flatMap(x=>x.songs)},E={getAlbums:R=>R.instrumental,getSongs:R=>R.instrumental.flatMap(x=>x.songs)},c={getSongs:R=>R.geistlicheLieder.songs.map(x=>({...x,name:x.name.replace("_"," - ")}))};let p=f,m,A=null,b;async function k(R){const x=b.indexOf(R);kt(null,b,x)}function B(){p=Yt(this),r(1,p),r(13,c),r(12,E),r(11,_),r(10,g),r(9,y),r(8,d),r(7,f)}function M(){A=Yt(this),r(2,A),r(3,n),r(1,p),r(16,a),r(3,n),r(1,p),r(16,a)}function S(){o=this.value,r(0,o)}const L=R=>k(R);e.$$.update=()=>{e.$$.dirty&65538&&r(3,n=p.getAlbums==null?null:p.getAlbums(a)),e.$$.dirty&12&&A&&(!n||!n.includes(A))&&r(2,A=null),e.$$.dirty&65542&&(A?r(15,b=A.songs.sort((R,x)=>R.name>x.name?1:-1)):r(15,b=p.getSongs(a).sort((R,x)=>R.name>x.name?1:-1))),e.$$.dirty&32769&&r(5,s=b.filter(R=>o.toLocaleLowerCase().split(" ").every(x=>R.name.toLocaleLowerCase().includes(x))))};{async function R(){r(4,m=await no())}R()}return[o,p,A,n,m,s,l,f,d,y,g,_,E,c,k,b,a,B,M,S,L]}class To extends ut{constructor(t){super(),ft(this,t,Ro,Bo,lt,{})}}function Lo(e){let t,r="lyrics";return{c(){t=Q("a"),t.textContent=r,this.h()},l(n){t=Z(n,"A",{class:!0,href:!0,"data-svelte-h":!0}),Me(t)!=="svelte-157x70e"&&(t.textContent=r),this.h()},h(){K(t,"class","material-symbols-outlined btn btn-sm btn-circle"),K(t,"href","/")},m(n,s){Ee(n,t,s)},p:Ue,d(n){n&&J(t)}}}function Po(e){let t,r;return t=new Oo({}),{c(){et(t.$$.fragment)},l(n){tt(t.$$.fragment,n)},m(n,s){rt(t,n,s),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){je(t.$$.fragment,n),r=!1},d(n){nt(t,n)}}}function Co(e){let t,r;return t=new To({}),{c(){et(t.$$.fragment)},l(n){tt(t.$$.fragment,n)},m(n,s){rt(t,n,s),r=!0},i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){je(t.$$.fragment,n),r=!1},d(n){nt(t,n)}}}function jo(e){let t,r,n,s,a,l,o,f,d,y,g,_,E,c,p,m;r=new xr({props:{title:"Geistliche Lieder!",withCloseButton:!1,$$slots:{default:[Lo]},$$scope:{ctx:e}}});const A=[Co,Po],b=[];function k(B,M){return B[0].url.hash===""?0:B[0].url.hash==="#alben"?1:-1}return~(c=k(e))&&(p=b[c]=A[c](e)),{c(){t=Q("div"),et(r.$$.fragment),n=me(),s=Q("div"),a=Q("a"),l=Re("Lieder"),f=me(),d=Q("a"),y=Re("Alben"),_=me(),E=Q("div"),p&&p.c(),this.h()},l(B){t=Z(B,"DIV",{class:!0});var M=oe(t);tt(r.$$.fragment,M),n=be(M),s=Z(M,"DIV",{class:!0});var S=oe(s);a=Z(S,"A",{class:!0,href:!0});var L=oe(a);l=Te(L,"Lieder"),L.forEach(J),f=be(S),d=Z(S,"A",{class:!0,href:!0});var R=oe(d);y=Te(R,"Alben"),R.forEach(J),S.forEach(J),_=be(M),E=Z(M,"DIV",{class:!0});var x=oe(E);p&&p.l(x),x.forEach(J),M.forEach(J),this.h()},h(){K(a,"class",o=`tab ${e[0].url.hash===""?"tab-active":""}`),K(a,"href","/music"),K(d,"class",g=`tab ${e[0].url.hash==="#alben"?"tab-active":""}`),K(d,"href","/music#alben"),K(s,"class","tabs justify-center"),K(E,"class","flex-1 flex overflow-auto p-1"),K(t,"class","flex-1 flex flex-col overflow-hidden")},m(B,M){Ee(B,t,M),rt(r,t,null),z(t,n),z(t,s),z(s,a),z(a,l),z(s,f),z(s,d),z(d,y),z(t,_),z(t,E),~c&&b[c].m(E,null),m=!0},p(B,[M]){const S={};M&2&&(S.$$scope={dirty:M,ctx:B}),r.$set(S),(!m||M&1&&o!==(o=`tab ${B[0].url.hash===""?"tab-active":""}`))&&K(a,"class",o),(!m||M&1&&g!==(g=`tab ${B[0].url.hash==="#alben"?"tab-active":""}`))&&K(d,"class",g);let L=c;c=k(B),c!==L&&(p&&(Nt(),je(b[L],1,1,()=>{b[L]=null}),xt()),~c?(p=b[c],p||(p=b[c]=A[c](B),p.c()),Pe(p,1),p.m(E,null)):p=null)},i(B){m||(Pe(r.$$.fragment,B),Pe(p),m=!0)},o(B){je(r.$$.fragment,B),je(p),m=!1},d(B){B&&J(t),nt(r),~c&&b[c].d()}}}function Mo(e,t,r){let n;return He(e,Nr,s=>r(0,n=s)),[n]}class Uo extends ut{constructor(t){super(),ft(this,t,Mo,jo,lt,{})}}function No(e){let t,r;return t=new wo({props:{album:e[2]()}}),{c(){et(t.$$.fragment)},l(n){tt(t.$$.fragment,n)},m(n,s){rt(t,n,s),r=!0},p:Ue,i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){je(t.$$.fragment,n),r=!1},d(n){nt(t,n)}}}function xo(e){let t,r;return t=new Uo({}),{c(){et(t.$$.fragment)},l(n){tt(t.$$.fragment,n)},m(n,s){rt(t,n,s),r=!0},p:Ue,i(n){r||(Pe(t.$$.fragment,n),r=!0)},o(n){je(t.$$.fragment,n),r=!1},d(n){nt(t,n)}}}function Mr(e){let t,r,n,s,a=e[1].isLoading&&Ur();return n=new ho({}),{c(){a&&a.c(),t=me(),r=Q("div"),et(n.$$.fragment),this.h()},l(l){a&&a.l(l),t=be(l),r=Z(l,"DIV",{class:!0});var o=oe(r);tt(n.$$.fragment,o),o.forEach(J),this.h()},h(){K(r,"class","self-center mb-2 w-full")},m(l,o){a&&a.m(l,o),Ee(l,t,o),Ee(l,r,o),rt(n,r,null),s=!0},p(l,o){l[1].isLoading?a||(a=Ur(),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(l){s||(Pe(n.$$.fragment,l),s=!0)},o(l){je(n.$$.fragment,l),s=!1},d(l){l&&(J(t),J(r)),a&&a.d(l),nt(n)}}}function Ur(e){let t;return{c(){t=Q("progress"),this.h()},l(r){t=Z(r,"PROGRESS",{class:!0}),oe(t).forEach(J),this.h()},h(){K(t,"class","progress w-56 self-center mb-2")},m(r,n){Ee(r,t,n)},d(r){r&&J(t)}}}function Do(e){let t,r,n,s,a,l,o;const f=[xo,No],d=[];function y(_,E){return E&1&&(n=null),_[0].url.hash===""||_[0].url.hash==="#alben"?0:(n==null&&(n=!!_[0].url.hash.startsWith("#album")),n?1:-1)}~(s=y(e,-1))&&(a=d[s]=f[s](e));let g=(e[1].src!=null||e[1].isLoading)&&Mr(e);return{c(){t=Q("div"),r=Q("main"),a&&a.c(),l=me(),g&&g.c(),this.h()},l(_){t=Z(_,"DIV",{class:!0});var E=oe(t);r=Z(E,"MAIN",{class:!0});var c=oe(r);a&&a.l(c),c.forEach(J),l=be(E),g&&g.l(E),E.forEach(J),this.h()},h(){K(r,"class","overflow-auto flex-1 flex flex-col"),K(t,"class","w-full h-full flex flex-col")},m(_,E){Ee(_,t,E),z(t,r),~s&&d[s].m(r,null),z(t,l),g&&g.m(t,null),o=!0},p(_,[E]){let c=s;s=y(_,E),s===c?~s&&d[s].p(_,E):(a&&(Nt(),je(d[c],1,1,()=>{d[c]=null}),xt()),~s?(a=d[s],a?a.p(_,E):(a=d[s]=f[s](_),a.c()),Pe(a,1),a.m(r,null)):a=null),_[1].src!=null||_[1].isLoading?g?(g.p(_,E),E&2&&Pe(g,1)):(g=Mr(_),g.c(),Pe(g,1),g.m(t,null)):g&&(Nt(),je(g,1,1,()=>{g=null}),xt())},i(_){o||(Pe(a),Pe(g),o=!0)},o(_){je(a),je(g),o=!1},d(_){_&&J(t),~s&&d[s].d(),g&&g.d()}}}function Fo(e,t,r){let n,s;He(e,Nr,l=>r(0,n=l)),He(e,Ye,l=>r(1,s=l)),$t(()=>{(async()=>{En()&&(Dt.getGlobalApi().userAgent=null);let o;return"wakeLock"in navigator&&(o=await navigator.wakeLock.request("screen")),Xi().then(It.set),navigator.onLine&&await io().then(async f=>{It.set(f),await Qi(f)}),()=>{o.release()}})()});function a(){return decodeURI(n.url.hash.substring(7))}return[n,s,a]}class Go extends ut{constructor(t){super(),ft(this,t,Fo,Do,lt,{})}}export{Go as component};
