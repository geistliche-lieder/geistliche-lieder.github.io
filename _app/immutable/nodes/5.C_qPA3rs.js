import{b as de,e as De,a as nt,t as ut,n as Tt,c as Ut}from"../chunks/disclose-version.CgYNnb_O.js";import{y as Ne,h as ce,e as fe,B as Pe,D as pe,T as $e,Y as Ue,U as je,W as Me,R as We,aB as Ze,p as Pt,k as jt,f as zt,a as $t,g as N,d as mt,r as Y,s as ot,au as xt,w as yt,c as X,t as ft,L as He,aH as qe,aI as Ve}from"../chunks/runtime.CZXkAWHM.js";import{p as Ge,i as bt,a as kt,r as At}from"../chunks/props.BhmNFJO9.js";import{e as Dt,d as re,i as Nt,T as Qt,g as ge,r as Gt,f as Ke,s as It,F as be,a as Ft,V as Ye,b as Xe,D as we,S as Je,P as Qe,c as Kt,h as tr}from"../chunks/SettingsPage.DOA9192O.js";import{s as Rt,a as Ct,b as er}from"../chunks/store.BX77XggA.js";import{p as rr}from"../chunks/stores.DzE4AS1o.js";import{s as Lt,d as te,e as me}from"../chunks/render.5dFlmWfK.js";import{g as ne,a as ye,b as nr,c as ir,d as ke,t as xe,s as Yt,e as ar,f as ie,h as ae,j as Se,k as sr,l as or,m as lr,n as se}from"../chunks/song.Cd5aGdFS.js";import{b as ze,F as Ce,A as ur,s as Ee,e as Xt,a as oe}from"../chunks/store.d1Jg0ypw.js";import{i as hr,o as ve}from"../chunks/index-client.DsUBvrWM.js";import{g as le}from"../chunks/entry.DEAS_JPf.js";function Jt(V,U,c,S,f){var a=V,s="",r;Ne(()=>{if(s===(s=U()??"")){ce&&fe();return}r!==void 0&&(Ze(r),r=void 0),s!==""&&(r=Pe(()=>{if(ce){pe.data;for(var u=fe(),d=u;u!==null&&(u.nodeType!==8||u.data!=="");)d=u,u=$e(u);if(u===null)throw Ue(),je;de(pe,d),a=Me(u);return}var g=s+"",_=De(g);de(We(_),_.lastChild),a.before(_)}))})}var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Te(V){return V&&V.__esModule&&Object.prototype.hasOwnProperty.call(V,"default")?V.default:V}var Ae={exports:{}};(function(V,U){(function(c,S){S()})(Ot,function(){function c(d,g){return typeof g>"u"?g={autoBom:!1}:typeof g!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function S(d,g,_){var b=new XMLHttpRequest;b.open("GET",d),b.responseType="blob",b.onload=function(){u(b.response,g,_)},b.onerror=function(){console.error("could not download file")},b.send()}function f(d){var g=new XMLHttpRequest;g.open("HEAD",d,!1);try{g.send()}catch{}return 200<=g.status&&299>=g.status}function a(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(g)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ot=="object"&&Ot.global===Ot?Ot:void 0,r=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(d,g,_){var b=s.URL||s.webkitURL,n=document.createElement("a");g=g||d.name||"download",n.download=g,n.rel="noopener",typeof d=="string"?(n.href=d,n.origin===location.origin?a(n):f(n.href)?S(d,g,_):a(n,n.target="_blank")):(n.href=b.createObjectURL(d),setTimeout(function(){b.revokeObjectURL(n.href)},4e4),setTimeout(function(){a(n)},0))}:"msSaveOrOpenBlob"in navigator?function(d,g,_){if(g=g||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(c(d,_),g);else if(f(d))S(d,g,_);else{var b=document.createElement("a");b.href=d,b.target="_blank",setTimeout(function(){a(b)})}}:function(d,g,_,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof d=="string")return S(d,g,_);var n=d.type==="application/octet-stream",p=/constructor/i.test(s.HTMLElement)||s.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||n&&p||r)&&typeof FileReader<"u"){var l=new FileReader;l.onloadend=function(){var w=l.result;w=i?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=w:location=w,b=null},l.readAsDataURL(d)}else{var o=s.URL||s.webkitURL,m=o.createObjectURL(d);b?b.location=m:location.href=m,b=null,setTimeout(function(){o.revokeObjectURL(m)},4e4)}});s.saveAs=u.saveAs=u,V.exports=u})})(Ae);var dr=Ae.exports;const cr=Te(dr);function Vt(V){throw new Error('Could not dynamically require "'+V+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ie={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(V,U){(function(c){V.exports=c()})(function(){return function c(S,f,a){function s(d,g){if(!f[d]){if(!S[d]){var _=typeof Vt=="function"&&Vt;if(!g&&_)return _(d,!0);if(r)return r(d,!0);var b=new Error("Cannot find module '"+d+"'");throw b.code="MODULE_NOT_FOUND",b}var n=f[d]={exports:{}};S[d][0].call(n.exports,function(p){var i=S[d][1][p];return s(i||p)},n,n.exports,c,S,f,a)}return f[d].exports}for(var r=typeof Vt=="function"&&Vt,u=0;u<a.length;u++)s(a[u]);return s}({1:[function(c,S,f){var a=c("./utils"),s=c("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.encode=function(u){for(var d,g,_,b,n,p,i,l=[],o=0,m=u.length,w=m,k=a.getTypeOf(u)!=="string";o<u.length;)w=m-o,_=k?(d=u[o++],g=o<m?u[o++]:0,o<m?u[o++]:0):(d=u.charCodeAt(o++),g=o<m?u.charCodeAt(o++):0,o<m?u.charCodeAt(o++):0),b=d>>2,n=(3&d)<<4|g>>4,p=1<w?(15&g)<<2|_>>6:64,i=2<w?63&_:64,l.push(r.charAt(b)+r.charAt(n)+r.charAt(p)+r.charAt(i));return l.join("")},f.decode=function(u){var d,g,_,b,n,p,i=0,l=0,o="data:";if(u.substr(0,o.length)===o)throw new Error("Invalid base64 input, it looks like a data url.");var m,w=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===r.charAt(64)&&w--,u.charAt(u.length-2)===r.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(m=s.uint8array?new Uint8Array(0|w):new Array(0|w);i<u.length;)d=r.indexOf(u.charAt(i++))<<2|(b=r.indexOf(u.charAt(i++)))>>4,g=(15&b)<<4|(n=r.indexOf(u.charAt(i++)))>>2,_=(3&n)<<6|(p=r.indexOf(u.charAt(i++))),m[l++]=d,n!==64&&(m[l++]=g),p!==64&&(m[l++]=_);return m}},{"./support":30,"./utils":32}],2:[function(c,S,f){var a=c("./external"),s=c("./stream/DataWorker"),r=c("./stream/Crc32Probe"),u=c("./stream/DataLengthProbe");function d(g,_,b,n,p){this.compressedSize=g,this.uncompressedSize=_,this.crc32=b,this.compression=n,this.compressedContent=p}d.prototype={getContentWorker:function(){var g=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),_=this;return g.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(g,_,b){return g.pipe(new r).pipe(new u("uncompressedSize")).pipe(_.compressWorker(b)).pipe(new u("compressedSize")).withStreamInfo("compression",_)},S.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(c,S,f){var a=c("./stream/GenericWorker");f.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},f.DEFLATE=c("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(c,S,f){var a=c("./utils"),s=function(){for(var r,u=[],d=0;d<256;d++){r=d;for(var g=0;g<8;g++)r=1&r?3988292384^r>>>1:r>>>1;u[d]=r}return u}();S.exports=function(r,u){return r!==void 0&&r.length?a.getTypeOf(r)!=="string"?function(d,g,_,b){var n=s,p=b+_;d^=-1;for(var i=b;i<p;i++)d=d>>>8^n[255&(d^g[i])];return-1^d}(0|u,r,r.length,0):function(d,g,_,b){var n=s,p=b+_;d^=-1;for(var i=b;i<p;i++)d=d>>>8^n[255&(d^g.charCodeAt(i))];return-1^d}(0|u,r,r.length,0):0}},{"./utils":32}],5:[function(c,S,f){f.base64=!1,f.binary=!1,f.dir=!1,f.createFolders=!0,f.date=null,f.compression=null,f.compressionOptions=null,f.comment=null,f.unixPermissions=null,f.dosPermissions=null},{}],6:[function(c,S,f){var a=null;a=typeof Promise<"u"?Promise:c("lie"),S.exports={Promise:a}},{lie:37}],7:[function(c,S,f){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=c("pako"),r=c("./utils"),u=c("./stream/GenericWorker"),d=a?"uint8array":"array";function g(_,b){u.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=b,this.meta={}}f.magic="\b\0",r.inherits(g,u),g.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(r.transformTo(d,_.data),!1)},g.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(b){_.push({data:b,meta:_.meta})}},f.compressWorker=function(_){return new g("Deflate",_)},f.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(c,S,f){function a(n,p){var i,l="";for(i=0;i<p;i++)l+=String.fromCharCode(255&n),n>>>=8;return l}function s(n,p,i,l,o,m){var w,k,z=n.file,D=n.compression,L=m!==d.utf8encode,O=r.transformTo("string",m(z.name)),E=r.transformTo("string",d.utf8encode(z.name)),j=z.comment,J=r.transformTo("string",m(j)),y=r.transformTo("string",d.utf8encode(j)),A=E.length!==z.name.length,e=y.length!==j.length,R="",Q="",M="",it=z.dir,W=z.date,rt={crc32:0,compressedSize:0,uncompressedSize:0};p&&!i||(rt.crc32=n.crc32,rt.compressedSize=n.compressedSize,rt.uncompressedSize=n.uncompressedSize);var I=0;p&&(I|=8),L||!A&&!e||(I|=2048);var T=0,tt=0;it&&(T|=16),o==="UNIX"?(tt=798,T|=function(q,ht){var vt=q;return q||(vt=ht?16893:33204),(65535&vt)<<16}(z.unixPermissions,it)):(tt=20,T|=function(q){return 63&(q||0)}(z.dosPermissions)),w=W.getUTCHours(),w<<=6,w|=W.getUTCMinutes(),w<<=5,w|=W.getUTCSeconds()/2,k=W.getUTCFullYear()-1980,k<<=4,k|=W.getUTCMonth()+1,k<<=5,k|=W.getUTCDate(),A&&(Q=a(1,1)+a(g(O),4)+E,R+="up"+a(Q.length,2)+Q),e&&(M=a(1,1)+a(g(J),4)+y,R+="uc"+a(M.length,2)+M);var G="";return G+=`
\0`,G+=a(I,2),G+=D.magic,G+=a(w,2),G+=a(k,2),G+=a(rt.crc32,4),G+=a(rt.compressedSize,4),G+=a(rt.uncompressedSize,4),G+=a(O.length,2),G+=a(R.length,2),{fileRecord:_.LOCAL_FILE_HEADER+G+O+R,dirRecord:_.CENTRAL_FILE_HEADER+a(tt,2)+G+a(J.length,2)+"\0\0\0\0"+a(T,4)+a(l,4)+O+R+J}}var r=c("../utils"),u=c("../stream/GenericWorker"),d=c("../utf8"),g=c("../crc32"),_=c("../signature");function b(n,p,i,l){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=i,this.encodeFileName=l,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}r.inherits(b,u),b.prototype.push=function(n){var p=n.meta.percent||0,i=this.entriesCount,l=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,u.prototype.push.call(this,{data:n.data,meta:{currentFile:this.currentFile,percent:i?(p+100*(i-l-1))/i:100}}))},b.prototype.openedSource=function(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var p=this.streamFiles&&!n.file.dir;if(p){var i=s(n,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(n){this.accumulate=!1;var p=this.streamFiles&&!n.file.dir,i=s(n,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),p)this.push({data:function(l){return _.DATA_DESCRIPTOR+a(l.crc32,4)+a(l.compressedSize,4)+a(l.uncompressedSize,4)}(n),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var n=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var i=this.bytesWritten-n,l=function(o,m,w,k,z){var D=r.transformTo("string",z(k));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(o,2)+a(o,2)+a(m,4)+a(w,4)+a(D.length,2)+D}(this.dirRecords.length,i,n,this.zipComment,this.encodeFileName);this.push({data:l,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(n){this._sources.push(n);var p=this;return n.on("data",function(i){p.processChunk(i)}),n.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),n.on("error",function(i){p.error(i)}),this},b.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(n){var p=this._sources;if(!u.prototype.error.call(this,n))return!1;for(var i=0;i<p.length;i++)try{p[i].error(n)}catch{}return!0},b.prototype.lock=function(){u.prototype.lock.call(this);for(var n=this._sources,p=0;p<n.length;p++)n[p].lock()},S.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(c,S,f){var a=c("../compressions"),s=c("./ZipFileWorker");f.generateWorker=function(r,u,d){var g=new s(u.streamFiles,d,u.platform,u.encodeFileName),_=0;try{r.forEach(function(b,n){_++;var p=function(m,w){var k=m||w,z=a[k];if(!z)throw new Error(k+" is not a valid compression method !");return z}(n.options.compression,u.compression),i=n.options.compressionOptions||u.compressionOptions||{},l=n.dir,o=n.date;n._compressWorker(p,i).withStreamInfo("file",{name:b,dir:l,date:o,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(g)}),g.entriesCount=_}catch(b){g.error(b)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(c,S,f){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var r in this)typeof this[r]!="function"&&(s[r]=this[r]);return s}}(a.prototype=c("./object")).loadAsync=c("./load"),a.support=c("./support"),a.defaults=c("./defaults"),a.version="3.10.1",a.loadAsync=function(s,r){return new a().loadAsync(s,r)},a.external=c("./external"),S.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(c,S,f){var a=c("./utils"),s=c("./external"),r=c("./utf8"),u=c("./zipEntries"),d=c("./stream/Crc32Probe"),g=c("./nodejsUtils");function _(b){return new s.Promise(function(n,p){var i=b.decompressed.getContentWorker().pipe(new d);i.on("error",function(l){p(l)}).on("end",function(){i.streamInfo.crc32!==b.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}S.exports=function(b,n){var p=this;return n=a.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),g.isNode&&g.isStream(b)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",b,!0,n.optimizedBinaryString,n.base64).then(function(i){var l=new u(n);return l.load(i),l}).then(function(i){var l=[s.Promise.resolve(i)],o=i.files;if(n.checkCRC32)for(var m=0;m<o.length;m++)l.push(_(o[m]));return s.Promise.all(l)}).then(function(i){for(var l=i.shift(),o=l.files,m=0;m<o.length;m++){var w=o[m],k=w.fileNameStr,z=a.resolve(w.fileNameStr);p.file(z,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:n.createFolders}),w.dir||(p.file(z).unsafeOriginalName=k)}return l.zipComment.length&&(p.comment=l.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(c,S,f){var a=c("../utils"),s=c("../stream/GenericWorker");function r(u,d){s.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(d)}a.inherits(r,s),r.prototype._bindStream=function(u){var d=this;(this._stream=u).pause(),u.on("data",function(g){d.push({data:g,meta:{percent:0}})}).on("error",function(g){d.isPaused?this.generatedError=g:d.error(g)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},r.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},S.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(c,S,f){var a=c("readable-stream").Readable;function s(r,u,d){a.call(this,u),this._helper=r;var g=this;r.on("data",function(_,b){g.push(_)||g._helper.pause(),d&&d(b)}).on("error",function(_){g.emit("error",_)}).on("end",function(){g.push(null)})}c("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},S.exports=s},{"../utils":32,"readable-stream":16}],14:[function(c,S,f){S.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(c,S,f){function a(z,D,L){var O,E=r.getTypeOf(D),j=r.extend(L||{},g);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(z=o(z)),j.createFolders&&(O=l(z))&&m.call(this,O,!0);var J=E==="string"&&j.binary===!1&&j.base64===!1;L&&L.binary!==void 0||(j.binary=!J),(D instanceof _&&D.uncompressedSize===0||j.dir||!D||D.length===0)&&(j.base64=!1,j.binary=!0,D="",j.compression="STORE",E="string");var y=null;y=D instanceof _||D instanceof u?D:p.isNode&&p.isStream(D)?new i(z,D):r.prepareContent(z,D,j.binary,j.optimizedBinaryString,j.base64);var A=new b(z,y,j);this.files[z]=A}var s=c("./utf8"),r=c("./utils"),u=c("./stream/GenericWorker"),d=c("./stream/StreamHelper"),g=c("./defaults"),_=c("./compressedObject"),b=c("./zipObject"),n=c("./generate"),p=c("./nodejsUtils"),i=c("./nodejs/NodejsStreamInputAdapter"),l=function(z){z.slice(-1)==="/"&&(z=z.substring(0,z.length-1));var D=z.lastIndexOf("/");return 0<D?z.substring(0,D):""},o=function(z){return z.slice(-1)!=="/"&&(z+="/"),z},m=function(z,D){return D=D!==void 0?D:g.createFolders,z=o(z),this.files[z]||a.call(this,z,null,{dir:!0,createFolders:D}),this.files[z]};function w(z){return Object.prototype.toString.call(z)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(z){var D,L,O;for(D in this.files)O=this.files[D],(L=D.slice(this.root.length,D.length))&&D.slice(0,this.root.length)===this.root&&z(L,O)},filter:function(z){var D=[];return this.forEach(function(L,O){z(L,O)&&D.push(O)}),D},file:function(z,D,L){if(arguments.length!==1)return z=this.root+z,a.call(this,z,D,L),this;if(w(z)){var O=z;return this.filter(function(j,J){return!J.dir&&O.test(j)})}var E=this.files[this.root+z];return E&&!E.dir?E:null},folder:function(z){if(!z)return this;if(w(z))return this.filter(function(E,j){return j.dir&&z.test(E)});var D=this.root+z,L=m.call(this,D),O=this.clone();return O.root=L.name,O},remove:function(z){z=this.root+z;var D=this.files[z];if(D||(z.slice(-1)!=="/"&&(z+="/"),D=this.files[z]),D&&!D.dir)delete this.files[z];else for(var L=this.filter(function(E,j){return j.name.slice(0,z.length)===z}),O=0;O<L.length;O++)delete this.files[L[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(z){var D,L={};try{if((L=r.extend(z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");r.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var O=L.comment||this.comment||"";D=n.generateWorker(this,L,O)}catch(E){(D=new u("error")).error(E)}return new d(D,L.type||"string",L.mimeType)},generateAsync:function(z,D){return this.generateInternalStream(z).accumulate(D)},generateNodeStream:function(z,D){return(z=z||{}).type||(z.type="nodebuffer"),this.generateInternalStream(z).toNodejsStream(D)}};S.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(c,S,f){S.exports=c("stream")},{stream:void 0}],17:[function(c,S,f){var a=c("./DataReader");function s(r){a.call(this,r);for(var u=0;u<this.data.length;u++)r[u]=255&r[u]}c("../utils").inherits(s,a),s.prototype.byteAt=function(r){return this.data[this.zero+r]},s.prototype.lastIndexOfSignature=function(r){for(var u=r.charCodeAt(0),d=r.charCodeAt(1),g=r.charCodeAt(2),_=r.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===u&&this.data[b+1]===d&&this.data[b+2]===g&&this.data[b+3]===_)return b-this.zero;return-1},s.prototype.readAndCheckSignature=function(r){var u=r.charCodeAt(0),d=r.charCodeAt(1),g=r.charCodeAt(2),_=r.charCodeAt(3),b=this.readData(4);return u===b[0]&&d===b[1]&&g===b[2]&&_===b[3]},s.prototype.readData=function(r){if(this.checkOffset(r),r===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},S.exports=s},{"../utils":32,"./DataReader":18}],18:[function(c,S,f){var a=c("../utils");function s(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(r){this.checkIndex(this.index+r)},checkIndex:function(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")},setIndex:function(r){this.checkIndex(r),this.index=r},skip:function(r){this.setIndex(this.index+r)},byteAt:function(){},readInt:function(r){var u,d=0;for(this.checkOffset(r),u=this.index+r-1;u>=this.index;u--)d=(d<<8)+this.byteAt(u);return this.index+=r,d},readString:function(r){return a.transformTo("string",this.readData(r))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var r=this.readInt(4);return new Date(Date.UTC(1980+(r>>25&127),(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(31&r)<<1))}},S.exports=s},{"../utils":32}],19:[function(c,S,f){var a=c("./Uint8ArrayReader");function s(r){a.call(this,r)}c("../utils").inherits(s,a),s.prototype.readData=function(r){this.checkOffset(r);var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},S.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(c,S,f){var a=c("./DataReader");function s(r){a.call(this,r)}c("../utils").inherits(s,a),s.prototype.byteAt=function(r){return this.data.charCodeAt(this.zero+r)},s.prototype.lastIndexOfSignature=function(r){return this.data.lastIndexOf(r)-this.zero},s.prototype.readAndCheckSignature=function(r){return r===this.readData(4)},s.prototype.readData=function(r){this.checkOffset(r);var u=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},S.exports=s},{"../utils":32,"./DataReader":18}],21:[function(c,S,f){var a=c("./ArrayReader");function s(r){a.call(this,r)}c("../utils").inherits(s,a),s.prototype.readData=function(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,u},S.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(c,S,f){var a=c("../utils"),s=c("../support"),r=c("./ArrayReader"),u=c("./StringReader"),d=c("./NodeBufferReader"),g=c("./Uint8ArrayReader");S.exports=function(_){var b=a.getTypeOf(_);return a.checkSupport(b),b!=="string"||s.uint8array?b==="nodebuffer"?new d(_):s.uint8array?new g(a.transformTo("uint8array",_)):new r(a.transformTo("array",_)):new u(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(c,S,f){f.LOCAL_FILE_HEADER="PK",f.CENTRAL_FILE_HEADER="PK",f.CENTRAL_DIRECTORY_END="PK",f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",f.ZIP64_CENTRAL_DIRECTORY_END="PK",f.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(c,S,f){var a=c("./GenericWorker"),s=c("../utils");function r(u){a.call(this,"ConvertWorker to "+u),this.destType=u}s.inherits(r,a),r.prototype.processChunk=function(u){this.push({data:s.transformTo(this.destType,u.data),meta:u.meta})},S.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(c,S,f){var a=c("./GenericWorker"),s=c("../crc32");function r(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}c("../utils").inherits(r,a),r.prototype.processChunk=function(u){this.streamInfo.crc32=s(u.data,this.streamInfo.crc32||0),this.push(u)},S.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(c,S,f){var a=c("../utils"),s=c("./GenericWorker");function r(u){s.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}a.inherits(r,s),r.prototype.processChunk=function(u){if(u){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+u.data.length}s.prototype.processChunk.call(this,u)},S.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(c,S,f){var a=c("../utils"),s=c("./GenericWorker");function r(u){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(g){d.dataIsReady=!0,d.data=g,d.max=g&&g.length||0,d.type=a.getTypeOf(g),d.isPaused||d._tickAndRepeat()},function(g){d.error(g)})}a.inherits(r,s),r.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,d);break;case"uint8array":u=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":u=this.data.slice(this.index,d)}return this.index=d,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},S.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(c,S,f){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,r){return this._listeners[s].push(r),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,r){if(this._listeners[s])for(var u=0;u<this._listeners[s].length;u++)this._listeners[s][u].call(this,r)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var r=this;return s.on("data",function(u){r.processChunk(u)}),s.on("end",function(){r.end()}),s.on("error",function(u){r.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,r){return this.extraStreamInfo[s]=r,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},S.exports=a},{}],29:[function(c,S,f){var a=c("../utils"),s=c("./ConvertWorker"),r=c("./GenericWorker"),u=c("../base64"),d=c("../support"),g=c("../external"),_=null;if(d.nodestream)try{_=c("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(p,i){return new g.Promise(function(l,o){var m=[],w=p._internalType,k=p._outputType,z=p._mimeType;p.on("data",function(D,L){m.push(D),i&&i(L)}).on("error",function(D){m=[],o(D)}).on("end",function(){try{var D=function(L,O,E){switch(L){case"blob":return a.newBlob(a.transformTo("arraybuffer",O),E);case"base64":return u.encode(O);default:return a.transformTo(L,O)}}(k,function(L,O){var E,j=0,J=null,y=0;for(E=0;E<O.length;E++)y+=O[E].length;switch(L){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(J=new Uint8Array(y),E=0;E<O.length;E++)J.set(O[E],j),j+=O[E].length;return J;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+L+"'")}}(w,m),z);l(D)}catch(L){o(L)}m=[]}).resume()})}function n(p,i,l){var o=i;switch(i){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=i,this._mimeType=l,a.checkSupport(o),this._worker=p.pipe(new s(o)),p.lock()}catch(m){this._worker=new r("error"),this._worker.error(m)}}n.prototype={accumulate:function(p){return b(this,p)},on:function(p,i){var l=this;return p==="data"?this._worker.on(p,function(o){i.call(l,o.data,o.meta)}):this._worker.on(p,function(){a.delay(i,arguments,l)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},p)}},S.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(c,S,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",f.nodebuffer=typeof Buffer<"u",f.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")f.blob=!1;else{var a=new ArrayBuffer(0);try{f.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),f.blob=s.getBlob("application/zip").size===0}catch{f.blob=!1}}}try{f.nodestream=!!c("readable-stream").Readable}catch{f.nodestream=!1}},{"readable-stream":16}],31:[function(c,S,f){for(var a=c("./utils"),s=c("./support"),r=c("./nodejsUtils"),u=c("./stream/GenericWorker"),d=new Array(256),g=0;g<256;g++)d[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;d[254]=d[254]=1;function _(){u.call(this,"utf-8 decode"),this.leftOver=null}function b(){u.call(this,"utf-8 encode")}f.utf8encode=function(n){return s.nodebuffer?r.newBufferFrom(n,"utf-8"):function(p){var i,l,o,m,w,k=p.length,z=0;for(m=0;m<k;m++)(64512&(l=p.charCodeAt(m)))==55296&&m+1<k&&(64512&(o=p.charCodeAt(m+1)))==56320&&(l=65536+(l-55296<<10)+(o-56320),m++),z+=l<128?1:l<2048?2:l<65536?3:4;for(i=s.uint8array?new Uint8Array(z):new Array(z),m=w=0;w<z;m++)(64512&(l=p.charCodeAt(m)))==55296&&m+1<k&&(64512&(o=p.charCodeAt(m+1)))==56320&&(l=65536+(l-55296<<10)+(o-56320),m++),l<128?i[w++]=l:(l<2048?i[w++]=192|l>>>6:(l<65536?i[w++]=224|l>>>12:(i[w++]=240|l>>>18,i[w++]=128|l>>>12&63),i[w++]=128|l>>>6&63),i[w++]=128|63&l);return i}(n)},f.utf8decode=function(n){return s.nodebuffer?a.transformTo("nodebuffer",n).toString("utf-8"):function(p){var i,l,o,m,w=p.length,k=new Array(2*w);for(i=l=0;i<w;)if((o=p[i++])<128)k[l++]=o;else if(4<(m=d[o]))k[l++]=65533,i+=m-1;else{for(o&=m===2?31:m===3?15:7;1<m&&i<w;)o=o<<6|63&p[i++],m--;1<m?k[l++]=65533:o<65536?k[l++]=o:(o-=65536,k[l++]=55296|o>>10&1023,k[l++]=56320|1023&o)}return k.length!==l&&(k.subarray?k=k.subarray(0,l):k.length=l),a.applyFromCharCode(k)}(n=a.transformTo(s.uint8array?"uint8array":"array",n))},a.inherits(_,u),_.prototype.processChunk=function(n){var p=a.transformTo(s.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var i=p;(p=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),p.set(i,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var l=function(m,w){var k;for((w=w||m.length)>m.length&&(w=m.length),k=w-1;0<=k&&(192&m[k])==128;)k--;return k<0||k===0?w:k+d[m[k]]>w?k:w}(p),o=p;l!==p.length&&(s.uint8array?(o=p.subarray(0,l),this.leftOver=p.subarray(l,p.length)):(o=p.slice(0,l),this.leftOver=p.slice(l,p.length))),this.push({data:f.utf8decode(o),meta:n.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},f.Utf8DecodeWorker=_,a.inherits(b,u),b.prototype.processChunk=function(n){this.push({data:f.utf8encode(n.data),meta:n.meta})},f.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(c,S,f){var a=c("./support"),s=c("./base64"),r=c("./nodejsUtils"),u=c("./external");function d(i){return i}function g(i,l){for(var o=0;o<i.length;++o)l[o]=255&i.charCodeAt(o);return l}c("setimmediate"),f.newBlob=function(i,l){f.checkSupport("blob");try{return new Blob([i],{type:l})}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return o.append(i),o.getBlob(l)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(i,l,o){var m=[],w=0,k=i.length;if(k<=o)return String.fromCharCode.apply(null,i);for(;w<k;)l==="array"||l==="nodebuffer"?m.push(String.fromCharCode.apply(null,i.slice(w,Math.min(w+o,k)))):m.push(String.fromCharCode.apply(null,i.subarray(w,Math.min(w+o,k)))),w+=o;return m.join("")},stringifyByChar:function(i){for(var l="",o=0;o<i.length;o++)l+=String.fromCharCode(i[o]);return l},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,r.allocBuffer(1)).length===1}catch{return!1}}()}};function b(i){var l=65536,o=f.getTypeOf(i),m=!0;if(o==="uint8array"?m=_.applyCanBeUsed.uint8array:o==="nodebuffer"&&(m=_.applyCanBeUsed.nodebuffer),m)for(;1<l;)try{return _.stringifyByChunk(i,o,l)}catch{l=Math.floor(l/2)}return _.stringifyByChar(i)}function n(i,l){for(var o=0;o<i.length;o++)l[o]=i[o];return l}f.applyFromCharCode=b;var p={};p.string={string:d,array:function(i){return g(i,new Array(i.length))},arraybuffer:function(i){return p.string.uint8array(i).buffer},uint8array:function(i){return g(i,new Uint8Array(i.length))},nodebuffer:function(i){return g(i,r.allocBuffer(i.length))}},p.array={string:b,array:d,arraybuffer:function(i){return new Uint8Array(i).buffer},uint8array:function(i){return new Uint8Array(i)},nodebuffer:function(i){return r.newBufferFrom(i)}},p.arraybuffer={string:function(i){return b(new Uint8Array(i))},array:function(i){return n(new Uint8Array(i),new Array(i.byteLength))},arraybuffer:d,uint8array:function(i){return new Uint8Array(i)},nodebuffer:function(i){return r.newBufferFrom(new Uint8Array(i))}},p.uint8array={string:b,array:function(i){return n(i,new Array(i.length))},arraybuffer:function(i){return i.buffer},uint8array:d,nodebuffer:function(i){return r.newBufferFrom(i)}},p.nodebuffer={string:b,array:function(i){return n(i,new Array(i.length))},arraybuffer:function(i){return p.nodebuffer.uint8array(i).buffer},uint8array:function(i){return n(i,new Uint8Array(i.length))},nodebuffer:d},f.transformTo=function(i,l){if(l=l||"",!i)return l;f.checkSupport(i);var o=f.getTypeOf(l);return p[o][i](l)},f.resolve=function(i){for(var l=i.split("/"),o=[],m=0;m<l.length;m++){var w=l[m];w==="."||w===""&&m!==0&&m!==l.length-1||(w===".."?o.pop():o.push(w))}return o.join("/")},f.getTypeOf=function(i){return typeof i=="string"?"string":Object.prototype.toString.call(i)==="[object Array]"?"array":a.nodebuffer&&r.isBuffer(i)?"nodebuffer":a.uint8array&&i instanceof Uint8Array?"uint8array":a.arraybuffer&&i instanceof ArrayBuffer?"arraybuffer":void 0},f.checkSupport=function(i){if(!a[i.toLowerCase()])throw new Error(i+" is not supported by this platform")},f.MAX_VALUE_16BITS=65535,f.MAX_VALUE_32BITS=-1,f.pretty=function(i){var l,o,m="";for(o=0;o<(i||"").length;o++)m+="\\x"+((l=i.charCodeAt(o))<16?"0":"")+l.toString(16).toUpperCase();return m},f.delay=function(i,l,o){setImmediate(function(){i.apply(o||null,l||[])})},f.inherits=function(i,l){function o(){}o.prototype=l.prototype,i.prototype=new o},f.extend=function(){var i,l,o={};for(i=0;i<arguments.length;i++)for(l in arguments[i])Object.prototype.hasOwnProperty.call(arguments[i],l)&&o[l]===void 0&&(o[l]=arguments[i][l]);return o},f.prepareContent=function(i,l,o,m,w){return u.Promise.resolve(l).then(function(k){return a.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new u.Promise(function(z,D){var L=new FileReader;L.onload=function(O){z(O.target.result)},L.onerror=function(O){D(O.target.error)},L.readAsArrayBuffer(k)}):k}).then(function(k){var z=f.getTypeOf(k);return z?(z==="arraybuffer"?k=f.transformTo("uint8array",k):z==="string"&&(w?k=s.decode(k):o&&m!==!0&&(k=function(D){return g(D,a.uint8array?new Uint8Array(D.length):new Array(D.length))}(k))),k):u.Promise.reject(new Error("Can't read the data of '"+i+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(c,S,f){var a=c("./reader/readerFor"),s=c("./utils"),r=c("./signature"),u=c("./zipEntry"),d=c("./support");function g(_){this.files=[],this.loadOptions=_}g.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(b)+", expected "+s.pretty(_)+")")}},isSignature:function(_,b){var n=this.reader.index;this.reader.setIndex(_);var p=this.reader.readString(4)===b;return this.reader.setIndex(n),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),b=d.uint8array?"uint8array":"array",n=s.transformTo(b,_);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,b,n,p=this.zip64EndOfCentralSize-44;0<p;)_=this.reader.readInt(2),b=this.reader.readInt(4),n=this.reader.readData(b),this.zip64ExtensibleData[_]={id:_,length:b,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,b;for(_=0;_<this.files.length;_++)b=this.files[_],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(r.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(r.CENTRAL_FILE_HEADER);)(_=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(r.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,r.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var b=_;if(this.checkSignature(r.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,r.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(r.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var p=b-n;if(0<p)this.isSignature(b,r.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(_){this.reader=a(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},S.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(c,S,f){var a=c("./reader/readerFor"),s=c("./utils"),r=c("./compressedObject"),u=c("./crc32"),d=c("./utf8"),g=c("./compressions"),_=c("./support");function b(n,p){this.options=n,this.loadOptions=p}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(n){var p,i;if(n.skip(22),this.fileNameLength=n.readInt(2),i=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(i),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(l){for(var o in g)if(Object.prototype.hasOwnProperty.call(g,o)&&g[o].magic===l)return g[o];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new r(this.compressedSize,this.uncompressedSize,this.crc32,p,n.readData(this.compressedSize))},readCentralPart:function(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var p=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(p),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),n==0&&(this.dosPermissions=63&this.externalFileAttributes),n==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var n=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(n){var p,i,l,o=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index+4<o;)p=n.readInt(2),i=n.readInt(2),l=n.readData(i),this.extraFields[p]={id:p,length:i,value:l};n.setIndex(o)},handleUTF8:function(){var n=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var i=s.transformTo(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var l=this.findExtraFieldUnicodeComment();if(l!==null)this.fileCommentStr=l;else{var o=s.transformTo(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var n=this.extraFields[28789];if(n){var p=a(n.value);return p.readInt(1)!==1||u(this.fileName)!==p.readInt(4)?null:d.utf8decode(p.readData(n.length-5))}return null},findExtraFieldUnicodeComment:function(){var n=this.extraFields[25461];if(n){var p=a(n.value);return p.readInt(1)!==1||u(this.fileComment)!==p.readInt(4)?null:d.utf8decode(p.readData(n.length-5))}return null}},S.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(c,S,f){function a(p,i,l){this.name=p,this.dir=l.dir,this.date=l.date,this.comment=l.comment,this.unixPermissions=l.unixPermissions,this.dosPermissions=l.dosPermissions,this._data=i,this._dataBinary=l.binary,this.options={compression:l.compression,compressionOptions:l.compressionOptions}}var s=c("./stream/StreamHelper"),r=c("./stream/DataWorker"),u=c("./utf8"),d=c("./compressedObject"),g=c("./stream/GenericWorker");a.prototype={internalStream:function(p){var i=null,l="string";try{if(!p)throw new Error("No output type specified.");var o=(l=p.toLowerCase())==="string"||l==="text";l!=="binarystring"&&l!=="text"||(l="string"),i=this._decompressWorker();var m=!this._dataBinary;m&&!o&&(i=i.pipe(new u.Utf8EncodeWorker)),!m&&o&&(i=i.pipe(new u.Utf8DecodeWorker))}catch(w){(i=new g("error")).error(w)}return new s(i,l,"")},async:function(p,i){return this.internalStream(p).accumulate(i)},nodeStream:function(p,i){return this.internalStream(p||"nodebuffer").toNodejsStream(i)},_compressWorker:function(p,i){if(this._data instanceof d&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var l=this._decompressWorker();return this._dataBinary||(l=l.pipe(new u.Utf8EncodeWorker)),d.createWorkerFrom(l,p,i)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof g?this._data:new r(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},n=0;n<_.length;n++)a.prototype[_[n]]=b;S.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(c,S,f){(function(a){var s,r,u=a.MutationObserver||a.WebKitMutationObserver;if(u){var d=0,g=new u(p),_=a.document.createTextNode("");g.observe(_,{characterData:!0}),s=function(){_.data=d=++d%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var i=a.document.createElement("script");i.onreadystatechange=function(){p(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},a.document.documentElement.appendChild(i)}:function(){setTimeout(p,0)};else{var b=new a.MessageChannel;b.port1.onmessage=p,s=function(){b.port2.postMessage(0)}}var n=[];function p(){var i,l;r=!0;for(var o=n.length;o;){for(l=n,n=[],i=-1;++i<o;)l[i]();o=n.length}r=!1}S.exports=function(i){n.push(i)!==1||r||s()}}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(c,S,f){var a=c("immediate");function s(){}var r={},u=["REJECTED"],d=["FULFILLED"],g=["PENDING"];function _(o){if(typeof o!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,o!==s&&i(this,o)}function b(o,m,w){this.promise=o,typeof m=="function"&&(this.onFulfilled=m,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function n(o,m,w){a(function(){var k;try{k=m(w)}catch(z){return r.reject(o,z)}k===o?r.reject(o,new TypeError("Cannot resolve promise with itself")):r.resolve(o,k)})}function p(o){var m=o&&o.then;if(o&&(typeof o=="object"||typeof o=="function")&&typeof m=="function")return function(){m.apply(o,arguments)}}function i(o,m){var w=!1;function k(L){w||(w=!0,r.reject(o,L))}function z(L){w||(w=!0,r.resolve(o,L))}var D=l(function(){m(z,k)});D.status==="error"&&k(D.value)}function l(o,m){var w={};try{w.value=o(m),w.status="success"}catch(k){w.status="error",w.value=k}return w}(S.exports=_).prototype.finally=function(o){if(typeof o!="function")return this;var m=this.constructor;return this.then(function(w){return m.resolve(o()).then(function(){return w})},function(w){return m.resolve(o()).then(function(){throw w})})},_.prototype.catch=function(o){return this.then(null,o)},_.prototype.then=function(o,m){if(typeof o!="function"&&this.state===d||typeof m!="function"&&this.state===u)return this;var w=new this.constructor(s);return this.state!==g?n(w,this.state===d?o:m,this.outcome):this.queue.push(new b(w,o,m)),w},b.prototype.callFulfilled=function(o){r.resolve(this.promise,o)},b.prototype.otherCallFulfilled=function(o){n(this.promise,this.onFulfilled,o)},b.prototype.callRejected=function(o){r.reject(this.promise,o)},b.prototype.otherCallRejected=function(o){n(this.promise,this.onRejected,o)},r.resolve=function(o,m){var w=l(p,m);if(w.status==="error")return r.reject(o,w.value);var k=w.value;if(k)i(o,k);else{o.state=d,o.outcome=m;for(var z=-1,D=o.queue.length;++z<D;)o.queue[z].callFulfilled(m)}return o},r.reject=function(o,m){o.state=u,o.outcome=m;for(var w=-1,k=o.queue.length;++w<k;)o.queue[w].callRejected(m);return o},_.resolve=function(o){return o instanceof this?o:r.resolve(new this(s),o)},_.reject=function(o){var m=new this(s);return r.reject(m,o)},_.all=function(o){var m=this;if(Object.prototype.toString.call(o)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=o.length,k=!1;if(!w)return this.resolve([]);for(var z=new Array(w),D=0,L=-1,O=new this(s);++L<w;)E(o[L],L);return O;function E(j,J){m.resolve(j).then(function(y){z[J]=y,++D!==w||k||(k=!0,r.resolve(O,z))},function(y){k||(k=!0,r.reject(O,y))})}},_.race=function(o){var m=this;if(Object.prototype.toString.call(o)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=o.length,k=!1;if(!w)return this.resolve([]);for(var z=-1,D=new this(s);++z<w;)L=o[z],m.resolve(L).then(function(O){k||(k=!0,r.resolve(D,O))},function(O){k||(k=!0,r.reject(D,O))});var L;return D}},{immediate:36}],38:[function(c,S,f){var a={};(0,c("./lib/utils/common").assign)(a,c("./lib/deflate"),c("./lib/inflate"),c("./lib/zlib/constants")),S.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(c,S,f){var a=c("./zlib/deflate"),s=c("./utils/common"),r=c("./utils/strings"),u=c("./zlib/messages"),d=c("./zlib/zstream"),g=Object.prototype.toString,_=0,b=-1,n=0,p=8;function i(o){if(!(this instanceof i))return new i(o);this.options=s.assign({level:b,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},o||{});var m=this.options;m.raw&&0<m.windowBits?m.windowBits=-m.windowBits:m.gzip&&0<m.windowBits&&m.windowBits<16&&(m.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var w=a.deflateInit2(this.strm,m.level,m.method,m.windowBits,m.memLevel,m.strategy);if(w!==_)throw new Error(u[w]);if(m.header&&a.deflateSetHeader(this.strm,m.header),m.dictionary){var k;if(k=typeof m.dictionary=="string"?r.string2buf(m.dictionary):g.call(m.dictionary)==="[object ArrayBuffer]"?new Uint8Array(m.dictionary):m.dictionary,(w=a.deflateSetDictionary(this.strm,k))!==_)throw new Error(u[w]);this._dict_set=!0}}function l(o,m){var w=new i(m);if(w.push(o,!0),w.err)throw w.msg||u[w.err];return w.result}i.prototype.push=function(o,m){var w,k,z=this.strm,D=this.options.chunkSize;if(this.ended)return!1;k=m===~~m?m:m===!0?4:0,typeof o=="string"?z.input=r.string2buf(o):g.call(o)==="[object ArrayBuffer]"?z.input=new Uint8Array(o):z.input=o,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new s.Buf8(D),z.next_out=0,z.avail_out=D),(w=a.deflate(z,k))!==1&&w!==_)return this.onEnd(w),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(r.buf2binstring(s.shrinkBuf(z.output,z.next_out))):this.onData(s.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&w!==1);return k===4?(w=a.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===_):k!==2||(this.onEnd(_),!(z.avail_out=0))},i.prototype.onData=function(o){this.chunks.push(o)},i.prototype.onEnd=function(o){o===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg},f.Deflate=i,f.deflate=l,f.deflateRaw=function(o,m){return(m=m||{}).raw=!0,l(o,m)},f.gzip=function(o,m){return(m=m||{}).gzip=!0,l(o,m)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(c,S,f){var a=c("./zlib/inflate"),s=c("./utils/common"),r=c("./utils/strings"),u=c("./zlib/constants"),d=c("./zlib/messages"),g=c("./zlib/zstream"),_=c("./zlib/gzheader"),b=Object.prototype.toString;function n(i){if(!(this instanceof n))return new n(i);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},i||{});var l=this.options;l.raw&&0<=l.windowBits&&l.windowBits<16&&(l.windowBits=-l.windowBits,l.windowBits===0&&(l.windowBits=-15)),!(0<=l.windowBits&&l.windowBits<16)||i&&i.windowBits||(l.windowBits+=32),15<l.windowBits&&l.windowBits<48&&!(15&l.windowBits)&&(l.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var o=a.inflateInit2(this.strm,l.windowBits);if(o!==u.Z_OK)throw new Error(d[o]);this.header=new _,a.inflateGetHeader(this.strm,this.header)}function p(i,l){var o=new n(l);if(o.push(i,!0),o.err)throw o.msg||d[o.err];return o.result}n.prototype.push=function(i,l){var o,m,w,k,z,D,L=this.strm,O=this.options.chunkSize,E=this.options.dictionary,j=!1;if(this.ended)return!1;m=l===~~l?l:l===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof i=="string"?L.input=r.binstring2buf(i):b.call(i)==="[object ArrayBuffer]"?L.input=new Uint8Array(i):L.input=i,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new s.Buf8(O),L.next_out=0,L.avail_out=O),(o=a.inflate(L,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&E&&(D=typeof E=="string"?r.string2buf(E):b.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,o=a.inflateSetDictionary(this.strm,D)),o===u.Z_BUF_ERROR&&j===!0&&(o=u.Z_OK,j=!1),o!==u.Z_STREAM_END&&o!==u.Z_OK)return this.onEnd(o),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&o!==u.Z_STREAM_END&&(L.avail_in!==0||m!==u.Z_FINISH&&m!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=r.utf8border(L.output,L.next_out),k=L.next_out-w,z=r.buf2string(L.output,w),L.next_out=k,L.avail_out=O-k,k&&s.arraySet(L.output,L.output,w,k,0),this.onData(z)):this.onData(s.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(j=!0)}while((0<L.avail_in||L.avail_out===0)&&o!==u.Z_STREAM_END);return o===u.Z_STREAM_END&&(m=u.Z_FINISH),m===u.Z_FINISH?(o=a.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===u.Z_OK):m!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(L.avail_out=0))},n.prototype.onData=function(i){this.chunks.push(i)},n.prototype.onEnd=function(i){i===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg},f.Inflate=n,f.inflate=p,f.inflateRaw=function(i,l){return(l=l||{}).raw=!0,p(i,l)},f.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(c,S,f){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";f.assign=function(u){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var g=d.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var _ in g)g.hasOwnProperty(_)&&(u[_]=g[_])}}return u},f.shrinkBuf=function(u,d){return u.length===d?u:u.subarray?u.subarray(0,d):(u.length=d,u)};var s={arraySet:function(u,d,g,_,b){if(d.subarray&&u.subarray)u.set(d.subarray(g,g+_),b);else for(var n=0;n<_;n++)u[b+n]=d[g+n]},flattenChunks:function(u){var d,g,_,b,n,p;for(d=_=0,g=u.length;d<g;d++)_+=u[d].length;for(p=new Uint8Array(_),d=b=0,g=u.length;d<g;d++)n=u[d],p.set(n,b),b+=n.length;return p}},r={arraySet:function(u,d,g,_,b){for(var n=0;n<_;n++)u[b+n]=d[g+n]},flattenChunks:function(u){return[].concat.apply([],u)}};f.setTyped=function(u){u?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,s)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,r))},f.setTyped(a)},{}],42:[function(c,S,f){var a=c("./common"),s=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{r=!1}for(var u=new a.Buf8(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function g(_,b){if(b<65537&&(_.subarray&&r||!_.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(_,b));for(var n="",p=0;p<b;p++)n+=String.fromCharCode(_[p]);return n}u[254]=u[254]=1,f.string2buf=function(_){var b,n,p,i,l,o=_.length,m=0;for(i=0;i<o;i++)(64512&(n=_.charCodeAt(i)))==55296&&i+1<o&&(64512&(p=_.charCodeAt(i+1)))==56320&&(n=65536+(n-55296<<10)+(p-56320),i++),m+=n<128?1:n<2048?2:n<65536?3:4;for(b=new a.Buf8(m),i=l=0;l<m;i++)(64512&(n=_.charCodeAt(i)))==55296&&i+1<o&&(64512&(p=_.charCodeAt(i+1)))==56320&&(n=65536+(n-55296<<10)+(p-56320),i++),n<128?b[l++]=n:(n<2048?b[l++]=192|n>>>6:(n<65536?b[l++]=224|n>>>12:(b[l++]=240|n>>>18,b[l++]=128|n>>>12&63),b[l++]=128|n>>>6&63),b[l++]=128|63&n);return b},f.buf2binstring=function(_){return g(_,_.length)},f.binstring2buf=function(_){for(var b=new a.Buf8(_.length),n=0,p=b.length;n<p;n++)b[n]=_.charCodeAt(n);return b},f.buf2string=function(_,b){var n,p,i,l,o=b||_.length,m=new Array(2*o);for(n=p=0;n<o;)if((i=_[n++])<128)m[p++]=i;else if(4<(l=u[i]))m[p++]=65533,n+=l-1;else{for(i&=l===2?31:l===3?15:7;1<l&&n<o;)i=i<<6|63&_[n++],l--;1<l?m[p++]=65533:i<65536?m[p++]=i:(i-=65536,m[p++]=55296|i>>10&1023,m[p++]=56320|1023&i)}return g(m,p)},f.utf8border=function(_,b){var n;for((b=b||_.length)>_.length&&(b=_.length),n=b-1;0<=n&&(192&_[n])==128;)n--;return n<0||n===0?b:n+u[_[n]]>b?n:b}},{"./common":41}],43:[function(c,S,f){S.exports=function(a,s,r,u){for(var d=65535&a|0,g=a>>>16&65535|0,_=0;r!==0;){for(r-=_=2e3<r?2e3:r;g=g+(d=d+s[u++]|0)|0,--_;);d%=65521,g%=65521}return d|g<<16|0}},{}],44:[function(c,S,f){S.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(c,S,f){var a=function(){for(var s,r=[],u=0;u<256;u++){s=u;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;r[u]=s}return r}();S.exports=function(s,r,u,d){var g=a,_=d+u;s^=-1;for(var b=d;b<_;b++)s=s>>>8^g[255&(s^r[b])];return-1^s}},{}],46:[function(c,S,f){var a,s=c("../utils/common"),r=c("./trees"),u=c("./adler32"),d=c("./crc32"),g=c("./messages"),_=0,b=4,n=0,p=-2,i=-1,l=4,o=2,m=8,w=9,k=286,z=30,D=19,L=2*k+1,O=15,E=3,j=258,J=j+E+1,y=42,A=113,e=1,R=2,Q=3,M=4;function it(t,F){return t.msg=g[F],F}function W(t){return(t<<1)-(4<t?9:0)}function rt(t){for(var F=t.length;0<=--F;)t[F]=0}function I(t){var F=t.state,B=F.pending;B>t.avail_out&&(B=t.avail_out),B!==0&&(s.arraySet(t.output,F.pending_buf,F.pending_out,B,t.next_out),t.next_out+=B,F.pending_out+=B,t.total_out+=B,t.avail_out-=B,F.pending-=B,F.pending===0&&(F.pending_out=0))}function T(t,F){r._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,F),t.block_start=t.strstart,I(t.strm)}function tt(t,F){t.pending_buf[t.pending++]=F}function G(t,F){t.pending_buf[t.pending++]=F>>>8&255,t.pending_buf[t.pending++]=255&F}function q(t,F){var B,v,h=t.max_chain_length,x=t.strstart,P=t.prev_length,$=t.nice_match,C=t.strstart>t.w_size-J?t.strstart-(t.w_size-J):0,Z=t.window,K=t.w_mask,H=t.prev,et=t.strstart+j,ct=Z[x+P-1],at=Z[x+P];t.prev_length>=t.good_match&&(h>>=2),$>t.lookahead&&($=t.lookahead);do if(Z[(B=F)+P]===at&&Z[B+P-1]===ct&&Z[B]===Z[x]&&Z[++B]===Z[x+1]){x+=2,B++;do;while(Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&Z[++x]===Z[++B]&&x<et);if(v=j-(et-x),x=et-j,P<v){if(t.match_start=F,$<=(P=v))break;ct=Z[x+P-1],at=Z[x+P]}}while((F=H[F&K])>C&&--h!=0);return P<=t.lookahead?P:t.lookahead}function ht(t){var F,B,v,h,x,P,$,C,Z,K,H=t.w_size;do{if(h=t.window_size-t.lookahead-t.strstart,t.strstart>=H+(H-J)){for(s.arraySet(t.window,t.window,H,H,0),t.match_start-=H,t.strstart-=H,t.block_start-=H,F=B=t.hash_size;v=t.head[--F],t.head[F]=H<=v?v-H:0,--B;);for(F=B=H;v=t.prev[--F],t.prev[F]=H<=v?v-H:0,--B;);h+=H}if(t.strm.avail_in===0)break;if(P=t.strm,$=t.window,C=t.strstart+t.lookahead,Z=h,K=void 0,K=P.avail_in,Z<K&&(K=Z),B=K===0?0:(P.avail_in-=K,s.arraySet($,P.input,P.next_in,K,C),P.state.wrap===1?P.adler=u(P.adler,$,K,C):P.state.wrap===2&&(P.adler=d(P.adler,$,K,C)),P.next_in+=K,P.total_in+=K,K),t.lookahead+=B,t.lookahead+t.insert>=E)for(x=t.strstart-t.insert,t.ins_h=t.window[x],t.ins_h=(t.ins_h<<t.hash_shift^t.window[x+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[x+E-1])&t.hash_mask,t.prev[x&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=x,x++,t.insert--,!(t.lookahead+t.insert<E)););}while(t.lookahead<J&&t.strm.avail_in!==0)}function vt(t,F){for(var B,v;;){if(t.lookahead<J){if(ht(t),t.lookahead<J&&F===_)return e;if(t.lookahead===0)break}if(B=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),B!==0&&t.strstart-B<=t.w_size-J&&(t.match_length=q(t,B)),t.match_length>=E)if(v=r._tr_tally(t,t.strstart-t.match_start,t.match_length-E),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=E){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else v=r._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(v&&(T(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<E-1?t.strstart:E-1,F===b?(T(t,!0),t.strm.avail_out===0?Q:M):t.last_lit&&(T(t,!1),t.strm.avail_out===0)?e:R}function st(t,F){for(var B,v,h;;){if(t.lookahead<J){if(ht(t),t.lookahead<J&&F===_)return e;if(t.lookahead===0)break}if(B=0,t.lookahead>=E&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=E-1,B!==0&&t.prev_length<t.max_lazy_match&&t.strstart-B<=t.w_size-J&&(t.match_length=q(t,B),t.match_length<=5&&(t.strategy===1||t.match_length===E&&4096<t.strstart-t.match_start)&&(t.match_length=E-1)),t.prev_length>=E&&t.match_length<=t.prev_length){for(h=t.strstart+t.lookahead-E,v=r._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-E),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=h&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+E-1])&t.hash_mask,B=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=E-1,t.strstart++,v&&(T(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((v=r._tr_tally(t,0,t.window[t.strstart-1]))&&T(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(v=r._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<E-1?t.strstart:E-1,F===b?(T(t,!0),t.strm.avail_out===0?Q:M):t.last_lit&&(T(t,!1),t.strm.avail_out===0)?e:R}function lt(t,F,B,v,h){this.good_length=t,this.max_lazy=F,this.nice_length=B,this.max_chain=v,this.func=h}function _t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*L),this.dyn_dtree=new s.Buf16(2*(2*z+1)),this.bl_tree=new s.Buf16(2*(2*D+1)),rt(this.dyn_ltree),rt(this.dyn_dtree),rt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(O+1),this.heap=new s.Buf16(2*k+1),rt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*k+1),rt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pt(t){var F;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=o,(F=t.state).pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?y:A,t.adler=F.wrap===2?0:1,F.last_flush=_,r._tr_init(F),n):it(t,p)}function wt(t){var F=pt(t);return F===n&&function(B){B.window_size=2*B.w_size,rt(B.head),B.max_lazy_match=a[B.level].max_lazy,B.good_match=a[B.level].good_length,B.nice_match=a[B.level].nice_length,B.max_chain_length=a[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=E-1,B.match_available=0,B.ins_h=0}(t.state),F}function dt(t,F,B,v,h,x){if(!t)return p;var P=1;if(F===i&&(F=6),v<0?(P=0,v=-v):15<v&&(P=2,v-=16),h<1||w<h||B!==m||v<8||15<v||F<0||9<F||x<0||l<x)return it(t,p);v===8&&(v=9);var $=new _t;return(t.state=$).strm=t,$.wrap=P,$.gzhead=null,$.w_bits=v,$.w_size=1<<$.w_bits,$.w_mask=$.w_size-1,$.hash_bits=h+7,$.hash_size=1<<$.hash_bits,$.hash_mask=$.hash_size-1,$.hash_shift=~~(($.hash_bits+E-1)/E),$.window=new s.Buf8(2*$.w_size),$.head=new s.Buf16($.hash_size),$.prev=new s.Buf16($.w_size),$.lit_bufsize=1<<h+6,$.pending_buf_size=4*$.lit_bufsize,$.pending_buf=new s.Buf8($.pending_buf_size),$.d_buf=1*$.lit_bufsize,$.l_buf=3*$.lit_bufsize,$.level=F,$.strategy=x,$.method=B,wt(t)}a=[new lt(0,0,0,0,function(t,F){var B=65535;for(B>t.pending_buf_size-5&&(B=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ht(t),t.lookahead===0&&F===_)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var v=t.block_start+B;if((t.strstart===0||t.strstart>=v)&&(t.lookahead=t.strstart-v,t.strstart=v,T(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-J&&(T(t,!1),t.strm.avail_out===0))return e}return t.insert=0,F===b?(T(t,!0),t.strm.avail_out===0?Q:M):(t.strstart>t.block_start&&(T(t,!1),t.strm.avail_out),e)}),new lt(4,4,8,4,vt),new lt(4,5,16,8,vt),new lt(4,6,32,32,vt),new lt(4,4,16,16,st),new lt(8,16,32,32,st),new lt(8,16,128,128,st),new lt(8,32,128,256,st),new lt(32,128,258,1024,st),new lt(32,258,258,4096,st)],f.deflateInit=function(t,F){return dt(t,F,m,15,8,0)},f.deflateInit2=dt,f.deflateReset=wt,f.deflateResetKeep=pt,f.deflateSetHeader=function(t,F){return t&&t.state?t.state.wrap!==2?p:(t.state.gzhead=F,n):p},f.deflate=function(t,F){var B,v,h,x;if(!t||!t.state||5<F||F<0)return t?it(t,p):p;if(v=t.state,!t.output||!t.input&&t.avail_in!==0||v.status===666&&F!==b)return it(t,t.avail_out===0?-5:p);if(v.strm=t,B=v.last_flush,v.last_flush=F,v.status===y)if(v.wrap===2)t.adler=0,tt(v,31),tt(v,139),tt(v,8),v.gzhead?(tt(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),tt(v,255&v.gzhead.time),tt(v,v.gzhead.time>>8&255),tt(v,v.gzhead.time>>16&255),tt(v,v.gzhead.time>>24&255),tt(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),tt(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(tt(v,255&v.gzhead.extra.length),tt(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(t.adler=d(t.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(tt(v,0),tt(v,0),tt(v,0),tt(v,0),tt(v,0),tt(v,v.level===9?2:2<=v.strategy||v.level<2?4:0),tt(v,3),v.status=A);else{var P=m+(v.w_bits-8<<4)<<8;P|=(2<=v.strategy||v.level<2?0:v.level<6?1:v.level===6?2:3)<<6,v.strstart!==0&&(P|=32),P+=31-P%31,v.status=A,G(v,P),v.strstart!==0&&(G(v,t.adler>>>16),G(v,65535&t.adler)),t.adler=1}if(v.status===69)if(v.gzhead.extra){for(h=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>h&&(t.adler=d(t.adler,v.pending_buf,v.pending-h,h)),I(t),h=v.pending,v.pending!==v.pending_buf_size));)tt(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>h&&(t.adler=d(t.adler,v.pending_buf,v.pending-h,h)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(v.status===73)if(v.gzhead.name){h=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>h&&(t.adler=d(t.adler,v.pending_buf,v.pending-h,h)),I(t),h=v.pending,v.pending===v.pending_buf_size)){x=1;break}x=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,tt(v,x)}while(x!==0);v.gzhead.hcrc&&v.pending>h&&(t.adler=d(t.adler,v.pending_buf,v.pending-h,h)),x===0&&(v.gzindex=0,v.status=91)}else v.status=91;if(v.status===91)if(v.gzhead.comment){h=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>h&&(t.adler=d(t.adler,v.pending_buf,v.pending-h,h)),I(t),h=v.pending,v.pending===v.pending_buf_size)){x=1;break}x=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,tt(v,x)}while(x!==0);v.gzhead.hcrc&&v.pending>h&&(t.adler=d(t.adler,v.pending_buf,v.pending-h,h)),x===0&&(v.status=103)}else v.status=103;if(v.status===103&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&I(t),v.pending+2<=v.pending_buf_size&&(tt(v,255&t.adler),tt(v,t.adler>>8&255),t.adler=0,v.status=A)):v.status=A),v.pending!==0){if(I(t),t.avail_out===0)return v.last_flush=-1,n}else if(t.avail_in===0&&W(F)<=W(B)&&F!==b)return it(t,-5);if(v.status===666&&t.avail_in!==0)return it(t,-5);if(t.avail_in!==0||v.lookahead!==0||F!==_&&v.status!==666){var $=v.strategy===2?function(C,Z){for(var K;;){if(C.lookahead===0&&(ht(C),C.lookahead===0)){if(Z===_)return e;break}if(C.match_length=0,K=r._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,K&&(T(C,!1),C.strm.avail_out===0))return e}return C.insert=0,Z===b?(T(C,!0),C.strm.avail_out===0?Q:M):C.last_lit&&(T(C,!1),C.strm.avail_out===0)?e:R}(v,F):v.strategy===3?function(C,Z){for(var K,H,et,ct,at=C.window;;){if(C.lookahead<=j){if(ht(C),C.lookahead<=j&&Z===_)return e;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=E&&0<C.strstart&&(H=at[et=C.strstart-1])===at[++et]&&H===at[++et]&&H===at[++et]){ct=C.strstart+j;do;while(H===at[++et]&&H===at[++et]&&H===at[++et]&&H===at[++et]&&H===at[++et]&&H===at[++et]&&H===at[++et]&&H===at[++et]&&et<ct);C.match_length=j-(ct-et),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=E?(K=r._tr_tally(C,1,C.match_length-E),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(K=r._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),K&&(T(C,!1),C.strm.avail_out===0))return e}return C.insert=0,Z===b?(T(C,!0),C.strm.avail_out===0?Q:M):C.last_lit&&(T(C,!1),C.strm.avail_out===0)?e:R}(v,F):a[v.level].func(v,F);if($!==Q&&$!==M||(v.status=666),$===e||$===Q)return t.avail_out===0&&(v.last_flush=-1),n;if($===R&&(F===1?r._tr_align(v):F!==5&&(r._tr_stored_block(v,0,0,!1),F===3&&(rt(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),I(t),t.avail_out===0))return v.last_flush=-1,n}return F!==b?n:v.wrap<=0?1:(v.wrap===2?(tt(v,255&t.adler),tt(v,t.adler>>8&255),tt(v,t.adler>>16&255),tt(v,t.adler>>24&255),tt(v,255&t.total_in),tt(v,t.total_in>>8&255),tt(v,t.total_in>>16&255),tt(v,t.total_in>>24&255)):(G(v,t.adler>>>16),G(v,65535&t.adler)),I(t),0<v.wrap&&(v.wrap=-v.wrap),v.pending!==0?n:1)},f.deflateEnd=function(t){var F;return t&&t.state?(F=t.state.status)!==y&&F!==69&&F!==73&&F!==91&&F!==103&&F!==A&&F!==666?it(t,p):(t.state=null,F===A?it(t,-3):n):p},f.deflateSetDictionary=function(t,F){var B,v,h,x,P,$,C,Z,K=F.length;if(!t||!t.state||(x=(B=t.state).wrap)===2||x===1&&B.status!==y||B.lookahead)return p;for(x===1&&(t.adler=u(t.adler,F,K,0)),B.wrap=0,K>=B.w_size&&(x===0&&(rt(B.head),B.strstart=0,B.block_start=0,B.insert=0),Z=new s.Buf8(B.w_size),s.arraySet(Z,F,K-B.w_size,B.w_size,0),F=Z,K=B.w_size),P=t.avail_in,$=t.next_in,C=t.input,t.avail_in=K,t.next_in=0,t.input=F,ht(B);B.lookahead>=E;){for(v=B.strstart,h=B.lookahead-(E-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[v+E-1])&B.hash_mask,B.prev[v&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=v,v++,--h;);B.strstart=v,B.lookahead=E-1,ht(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=E-1,B.match_available=0,t.next_in=$,t.input=C,t.avail_in=P,B.wrap=x,n},f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(c,S,f){S.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(c,S,f){S.exports=function(a,s){var r,u,d,g,_,b,n,p,i,l,o,m,w,k,z,D,L,O,E,j,J,y,A,e,R;r=a.state,u=a.next_in,e=a.input,d=u+(a.avail_in-5),g=a.next_out,R=a.output,_=g-(s-a.avail_out),b=g+(a.avail_out-257),n=r.dmax,p=r.wsize,i=r.whave,l=r.wnext,o=r.window,m=r.hold,w=r.bits,k=r.lencode,z=r.distcode,D=(1<<r.lenbits)-1,L=(1<<r.distbits)-1;t:do{w<15&&(m+=e[u++]<<w,w+=8,m+=e[u++]<<w,w+=8),O=k[m&D];e:for(;;){if(m>>>=E=O>>>24,w-=E,(E=O>>>16&255)===0)R[g++]=65535&O;else{if(!(16&E)){if(!(64&E)){O=k[(65535&O)+(m&(1<<E)-1)];continue e}if(32&E){r.mode=12;break t}a.msg="invalid literal/length code",r.mode=30;break t}j=65535&O,(E&=15)&&(w<E&&(m+=e[u++]<<w,w+=8),j+=m&(1<<E)-1,m>>>=E,w-=E),w<15&&(m+=e[u++]<<w,w+=8,m+=e[u++]<<w,w+=8),O=z[m&L];r:for(;;){if(m>>>=E=O>>>24,w-=E,!(16&(E=O>>>16&255))){if(!(64&E)){O=z[(65535&O)+(m&(1<<E)-1)];continue r}a.msg="invalid distance code",r.mode=30;break t}if(J=65535&O,w<(E&=15)&&(m+=e[u++]<<w,(w+=8)<E&&(m+=e[u++]<<w,w+=8)),n<(J+=m&(1<<E)-1)){a.msg="invalid distance too far back",r.mode=30;break t}if(m>>>=E,w-=E,(E=g-_)<J){if(i<(E=J-E)&&r.sane){a.msg="invalid distance too far back",r.mode=30;break t}if(A=o,(y=0)===l){if(y+=p-E,E<j){for(j-=E;R[g++]=o[y++],--E;);y=g-J,A=R}}else if(l<E){if(y+=p+l-E,(E-=l)<j){for(j-=E;R[g++]=o[y++],--E;);if(y=0,l<j){for(j-=E=l;R[g++]=o[y++],--E;);y=g-J,A=R}}}else if(y+=l-E,E<j){for(j-=E;R[g++]=o[y++],--E;);y=g-J,A=R}for(;2<j;)R[g++]=A[y++],R[g++]=A[y++],R[g++]=A[y++],j-=3;j&&(R[g++]=A[y++],1<j&&(R[g++]=A[y++]))}else{for(y=g-J;R[g++]=R[y++],R[g++]=R[y++],R[g++]=R[y++],2<(j-=3););j&&(R[g++]=R[y++],1<j&&(R[g++]=R[y++]))}break}}break}}while(u<d&&g<b);u-=j=w>>3,m&=(1<<(w-=j<<3))-1,a.next_in=u,a.next_out=g,a.avail_in=u<d?d-u+5:5-(u-d),a.avail_out=g<b?b-g+257:257-(g-b),r.hold=m,r.bits=w}},{}],49:[function(c,S,f){var a=c("../utils/common"),s=c("./adler32"),r=c("./crc32"),u=c("./inffast"),d=c("./inftrees"),g=1,_=2,b=0,n=-2,p=1,i=852,l=592;function o(y){return(y>>>24&255)+(y>>>8&65280)+((65280&y)<<8)+((255&y)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(y){var A;return y&&y.state?(A=y.state,y.total_in=y.total_out=A.total=0,y.msg="",A.wrap&&(y.adler=1&A.wrap),A.mode=p,A.last=0,A.havedict=0,A.dmax=32768,A.head=null,A.hold=0,A.bits=0,A.lencode=A.lendyn=new a.Buf32(i),A.distcode=A.distdyn=new a.Buf32(l),A.sane=1,A.back=-1,b):n}function k(y){var A;return y&&y.state?((A=y.state).wsize=0,A.whave=0,A.wnext=0,w(y)):n}function z(y,A){var e,R;return y&&y.state?(R=y.state,A<0?(e=0,A=-A):(e=1+(A>>4),A<48&&(A&=15)),A&&(A<8||15<A)?n:(R.window!==null&&R.wbits!==A&&(R.window=null),R.wrap=e,R.wbits=A,k(y))):n}function D(y,A){var e,R;return y?(R=new m,(y.state=R).window=null,(e=z(y,A))!==b&&(y.state=null),e):n}var L,O,E=!0;function j(y){if(E){var A;for(L=new a.Buf32(512),O=new a.Buf32(32),A=0;A<144;)y.lens[A++]=8;for(;A<256;)y.lens[A++]=9;for(;A<280;)y.lens[A++]=7;for(;A<288;)y.lens[A++]=8;for(d(g,y.lens,0,288,L,0,y.work,{bits:9}),A=0;A<32;)y.lens[A++]=5;d(_,y.lens,0,32,O,0,y.work,{bits:5}),E=!1}y.lencode=L,y.lenbits=9,y.distcode=O,y.distbits=5}function J(y,A,e,R){var Q,M=y.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new a.Buf8(M.wsize)),R>=M.wsize?(a.arraySet(M.window,A,e-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(R<(Q=M.wsize-M.wnext)&&(Q=R),a.arraySet(M.window,A,e-R,Q,M.wnext),(R-=Q)?(a.arraySet(M.window,A,e-R,R,0),M.wnext=R,M.whave=M.wsize):(M.wnext+=Q,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=Q))),0}f.inflateReset=k,f.inflateReset2=z,f.inflateResetKeep=w,f.inflateInit=function(y){return D(y,15)},f.inflateInit2=D,f.inflate=function(y,A){var e,R,Q,M,it,W,rt,I,T,tt,G,q,ht,vt,st,lt,_t,pt,wt,dt,t,F,B,v,h=0,x=new a.Buf8(4),P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!y||!y.state||!y.output||!y.input&&y.avail_in!==0)return n;(e=y.state).mode===12&&(e.mode=13),it=y.next_out,Q=y.output,rt=y.avail_out,M=y.next_in,R=y.input,W=y.avail_in,I=e.hold,T=e.bits,tt=W,G=rt,F=b;t:for(;;)switch(e.mode){case p:if(e.wrap===0){e.mode=13;break}for(;T<16;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}if(2&e.wrap&&I===35615){x[e.check=0]=255&I,x[1]=I>>>8&255,e.check=r(e.check,x,2,0),T=I=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&I)<<8)+(I>>8))%31){y.msg="incorrect header check",e.mode=30;break}if((15&I)!=8){y.msg="unknown compression method",e.mode=30;break}if(T-=4,t=8+(15&(I>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){y.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,y.adler=e.check=1,e.mode=512&I?10:12,T=I=0;break;case 2:for(;T<16;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}if(e.flags=I,(255&e.flags)!=8){y.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){y.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=I>>8&1),512&e.flags&&(x[0]=255&I,x[1]=I>>>8&255,e.check=r(e.check,x,2,0)),T=I=0,e.mode=3;case 3:for(;T<32;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}e.head&&(e.head.time=I),512&e.flags&&(x[0]=255&I,x[1]=I>>>8&255,x[2]=I>>>16&255,x[3]=I>>>24&255,e.check=r(e.check,x,4,0)),T=I=0,e.mode=4;case 4:for(;T<16;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}e.head&&(e.head.xflags=255&I,e.head.os=I>>8),512&e.flags&&(x[0]=255&I,x[1]=I>>>8&255,e.check=r(e.check,x,2,0)),T=I=0,e.mode=5;case 5:if(1024&e.flags){for(;T<16;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}e.length=I,e.head&&(e.head.extra_len=I),512&e.flags&&(x[0]=255&I,x[1]=I>>>8&255,e.check=r(e.check,x,2,0)),T=I=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(W<(q=e.length)&&(q=W),q&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),a.arraySet(e.head.extra,R,M,q,t)),512&e.flags&&(e.check=r(e.check,R,q,M)),W-=q,M+=q,e.length-=q),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(W===0)break t;for(q=0;t=R[M+q++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&q<W;);if(512&e.flags&&(e.check=r(e.check,R,q,M)),W-=q,M+=q,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(W===0)break t;for(q=0;t=R[M+q++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&q<W;);if(512&e.flags&&(e.check=r(e.check,R,q,M)),W-=q,M+=q,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;T<16;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}if(I!==(65535&e.check)){y.msg="header crc mismatch",e.mode=30;break}T=I=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),y.adler=e.check=0,e.mode=12;break;case 10:for(;T<32;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}y.adler=e.check=o(I),T=I=0,e.mode=11;case 11:if(e.havedict===0)return y.next_out=it,y.avail_out=rt,y.next_in=M,y.avail_in=W,e.hold=I,e.bits=T,2;y.adler=e.check=1,e.mode=12;case 12:if(A===5||A===6)break t;case 13:if(e.last){I>>>=7&T,T-=7&T,e.mode=27;break}for(;T<3;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}switch(e.last=1&I,T-=1,3&(I>>>=1)){case 0:e.mode=14;break;case 1:if(j(e),e.mode=20,A!==6)break;I>>>=2,T-=2;break t;case 2:e.mode=17;break;case 3:y.msg="invalid block type",e.mode=30}I>>>=2,T-=2;break;case 14:for(I>>>=7&T,T-=7&T;T<32;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}if((65535&I)!=(I>>>16^65535)){y.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&I,T=I=0,e.mode=15,A===6)break t;case 15:e.mode=16;case 16:if(q=e.length){if(W<q&&(q=W),rt<q&&(q=rt),q===0)break t;a.arraySet(Q,R,M,q,it),W-=q,M+=q,rt-=q,it+=q,e.length-=q;break}e.mode=12;break;case 17:for(;T<14;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}if(e.nlen=257+(31&I),I>>>=5,T-=5,e.ndist=1+(31&I),I>>>=5,T-=5,e.ncode=4+(15&I),I>>>=4,T-=4,286<e.nlen||30<e.ndist){y.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;T<3;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}e.lens[P[e.have++]]=7&I,I>>>=3,T-=3}for(;e.have<19;)e.lens[P[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,B={bits:e.lenbits},F=d(0,e.lens,0,19,e.lencode,0,e.work,B),e.lenbits=B.bits,F){y.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;lt=(h=e.lencode[I&(1<<e.lenbits)-1])>>>16&255,_t=65535&h,!((st=h>>>24)<=T);){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}if(_t<16)I>>>=st,T-=st,e.lens[e.have++]=_t;else{if(_t===16){for(v=st+2;T<v;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}if(I>>>=st,T-=st,e.have===0){y.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],q=3+(3&I),I>>>=2,T-=2}else if(_t===17){for(v=st+3;T<v;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}T-=st,t=0,q=3+(7&(I>>>=st)),I>>>=3,T-=3}else{for(v=st+7;T<v;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}T-=st,t=0,q=11+(127&(I>>>=st)),I>>>=7,T-=7}if(e.have+q>e.nlen+e.ndist){y.msg="invalid bit length repeat",e.mode=30;break}for(;q--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){y.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,B={bits:e.lenbits},F=d(g,e.lens,0,e.nlen,e.lencode,0,e.work,B),e.lenbits=B.bits,F){y.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,B={bits:e.distbits},F=d(_,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,B),e.distbits=B.bits,F){y.msg="invalid distances set",e.mode=30;break}if(e.mode=20,A===6)break t;case 20:e.mode=21;case 21:if(6<=W&&258<=rt){y.next_out=it,y.avail_out=rt,y.next_in=M,y.avail_in=W,e.hold=I,e.bits=T,u(y,G),it=y.next_out,Q=y.output,rt=y.avail_out,M=y.next_in,R=y.input,W=y.avail_in,I=e.hold,T=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;lt=(h=e.lencode[I&(1<<e.lenbits)-1])>>>16&255,_t=65535&h,!((st=h>>>24)<=T);){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}if(lt&&!(240&lt)){for(pt=st,wt=lt,dt=_t;lt=(h=e.lencode[dt+((I&(1<<pt+wt)-1)>>pt)])>>>16&255,_t=65535&h,!(pt+(st=h>>>24)<=T);){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}I>>>=pt,T-=pt,e.back+=pt}if(I>>>=st,T-=st,e.back+=st,e.length=_t,lt===0){e.mode=26;break}if(32&lt){e.back=-1,e.mode=12;break}if(64&lt){y.msg="invalid literal/length code",e.mode=30;break}e.extra=15&lt,e.mode=22;case 22:if(e.extra){for(v=e.extra;T<v;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}e.length+=I&(1<<e.extra)-1,I>>>=e.extra,T-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;lt=(h=e.distcode[I&(1<<e.distbits)-1])>>>16&255,_t=65535&h,!((st=h>>>24)<=T);){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}if(!(240&lt)){for(pt=st,wt=lt,dt=_t;lt=(h=e.distcode[dt+((I&(1<<pt+wt)-1)>>pt)])>>>16&255,_t=65535&h,!(pt+(st=h>>>24)<=T);){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}I>>>=pt,T-=pt,e.back+=pt}if(I>>>=st,T-=st,e.back+=st,64&lt){y.msg="invalid distance code",e.mode=30;break}e.offset=_t,e.extra=15&lt,e.mode=24;case 24:if(e.extra){for(v=e.extra;T<v;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}e.offset+=I&(1<<e.extra)-1,I>>>=e.extra,T-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){y.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(rt===0)break t;if(q=G-rt,e.offset>q){if((q=e.offset-q)>e.whave&&e.sane){y.msg="invalid distance too far back",e.mode=30;break}ht=q>e.wnext?(q-=e.wnext,e.wsize-q):e.wnext-q,q>e.length&&(q=e.length),vt=e.window}else vt=Q,ht=it-e.offset,q=e.length;for(rt<q&&(q=rt),rt-=q,e.length-=q;Q[it++]=vt[ht++],--q;);e.length===0&&(e.mode=21);break;case 26:if(rt===0)break t;Q[it++]=e.length,rt--,e.mode=21;break;case 27:if(e.wrap){for(;T<32;){if(W===0)break t;W--,I|=R[M++]<<T,T+=8}if(G-=rt,y.total_out+=G,e.total+=G,G&&(y.adler=e.check=e.flags?r(e.check,Q,G,it-G):s(e.check,Q,G,it-G)),G=rt,(e.flags?I:o(I))!==e.check){y.msg="incorrect data check",e.mode=30;break}T=I=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;T<32;){if(W===0)break t;W--,I+=R[M++]<<T,T+=8}if(I!==(4294967295&e.total)){y.msg="incorrect length check",e.mode=30;break}T=I=0}e.mode=29;case 29:F=1;break t;case 30:F=-3;break t;case 31:return-4;case 32:default:return n}return y.next_out=it,y.avail_out=rt,y.next_in=M,y.avail_in=W,e.hold=I,e.bits=T,(e.wsize||G!==y.avail_out&&e.mode<30&&(e.mode<27||A!==4))&&J(y,y.output,y.next_out,G-y.avail_out)?(e.mode=31,-4):(tt-=y.avail_in,G-=y.avail_out,y.total_in+=tt,y.total_out+=G,e.total+=G,e.wrap&&G&&(y.adler=e.check=e.flags?r(e.check,Q,G,y.next_out-G):s(e.check,Q,G,y.next_out-G)),y.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(tt==0&&G===0||A===4)&&F===b&&(F=-5),F)},f.inflateEnd=function(y){if(!y||!y.state)return n;var A=y.state;return A.window&&(A.window=null),y.state=null,b},f.inflateGetHeader=function(y,A){var e;return y&&y.state&&2&(e=y.state).wrap?((e.head=A).done=!1,b):n},f.inflateSetDictionary=function(y,A){var e,R=A.length;return y&&y.state?(e=y.state).wrap!==0&&e.mode!==11?n:e.mode===11&&s(1,A,R,0)!==e.check?-3:J(y,A,R,R)?(e.mode=31,-4):(e.havedict=1,b):n},f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(c,S,f){var a=c("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],r=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];S.exports=function(g,_,b,n,p,i,l,o){var m,w,k,z,D,L,O,E,j,J=o.bits,y=0,A=0,e=0,R=0,Q=0,M=0,it=0,W=0,rt=0,I=0,T=null,tt=0,G=new a.Buf16(16),q=new a.Buf16(16),ht=null,vt=0;for(y=0;y<=15;y++)G[y]=0;for(A=0;A<n;A++)G[_[b+A]]++;for(Q=J,R=15;1<=R&&G[R]===0;R--);if(R<Q&&(Q=R),R===0)return p[i++]=20971520,p[i++]=20971520,o.bits=1,0;for(e=1;e<R&&G[e]===0;e++);for(Q<e&&(Q=e),y=W=1;y<=15;y++)if(W<<=1,(W-=G[y])<0)return-1;if(0<W&&(g===0||R!==1))return-1;for(q[1]=0,y=1;y<15;y++)q[y+1]=q[y]+G[y];for(A=0;A<n;A++)_[b+A]!==0&&(l[q[_[b+A]]++]=A);if(L=g===0?(T=ht=l,19):g===1?(T=s,tt-=257,ht=r,vt-=257,256):(T=u,ht=d,-1),y=e,D=i,it=A=I=0,k=-1,z=(rt=1<<(M=Q))-1,g===1&&852<rt||g===2&&592<rt)return 1;for(;;){for(O=y-it,j=l[A]<L?(E=0,l[A]):l[A]>L?(E=ht[vt+l[A]],T[tt+l[A]]):(E=96,0),m=1<<y-it,e=w=1<<M;p[D+(I>>it)+(w-=m)]=O<<24|E<<16|j|0,w!==0;);for(m=1<<y-1;I&m;)m>>=1;if(m!==0?(I&=m-1,I+=m):I=0,A++,--G[y]==0){if(y===R)break;y=_[b+l[A]]}if(Q<y&&(I&z)!==k){for(it===0&&(it=Q),D+=e,W=1<<(M=y-it);M+it<R&&!((W-=G[M+it])<=0);)M++,W<<=1;if(rt+=1<<M,g===1&&852<rt||g===2&&592<rt)return 1;p[k=I&z]=Q<<24|M<<16|D-i|0}}return I!==0&&(p[D+I]=y-it<<24|64<<16|0),o.bits=Q,0}},{"../utils/common":41}],51:[function(c,S,f){S.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(c,S,f){var a=c("../utils/common"),s=0,r=1;function u(h){for(var x=h.length;0<=--x;)h[x]=0}var d=0,g=29,_=256,b=_+1+g,n=30,p=19,i=2*b+1,l=15,o=16,m=7,w=256,k=16,z=17,D=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(b+2));u(J);var y=new Array(2*n);u(y);var A=new Array(512);u(A);var e=new Array(256);u(e);var R=new Array(g);u(R);var Q,M,it,W=new Array(n);function rt(h,x,P,$,C){this.static_tree=h,this.extra_bits=x,this.extra_base=P,this.elems=$,this.max_length=C,this.has_stree=h&&h.length}function I(h,x){this.dyn_tree=h,this.max_code=0,this.stat_desc=x}function T(h){return h<256?A[h]:A[256+(h>>>7)]}function tt(h,x){h.pending_buf[h.pending++]=255&x,h.pending_buf[h.pending++]=x>>>8&255}function G(h,x,P){h.bi_valid>o-P?(h.bi_buf|=x<<h.bi_valid&65535,tt(h,h.bi_buf),h.bi_buf=x>>o-h.bi_valid,h.bi_valid+=P-o):(h.bi_buf|=x<<h.bi_valid&65535,h.bi_valid+=P)}function q(h,x,P){G(h,P[2*x],P[2*x+1])}function ht(h,x){for(var P=0;P|=1&h,h>>>=1,P<<=1,0<--x;);return P>>>1}function vt(h,x,P){var $,C,Z=new Array(l+1),K=0;for($=1;$<=l;$++)Z[$]=K=K+P[$-1]<<1;for(C=0;C<=x;C++){var H=h[2*C+1];H!==0&&(h[2*C]=ht(Z[H]++,H))}}function st(h){var x;for(x=0;x<b;x++)h.dyn_ltree[2*x]=0;for(x=0;x<n;x++)h.dyn_dtree[2*x]=0;for(x=0;x<p;x++)h.bl_tree[2*x]=0;h.dyn_ltree[2*w]=1,h.opt_len=h.static_len=0,h.last_lit=h.matches=0}function lt(h){8<h.bi_valid?tt(h,h.bi_buf):0<h.bi_valid&&(h.pending_buf[h.pending++]=h.bi_buf),h.bi_buf=0,h.bi_valid=0}function _t(h,x,P,$){var C=2*x,Z=2*P;return h[C]<h[Z]||h[C]===h[Z]&&$[x]<=$[P]}function pt(h,x,P){for(var $=h.heap[P],C=P<<1;C<=h.heap_len&&(C<h.heap_len&&_t(x,h.heap[C+1],h.heap[C],h.depth)&&C++,!_t(x,$,h.heap[C],h.depth));)h.heap[P]=h.heap[C],P=C,C<<=1;h.heap[P]=$}function wt(h,x,P){var $,C,Z,K,H=0;if(h.last_lit!==0)for(;$=h.pending_buf[h.d_buf+2*H]<<8|h.pending_buf[h.d_buf+2*H+1],C=h.pending_buf[h.l_buf+H],H++,$===0?q(h,C,x):(q(h,(Z=e[C])+_+1,x),(K=L[Z])!==0&&G(h,C-=R[Z],K),q(h,Z=T(--$),P),(K=O[Z])!==0&&G(h,$-=W[Z],K)),H<h.last_lit;);q(h,w,x)}function dt(h,x){var P,$,C,Z=x.dyn_tree,K=x.stat_desc.static_tree,H=x.stat_desc.has_stree,et=x.stat_desc.elems,ct=-1;for(h.heap_len=0,h.heap_max=i,P=0;P<et;P++)Z[2*P]!==0?(h.heap[++h.heap_len]=ct=P,h.depth[P]=0):Z[2*P+1]=0;for(;h.heap_len<2;)Z[2*(C=h.heap[++h.heap_len]=ct<2?++ct:0)]=1,h.depth[C]=0,h.opt_len--,H&&(h.static_len-=K[2*C+1]);for(x.max_code=ct,P=h.heap_len>>1;1<=P;P--)pt(h,Z,P);for(C=et;P=h.heap[1],h.heap[1]=h.heap[h.heap_len--],pt(h,Z,1),$=h.heap[1],h.heap[--h.heap_max]=P,h.heap[--h.heap_max]=$,Z[2*C]=Z[2*P]+Z[2*$],h.depth[C]=(h.depth[P]>=h.depth[$]?h.depth[P]:h.depth[$])+1,Z[2*P+1]=Z[2*$+1]=C,h.heap[1]=C++,pt(h,Z,1),2<=h.heap_len;);h.heap[--h.heap_max]=h.heap[1],function(at,St){var Mt,Et,Wt,gt,Ht,ee,Bt=St.dyn_tree,ue=St.max_code,Re=St.stat_desc.static_tree,Fe=St.stat_desc.has_stree,Le=St.stat_desc.extra_bits,he=St.stat_desc.extra_base,Zt=St.stat_desc.max_length,qt=0;for(gt=0;gt<=l;gt++)at.bl_count[gt]=0;for(Bt[2*at.heap[at.heap_max]+1]=0,Mt=at.heap_max+1;Mt<i;Mt++)Zt<(gt=Bt[2*Bt[2*(Et=at.heap[Mt])+1]+1]+1)&&(gt=Zt,qt++),Bt[2*Et+1]=gt,ue<Et||(at.bl_count[gt]++,Ht=0,he<=Et&&(Ht=Le[Et-he]),ee=Bt[2*Et],at.opt_len+=ee*(gt+Ht),Fe&&(at.static_len+=ee*(Re[2*Et+1]+Ht)));if(qt!==0){do{for(gt=Zt-1;at.bl_count[gt]===0;)gt--;at.bl_count[gt]--,at.bl_count[gt+1]+=2,at.bl_count[Zt]--,qt-=2}while(0<qt);for(gt=Zt;gt!==0;gt--)for(Et=at.bl_count[gt];Et!==0;)ue<(Wt=at.heap[--Mt])||(Bt[2*Wt+1]!==gt&&(at.opt_len+=(gt-Bt[2*Wt+1])*Bt[2*Wt],Bt[2*Wt+1]=gt),Et--)}}(h,x),vt(Z,ct,h.bl_count)}function t(h,x,P){var $,C,Z=-1,K=x[1],H=0,et=7,ct=4;for(K===0&&(et=138,ct=3),x[2*(P+1)+1]=65535,$=0;$<=P;$++)C=K,K=x[2*($+1)+1],++H<et&&C===K||(H<ct?h.bl_tree[2*C]+=H:C!==0?(C!==Z&&h.bl_tree[2*C]++,h.bl_tree[2*k]++):H<=10?h.bl_tree[2*z]++:h.bl_tree[2*D]++,Z=C,ct=(H=0)===K?(et=138,3):C===K?(et=6,3):(et=7,4))}function F(h,x,P){var $,C,Z=-1,K=x[1],H=0,et=7,ct=4;for(K===0&&(et=138,ct=3),$=0;$<=P;$++)if(C=K,K=x[2*($+1)+1],!(++H<et&&C===K)){if(H<ct)for(;q(h,C,h.bl_tree),--H!=0;);else C!==0?(C!==Z&&(q(h,C,h.bl_tree),H--),q(h,k,h.bl_tree),G(h,H-3,2)):H<=10?(q(h,z,h.bl_tree),G(h,H-3,3)):(q(h,D,h.bl_tree),G(h,H-11,7));Z=C,ct=(H=0)===K?(et=138,3):C===K?(et=6,3):(et=7,4)}}u(W);var B=!1;function v(h,x,P,$){G(h,(d<<1)+($?1:0),3),function(C,Z,K,H){lt(C),tt(C,K),tt(C,~K),a.arraySet(C.pending_buf,C.window,Z,K,C.pending),C.pending+=K}(h,x,P)}f._tr_init=function(h){B||(function(){var x,P,$,C,Z,K=new Array(l+1);for(C=$=0;C<g-1;C++)for(R[C]=$,x=0;x<1<<L[C];x++)e[$++]=C;for(e[$-1]=C,C=Z=0;C<16;C++)for(W[C]=Z,x=0;x<1<<O[C];x++)A[Z++]=C;for(Z>>=7;C<n;C++)for(W[C]=Z<<7,x=0;x<1<<O[C]-7;x++)A[256+Z++]=C;for(P=0;P<=l;P++)K[P]=0;for(x=0;x<=143;)J[2*x+1]=8,x++,K[8]++;for(;x<=255;)J[2*x+1]=9,x++,K[9]++;for(;x<=279;)J[2*x+1]=7,x++,K[7]++;for(;x<=287;)J[2*x+1]=8,x++,K[8]++;for(vt(J,b+1,K),x=0;x<n;x++)y[2*x+1]=5,y[2*x]=ht(x,5);Q=new rt(J,L,_+1,b,l),M=new rt(y,O,0,n,l),it=new rt(new Array(0),E,0,p,m)}(),B=!0),h.l_desc=new I(h.dyn_ltree,Q),h.d_desc=new I(h.dyn_dtree,M),h.bl_desc=new I(h.bl_tree,it),h.bi_buf=0,h.bi_valid=0,st(h)},f._tr_stored_block=v,f._tr_flush_block=function(h,x,P,$){var C,Z,K=0;0<h.level?(h.strm.data_type===2&&(h.strm.data_type=function(H){var et,ct=4093624447;for(et=0;et<=31;et++,ct>>>=1)if(1&ct&&H.dyn_ltree[2*et]!==0)return s;if(H.dyn_ltree[18]!==0||H.dyn_ltree[20]!==0||H.dyn_ltree[26]!==0)return r;for(et=32;et<_;et++)if(H.dyn_ltree[2*et]!==0)return r;return s}(h)),dt(h,h.l_desc),dt(h,h.d_desc),K=function(H){var et;for(t(H,H.dyn_ltree,H.l_desc.max_code),t(H,H.dyn_dtree,H.d_desc.max_code),dt(H,H.bl_desc),et=p-1;3<=et&&H.bl_tree[2*j[et]+1]===0;et--);return H.opt_len+=3*(et+1)+5+5+4,et}(h),C=h.opt_len+3+7>>>3,(Z=h.static_len+3+7>>>3)<=C&&(C=Z)):C=Z=P+5,P+4<=C&&x!==-1?v(h,x,P,$):h.strategy===4||Z===C?(G(h,2+($?1:0),3),wt(h,J,y)):(G(h,4+($?1:0),3),function(H,et,ct,at){var St;for(G(H,et-257,5),G(H,ct-1,5),G(H,at-4,4),St=0;St<at;St++)G(H,H.bl_tree[2*j[St]+1],3);F(H,H.dyn_ltree,et-1),F(H,H.dyn_dtree,ct-1)}(h,h.l_desc.max_code+1,h.d_desc.max_code+1,K+1),wt(h,h.dyn_ltree,h.dyn_dtree)),st(h),$&&lt(h)},f._tr_tally=function(h,x,P){return h.pending_buf[h.d_buf+2*h.last_lit]=x>>>8&255,h.pending_buf[h.d_buf+2*h.last_lit+1]=255&x,h.pending_buf[h.l_buf+h.last_lit]=255&P,h.last_lit++,x===0?h.dyn_ltree[2*P]++:(h.matches++,x--,h.dyn_ltree[2*(e[P]+_+1)]++,h.dyn_dtree[2*T(x)]++),h.last_lit===h.lit_bufsize-1},f._tr_align=function(h){G(h,2,3),q(h,w,J),function(x){x.bi_valid===16?(tt(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}(h)}},{"../utils/common":41}],53:[function(c,S,f){S.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(c,S,f){(function(a){(function(s,r){if(!s.setImmediate){var u,d,g,_,b=1,n={},p=!1,i=s.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(s);l=l&&l.setTimeout?l:s,u={}.toString.call(s.process)==="[object process]"?function(k){process.nextTick(function(){m(k)})}:function(){if(s.postMessage&&!s.importScripts){var k=!0,z=s.onmessage;return s.onmessage=function(){k=!1},s.postMessage("","*"),s.onmessage=z,k}}()?(_="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",w,!1):s.attachEvent("onmessage",w),function(k){s.postMessage(_+k,"*")}):s.MessageChannel?((g=new MessageChannel).port1.onmessage=function(k){m(k.data)},function(k){g.port2.postMessage(k)}):i&&"onreadystatechange"in i.createElement("script")?(d=i.documentElement,function(k){var z=i.createElement("script");z.onreadystatechange=function(){m(k),z.onreadystatechange=null,d.removeChild(z),z=null},d.appendChild(z)}):function(k){setTimeout(m,0,k)},l.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var z=new Array(arguments.length-1),D=0;D<z.length;D++)z[D]=arguments[D+1];var L={callback:k,args:z};return n[b]=L,u(b),b++},l.clearImmediate=o}function o(k){delete n[k]}function m(k){if(p)setTimeout(m,0,k);else{var z=n[k];if(z){p=!0;try{(function(D){var L=D.callback,O=D.args;switch(O.length){case 0:L();break;case 1:L(O[0]);break;case 2:L(O[0],O[1]);break;case 3:L(O[0],O[1],O[2]);break;default:L.apply(r,O)}})(z)}finally{o(k),p=!1}}}}function w(k){k.source===s&&typeof k.data=="string"&&k.data.indexOf(_)===0&&m(+k.data.slice(_.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ie);var fr=Ie.exports;const pr=Te(fr);var mr=ut("<option> </option>"),vr=ut("<option> </option>"),_r=ut('<select class="select select-bordered w-full max-w-md mb-1 lg:mb-0 focus:outline-none"></select>'),gr=ut("<option> </option>"),br=ut('<select class="select select-bordered w-full max-w-md mb-1 lg:mb-0 focus:outline-none"></select>'),wr=ut('<select class="select select-bordered w-full max-w-md mb-1 lg:mb-0 focus:outline-none"></select> <!> <!>',1);function Be(V,U){Pt(U,!0);const c=Rt(),S=()=>Ct(ze,"$books",c);let f=xt(void 0),a=xt(void 0),s=xt(void 0),r=Ge(U,"selectedBook",15);const u=yt(()=>new Set(S().map(l=>l.T.split(";",2)[0]))),d=yt(()=>[...new Set(S().filter(l=>l.T.startsWith(`${N(f)};`)).map(l=>l.T.split(";",3)[1]))]),g=yt(()=>[...new Set(S().filter(l=>l.T.startsWith(`${N(f)};${N(a)};`)).map(l=>l.T.split(";",3)[2]))]),_=yt(()=>(N(f)!=null?N(f):"")+(N(a)!=null?`;${N(a)}`:"")+(N(s)!=null?`;${N(s)}`:""));jt(()=>{r(S().find(l=>l.T===N(_))??null)}),jt(()=>{N(a)!=null&&(N(d)==null?mt(a,void 0):N(d).includes(N(a))||mt(a,kt(N(d)[0])))}),jt(()=>{N(s)!=null&&(N(g)==null?mt(s,void 0):N(g).includes(N(s))||mt(s,kt(N(g)[0])))});var b=wr(),n=zt(b);Dt(n,21,()=>N(u),Nt,(l,o)=>{var m=mr(),w={},k=X(m,!0);Y(m),ft(()=>{w!==(w=N(o))&&(m.value=(m.__value=N(o))==null?"":N(o)),Lt(k,N(o))}),nt(l,m)}),Y(n);var p=ot(n,2);bt(p,()=>N(d).length>0,l=>{var o=_r();Dt(o,21,()=>N(d),Nt,(m,w)=>{var k=vr(),z={},D=X(k,!0);Y(k),ft(()=>{z!==(z=N(w))&&(k.value=(k.__value=N(w))==null?"":N(w)),Lt(D,N(w))}),nt(m,k)}),Y(o),re(o,()=>N(a),m=>mt(a,m)),nt(l,o)});var i=ot(p,2);bt(i,()=>N(g).length>0,l=>{var o=br();Dt(o,21,()=>N(g),Nt,(m,w)=>{var k=gr(),z={},D=X(k,!0);Y(k),ft(()=>{z!==(z=N(w))&&(k.value=(k.__value=N(w))==null?"":N(w)),Lt(D,N(w))}),nt(m,k)}),Y(o),re(o,()=>N(s),m=>mt(s,m)),nt(l,o)}),re(n,()=>N(f),l=>mt(f,l)),nt(V,b),$t()}async function yr(V,U,c,S,f){if(N(U)==null)return;mt(c,!0);const a=N(U).T!==Ce&&N(U).T!==ur,s=ne(N(U)),r=new pr;for(const u of S()[N(U).T]){const d=S()[N(U).T].indexOf(u),g=N(f)?(d+1).toString().padStart(4,"0"):(d+1).toString();r.file(`${a?`${g} - `:""}${u.song.T}.sng`,ye(u.song,`${s} Nr. ${g}`))}await r.generateAsync({type:"blob"}).then(function(u){cr.saveAs(u,`${s}.zip`)}),mt(c,!1)}var kr=ut('<progress class="progress"></progress>'),xr=ut('<div class="w-full h-full flex flex-col items-center"><!> <div class="container flex flex-col items-center gap-2 max-w-lg"><!> <div class="grid grid-cols-2"><div class="flex flex-col items-start"><p>Nummern auf 4 Stellen auffüllen</p> <p class="text-sm">(Im Dateinamen)</p></div> <div class="content-center"><input type="checkbox"></div></div> <button>Herunterladen</button> <!></div></div>');function Sr(V,U){Pt(U,!0);const c=Rt(),S=()=>Ct(Ee,"$songs",c);let f=xt(null),a=xt(!1),s=xt(!1);var r=xr(),u=X(r);Qt(u,{title:"Herunterladen",withCloseButton:!0});var d=ot(u,2),g=X(d);Be(g,{get selectedBook(){return N(f)},set selectedBook(l){mt(f,kt(l))}});var _=ot(g,2),b=ot(X(_),2),n=X(b);Gt(n),Y(b),Y(_);var p=ot(_,2);p.__click=[yr,f,a,S,s];var i=ot(p,2);bt(i,()=>N(a),l=>{var o=kr();nt(l,o)}),Y(d),Y(r),ft(()=>p.disabled=N(a)),ge(n,()=>N(s),l=>mt(s,l)),nt(V,r),$t()}te(["click"]);function zr(V){Ke(V,{})}var Cr=Tt('<svg><path fill="currentColor" d="M14 20.725v-2.05q2.25-.65 3.625-2.5t1.375-4.2t-1.375-4.2T14 5.275v-2.05q3.1.7 5.05 3.138T21 11.975t-1.95 5.613T14 20.725M3 15V9h4l5-5v16l-5-5zm11 1V7.95q1.175.55 1.838 1.65T16.5 12q0 1.275-.663 2.363T14 16"></path></svg>');function Er(V,U){const c=At(U,["$$slots","$$events","$$legacy"]);var S=Cr();let f;ft(()=>f=It(S,f,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...c},void 0,!0)),nt(V,S)}function Tr(V,U){return U=U.toLocaleLowerCase(),V.filter(c=>Ar(c,U)).sort((c,S)=>_e(c,S,f=>f.T.toLocaleLowerCase().includes(U))).sort((c,S)=>_e(c,S,f=>f.T.toLocaleLowerCase().startsWith(U)))}function _e(V,U,c){const S=c(V.song),f=c(U.song);return S&&!f?-1:!S&&f?1:0}function Ar(V,U){if(U.trim()==="")return V.searchResultPart=void 0,!0;const c=V.song.T.toLocaleLowerCase();U=U.toLocaleLowerCase();const S=Number(U);if(!Number.isNaN(S)&&V.songInsideBook)return V.searchResultPart=void 0,V.songInsideBook.I===S;if(U.trim().split(" ").every(a=>c.includes(a)))return V.searchResultPart=void 0,!0;if(U.length>=3){const a=nr(V.song);if(a.includes(U)){const s=a.indexOf(U),r=U.length;return V.searchResultPart=`<p class="inline italic font-thin">${a.substring(s,s+r)}</p><p class="inline italic">${ir(V.song).substring(s+r,s+r+15)}</p>`,!0}}return V.searchResultPart=void 0,!1}var Ir=Tt('<svg><path fill="currentColor" d="M10 21q-1.65 0-2.825-1.175T6 17t1.175-2.825T10 13q.575 0 1.063.138t.937.412V3h6v4h-4v10q0 1.65-1.175 2.825T10 21"></path></svg>');function Oe(V,U){const c=At(U,["$$slots","$$events","$$legacy"]);var S=Ir();let f;ft(()=>f=It(S,f,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...c},void 0,!0)),nt(V,S)}const Br=(V,U,c)=>{xe(U.songWithInsideBook.song.I),mt(c,!N(c))};var Or=ut("<div><!></div>"),Rr=ut("<span><!></span>"),Fr=ut('<div class="flex"><a class="flex-1 whitespace-nowrap overflow-hidden"><!> <!></a> <!> <button><!></button></div>');function Lr(V,U){Pt(U,!0);const c=Rt(),S=()=>Ct(Xt,"$searchtext",c),f=yt(()=>Yt(U.songWithInsideBook.song));let a=xt(kt(ke(U.songWithInsideBook.song.I))),s=xt("");jt(()=>{var o;const p=S().trim().toLocaleLowerCase().split(" ");p.sort((m,w)=>m.length<w.length?1:-1);const i=((o=U.songWithInsideBook.songInsideBook)==null?void 0:o.I)??null;let l=U.songWithInsideBook.song.T;i&&(l=`${i} - ${l}`);for(const m of p){const w=m.length;let k=-1;const z=()=>k+w;do{if(k>=l.length){k=-1;break}k=l.toLocaleLowerCase().indexOf(m,k+1)}while(k>=0&&(l.substring(0,k).split("<").length%2===0||l.substring(k,z()).split("<").length%2===0));if(k>=0){const D=l.substring(k,z());l=l.slice(0,k)+`<p class="font-bold inline">${D}</p>`+l.slice(z())}}mt(s,kt(l))});var r=Fr(),u=X(r),d=X(u);Jt(d,()=>N(s));var g=ot(d,2);bt(g,()=>U.songWithInsideBook.searchResultPart!=null,p=>{var i=Or(),l=X(i);Jt(l,()=>U.songWithInsideBook.searchResultPart),Y(i),nt(p,i)}),Y(u);var _=ot(u,2);bt(_,()=>N(f),p=>{var i=Rr(),l=X(i);Oe(l,{}),Y(i),nt(p,i)});var b=ot(_,2);b.__click=[Br,U,a];var n=X(b);be(n,{get isFavorite(){return N(a)}}),Y(b),Y(r),ft(()=>Ft(u,"href",`#song/${U.songWithInsideBook.song.I}`)),nt(V,r),$t()}te(["click"]);var Dr=ut('<div id="virtual-list-div" class="text-left flex-1 overflow-auto px-1 w-full"><!></div>');function Nr(V,U){Pt(U,!0);const c=Rt(),S=()=>Ct(Ee,"$songs",c),f=()=>Ct(oe,"$allSongs",c),a=()=>Ct(Xt,"$searchtext",c);let s=xt(kt([]));jt(()=>{let d;if(U.selectedBook.T!==Ce)d=S()[U.selectedBook.T];else{const g=ar();d=f().filter(_=>g.includes(_.I)).map(_=>({song:_}))}d=d.filter(g=>!U.onlySongsWithNotes||Yt(g.song)),mt(s,kt(Tr(d,a())))});var r=Dr(),u=X(r);Ye(u,{get items(){return N(s)},height:"100%",children:hr,$$slots:{default:(d,g)=>{const _=yt(()=>g.item);Lr(d,{get songWithInsideBook(){return N(_)}})}}}),Y(r),nt(V,r),$t()}var Pr=ut('<div class="flex flex-col overflow-hidden w-full h-full p-1"><div><!> <input class="input input-bordered w-full max-w-md mb-1 focus:outline-none" placeholder="Suche" type="search"> <div class="only-songs-with-notes"><label class="label cursor-pointer"><span class="label-text">Nur Lieder mit Akkorden</span> <input type="checkbox" class="checkbox"></label></div></div> <!></div>');function $r(V){const U=Rt(),c=()=>Ct(Xt,"$searchtext",U);let S=xt(!1),f=xt(null);var a=Pr(),s=X(a),r=X(s);Be(r,{get selectedBook(){return N(f)},set selectedBook(n){mt(f,kt(n))}});var u=ot(r,2);Gt(u);var d=ot(u,2),g=X(d),_=ot(X(g),2);Gt(_),Y(g),Y(d),Y(s);var b=ot(s,2);bt(b,()=>N(f)!=null,n=>{Nr(n,{get selectedBook(){return N(f)},set selectedBook(p){mt(f,kt(p))},get onlySongsWithNotes(){return N(S)},set onlySongsWithNotes(p){mt(S,kt(p))}})}),Y(a),Xe(u,c,n=>er(Xt,n)),ge(_,()=>N(S),n=>mt(S,n)),nt(V,a)}var Ur=ut('<div class="tooltip tooltip-bottom" data-tip=".sng Dateien herunterladen"><a href="#download"><!></a></div> <div class="tooltip tooltip-bottom" data-tip="Zur Musik"><a href="/music"><!></a></div> <div class="tooltip tooltip-bottom" data-tip="Zu den Einstellungen"><a href="#settings"><!></a></div>',1),jr=ut("<!> <!>",1);function Mr(V){var U=jr(),c=zt(U);Qt(c,{title:"Geistliche Lieder!",withCloseButton:!1,children:(f,a)=>{var s=Ur(),r=zt(s),u=X(r),d=X(u);we(d,{}),Y(u),Y(r);var g=ot(r,2),_=X(g),b=X(_);Er(b,{}),Y(_),Y(g);var n=ot(g,2),p=X(n),i=X(p);Je(i,{}),Y(p),Y(n),nt(f,s)},$$slots:{default:!0}});var S=ot(c,2);$r(S),nt(V,U)}var Wr=Tt('<svg><path fill="currentColor" d="M17 15q-.425 0-.712-.288T16 14v-4q0-.425.288-.712T17 9h3q.425 0 .713.288T21 10v1h-1.5v-.5h-2v3h2V13H21v1q0 .425-.288.713T20 15zm-7.5 0V9h4q.425 0 .713.288T14.5 10v1q0 .425-.288.713T13.5 12q.425 0 .713.288T14.5 13v1q0 .425-.288.713T13.5 15zm1.5-3.75h2v-.75h-2zm0 2.25h2v-.75h-2zM3 15v-5q0-.425.288-.712T4 9h3q.425 0 .713.288T8 10v5H6.5v-1.5h-2V15zm1.5-3h2v-1.5h-2z"></path></svg>');function Zr(V,U){const c=At(U,["$$slots","$$events","$$legacy"]);var S=Wr();let f;ft(()=>f=It(S,f,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...c},void 0,!0)),nt(V,S)}var Hr=Tt('<svg><path fill="currentColor" d="M11 17h2v-6h-2zm1-8q.425 0 .713-.288T13 8t-.288-.712T12 7t-.712.288T11 8t.288.713T12 9m0 13q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22"></path></svg>');function qr(V,U){const c=At(U,["$$slots","$$events","$$legacy"]);var S=Hr();let f;ft(()=>f=It(S,f,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...c},void 0,!0)),nt(V,S)}var Vr=Tt('<svg><path fill="currentColor" d="m11.9 22l4.55-12h2.1l4.55 12H21l-1.075-3.05h-4.85L14 22zM4 19l-1.4-1.4l5.05-5.05q-.875-.875-1.588-2T4.75 8h2.1q.5.975 1 1.7t1.2 1.45q.825-.825 1.713-2.313T12.1 6H1V4h7V2h2v2h7v2h-2.9q-.525 1.8-1.575 3.7t-2.075 2.9l2.4 2.45l-.75 2.05l-3.05-3.125zm11.7-1.8h3.6l-1.8-5.1z"></path></svg>');function Gr(V,U){const c=At(U,["$$slots","$$events","$$legacy"]);var S=Vr();let f;ft(()=>f=It(S,f,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...c},void 0,!0)),nt(V,S)}var Kr=Tt('<svg><path fill="currentColor" d="M11 17H7q-2.075 0-3.537-1.463T2 12t1.463-3.537T7 7h4v2H7q-1.25 0-2.125.875T4 12t.875 2.125T7 15h4zm-3-4v-2h8v2zm5 4v-2h4q1.25 0 2.125-.875T20 12t-.875-2.125T17 9h-4V7h4q2.075 0 3.538 1.463T22 12t-1.463 3.538T17 17z"></path></svg>');function Yr(V,U){const c=At(U,["$$slots","$$events","$$legacy"]);var S=Kr();let f;ft(()=>f=It(S,f,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...c},void 0,!0)),nt(V,S)}var Xr=Tt('<svg><path fill="currentColor" d="M7 9V7h14v2zm0 4v-2h14v2zm0 4v-2h14v2zM4 9q-.425 0-.712-.288T3 8t.288-.712T4 7t.713.288T5 8t-.288.713T4 9m0 4q-.425 0-.712-.288T3 12t.288-.712T4 11t.713.288T5 12t-.288.713T4 13m0 4q-.425 0-.712-.288T3 16t.288-.712T4 15t.713.288T5 16t-.288.713T4 17"></path></svg>');function Jr(V,U){const c=At(U,["$$slots","$$events","$$legacy"]);var S=Xr();let f;ft(()=>f=It(S,f,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...c},void 0,!0)),nt(V,S)}var Qr=Tt('<svg><path fill="currentColor" d="M16 20q-1.25 0-2.125-.875T13 17t.875-2.125T16 14q.275 0 .525.038T17 14.2V6h5v2h-3v9q0 1.25-.875 2.125T16 20M3 16v-2h8v2zm0-4v-2h12v2zm0-4V6h12v2z"></path></svg>');function tn(V,U){const c=At(U,["$$slots","$$events","$$legacy"]);var S=Qr();let f;ft(()=>f=It(S,f,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...c},void 0,!0)),nt(V,S)}var en=Tt('<svg><path fill="currentColor" d="M19.8 22.6L1.4 4.2l1.4-1.4l18.4 18.4zM14 11.15l-2-2V3h6v4h-4zM10 21q-1.65 0-2.825-1.175T6 17t1.175-2.825T10 13q.575 0 1.063.138t.937.412V12l2 2v3q0 1.65-1.175 2.825T10 21"></path></svg>');function rn(V,U){const c=At(U,["$$slots","$$events","$$legacy"]);var S=en();let f;ft(()=>f=It(S,f,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...c},void 0,!0)),nt(V,S)}function nn(V,U){sr(),mt(U,kt(ie()))}function an(V,U){or(),mt(U,kt(ae()))}function sn(V,U){lr(),mt(U,kt(Se()))}function on(V,U,c){xe(N(U).I),mt(c,!N(c))}function ln(V,U){const c=N(U).V.map(S=>S.L.filter((f,a)=>a%2===0).map(f=>se(f,!1)).join(`
`)).join(`
`);le(`https://www.deepl.com/translator#ru/de/${encodeURI(c)}`)}var un=ut("<button><a><!></a></button>"),hn=ut('<div class="tooltip tooltip-bottom"><button><!></button></div>'),dn=ut('<div class="tooltip tooltip-bottom" data-tip="Autogenerierte Übersetzung anzeigen"><button><!></button></div> <div class="tooltip tooltip-bottom" data-tip="Lateinische Buchstaben anzeigen"><button><!></button></div> <div class="tooltip tooltip-bottom" data-tip="In DeepL öffnen"><button><!></button></div>',1),cn=(V,U,c)=>U(N(c)),fn=ut("<span><!></span>"),pn=ut('<li><label><input type="radio"> <button class="text-start"> </button> <!></label></li>'),mn=ut(`<div><div class="tooltip tooltip-bottom" data-tip="Weitere Versionen anzeigen"><button><!></button></div> <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box
          w-72
          lg:w-96
          z-10"><li class="capitalize">Versionen:</li> <!></ul></div>`),vn=ut('<div class="tooltip tooltip-bottom" data-tip="Als .sng Datei herunterladen"><!></div> <div class="tooltip tooltip-bottom" data-tip="Diashow starten"><button><a><!></a></button></div> <div class="tooltip tooltip-bottom" data-tip="Info anzeigen"><button><label for="song-info"><!></label></button></div> <div class="tooltip tooltip-bottom"><button><!></button></div> <!> <!> <!>',1),_n=ut("<p><!></p>"),gn=ut('<div class="w-full pt-2"><p class="font-bold"> </p> <!></div>'),bn=ut('<div class="flex-1 flex flex-col items-center overflow-hidden w-full"><!> <div class="overflow-auto flex flex-col items-center w-full md:max-w-2xl"></div> <input type="checkbox" id="song-info" class="modal-toggle"> <div class="modal"><div class="modal-box"><h3 class="font-bold text-lg"> </h3> <p class="py-4 whitespace-pre-wrap text-left"> </p> <div class="modal-action"><label for="song-info" class="btn uppercase">Ok</label></div></div></div></div>');function wn(V,U){Pt(U,!0);const c=Rt(),S=()=>Ct(oe,"$allSongs",c),f=()=>Ct(ze,"$books",c),a=yt(()=>S().find(A=>A.I===U.songId));let s=xt(kt(ie())),r=xt(kt(ae())),u=xt(kt(Se())),d=xt(!1);jt(()=>{mt(d,kt(ke(U.songId)))});function g(A,e){return N(a).M?e===A.L.length-1?"text-green-600":e%2===1?"text-yellow-600":"":""}function _(){let A=new Array;N(a).N!=null&&N(a).N.trim()!==""&&A.push(`Tonart: ${N(a).N}`);for(const e of f()){const R=e.S.find(Q=>Q.V===N(a).I);R&&A.push(`${ne(e)}: ${R.I}`)}return A.join(`
`)}const b=A=>f().filter(R=>R.S.some(Q=>Q.V===A)).map(ne).join(", "),n=A=>{le(`#song/${A}`,{replaceState:!0})},p=S().filter(A=>A.T===N(a).T).map(A=>A.I),i=p.length>1;let l=yt(()=>Yt(N(a)));function o(A){return Yt(S().find(e=>e.I===A))}function m(A,e,R,Q){return N(a).M?A===e.L.length-1?R:A%2===0?!0:Q:!0}const w=yt(()=>ye(N(a)));var k=bn(),z=X(k);Qt(z,{get title(){return N(a).T},withCloseButton:!0,children:(A,e)=>{var R=vn(),Q=zt(R),M=X(Q);bt(M,()=>N(w),wt=>{var dt=un(),t=X(dt);ft(()=>Ft(t,"href",`data:text/plain,${encodeURIComponent(N(w))}`));var F=X(t);we(F,{}),Y(t),Y(dt),ft(()=>Ft(t,"download",`${N(a).T}.sng`)),nt(wt,dt)}),Y(Q);var it=ot(Q,2),W=X(it),rt=X(W),I=X(rt);Qe(I,{}),Y(rt),Y(W),Y(it);var T=ot(it,2),tt=X(T),G=X(tt),q=X(G);qr(q,{}),Y(G),Y(tt),Y(T);var ht=ot(T,2),vt=X(ht);vt.__click=[on,a,d];var st=X(vt);be(st,{get isFavorite(){return N(d)}}),Y(vt),Y(ht);var lt=ot(ht,2);bt(lt,()=>N(l),wt=>{var dt=hn(),t=X(dt);t.__click=[sn,u];var F=X(t);bt(F,()=>N(u),B=>{rn(B,{})},B=>{Oe(B,{})}),Y(t),Y(dt),ft(()=>Ft(dt,"data-tip",N(u)?"Noten entfernen":"Noten anzeigen")),nt(wt,dt)});var _t=ot(lt,2);bt(_t,()=>N(a).M,wt=>{var dt=dn(),t=zt(dt),F=X(t);F.__click=[an,r];var B=X(F);Gr(B,{}),Y(F),Y(t);var v=ot(t,2),h=X(v);h.__click=[nn,s];var x=X(h);Zr(x,{}),Y(h),Y(v);var P=ot(v,2),$=X(P);$.__click=[ln,a];var C=X($);Yr(C,{}),Y($),Y(P),nt(wt,dt)});var pt=ot(_t,2);bt(pt,()=>i,wt=>{var dt=mn();Kt(dt,"flex dropdown dropdown-end");var t=X(dt),F=X(t),B=X(F);Jr(B,{}),Y(F),Y(t);var v=ot(t,2),h=ot(X(v),2);Dt(h,17,()=>p,Nt,(x,P)=>{var $=pn();$.__click=[cn,n,P];var C=X($),Z=X(C);Gt(Z);var K=ot(Z,2),H=X(K,!0);ft(()=>Lt(H,b(N(P)))),Y(K);var et=ot(K,2);bt(et,()=>o(N(P)),ct=>{var at=fn(),St=X(at);tn(St,{}),Y(at),nt(ct,at)}),Y(C),Y($),ft(()=>tr(Z,N(P)===N(a).I)),nt(x,$)}),Y(v),Y(dt),nt(wt,dt)}),ft(()=>{Ft(rt,"href",`#song/${U.songId}/0`),Ft(ht,"data-tip",N(d)?"Favorit entfernen":"Favorit hinzufügen")}),nt(A,R)},$$slots:{default:!0}});var D=ot(z,2);Dt(D,21,()=>N(a).V,Nt,(A,e)=>{var R=gn(),Q=X(R),M=X(Q,!0);Y(Q);var it=ot(Q,2);Dt(it,17,()=>N(e).L,Nt,(W,rt,I)=>{var T=Ut(),tt=zt(T);bt(tt,()=>m(I,N(e),N(r),N(s)),G=>{var q=_n();const ht=yt(()=>`w-full ${g(N(e),I)}`);var vt=X(q);Jt(vt,()=>se(N(rt),N(u))),Y(q),ft(()=>Kt(q,N(ht))),nt(G,q)}),nt(W,T)}),Y(R),ft(()=>Lt(M,N(e).T)),nt(A,R)}),Y(D);var L=ot(D,4),O=X(L),E=X(O),j=X(E,!0);Y(E);var J=ot(E,2),y=X(J,!0);ft(()=>Lt(y,_())),Y(J),He(2),Y(O),Y(L),Y(k),ft(()=>Lt(j,N(a).T)),nt(V,k),$t()}te(["click"]);var yn=Tt('<svg><path fill="currentColor" d="m7.825 13l5.6 5.6L12 20l-8-8l8-8l1.425 1.4l-5.6 5.6H20v2z"></path></svg>');function kn(V,U){const c=At(U,["$$slots","$$events","$$legacy"]);var S=yn();let f;ft(()=>f=It(S,f,{viewBox:"0 0 24 24",width:"1.2em",height:"1.2em",...c},void 0,!0)),nt(V,S)}var xn=V=>{V.stopPropagation(),window.history.go(-1)},Sn=ut("<button><!></button>"),zn=ut("<p><!></p>"),Cn=ut('<p class="row">-----</p>'),En=ut('<div id="song" class="flex-1 flex flex-col items-center overflow-hidden w-full"><!> <div id="parent" class="overflow-auto flex flex-col items-center w-full h-full"><!> <!></div></div>');function Tn(V,U){Pt(U,!0);const c=Rt(),f=Ct(oe,"$allSongs",c).find(O=>O.I===U.songId),a=f.O.flatMap(O=>f.V.filter(E=>E.I===O)),s=a.length,r=yt(()=>a[U.verseIndex]),u=ie(),d=ae();function g(O,E){return f.M?E===O.L.length-1?"text-green-600":E%2===1?"text-yellow-600":"":""}function _(){window.history.go(-(U.verseIndex+1))}function b(){if(U.verseIndex===s-1){_();return}le(`#song/${U.songId}/${U.verseIndex+1}`)}ve(()=>{const O=document.getElementById("song");if(O!=null&&O.requestFullscreen)O.requestFullscreen();else if(O!=null){const E=O;E!=null&&E.webkitRequestFullscreen?E.webkitRequestFullscreen():E!=null&&E.msRequestFullscreen&&E.msRequestFullscreen()}"lock"in screen.orientation&&screen.orientation.lock("landscape")});function n(){return document.getElementById("parent")}function p(){return document.getElementsByClassName("row")}function i(){let O=0;for(const E of p())O+=E.clientHeight;return O}function l(){let O=0;for(const E of p())O=Math.max(E.scrollWidth,O);return O}function o(){const O=document.getElementsByClassName("row"),E=n();if(!E)return;if(O.length===1||s-1===U.verseIndex&&O.length===2){for(const J of O)J.style.fontSize="35px";return}let j=100;do{j-=1;for(const J of O)J.style.fontSize=j+"px"}while((E.clientHeight<=i()||E.clientWidth<=l())&&j>10)}ve(()=>{o(),new MutationObserver(()=>{o()}).observe(n(),{childList:!0,subtree:!0})});const m=yt(()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches);var w=En();me("click",qe.body,b),me("resize",Ve,()=>o());var k=X(w);Qt(k,{get title(){return f.T},withCloseButton:!0,closeAction:_,children:(O,E)=>{var j=Ut(),J=zt(j);bt(J,()=>U.verseIndex>0,y=>{var A=Sn();A.__click=[xn];var e=X(A);kn(e,{}),Y(A),nt(y,A)}),nt(O,j)},$$slots:{default:!0}});var z=ot(k,2),D=X(z);Dt(D,17,()=>N(r).L,Nt,(O,E,j)=>{var J=Ut(),y=zt(J);bt(y,()=>!f.M||j===N(r).L.length-1&&d||j%2===0||j!==N(r).L.length-1&&u,A=>{var e=zn();const R=yt(()=>`row ${g(N(r),j)}`);var Q=X(e);Jt(Q,()=>se(N(E),!1)),Y(e),ft(()=>Kt(e,N(R))),nt(A,e)}),nt(O,J)});var L=ot(D,2);bt(L,()=>s-1===U.verseIndex,O=>{var E=Cn();nt(O,E)}),Y(z),Y(w),ft(()=>Ft(w,"data-theme",N(m)?"dark":"light")),nt(V,w),$t()}te(["click"]);var An=ut("<div><!></div> <!>",1);function jn(V,U){Pt(U,!0);const c=Rt(),S=()=>Ct(rr,"$page",c),f=yt(()=>S().url.hash.startsWith("#song/")?S().url.hash.substring(6).split("/")[0]:null),a=yt(()=>S().url.hash.startsWith(`#song/${N(f)}/`)?Number.parseInt(S().url.hash.substring(`#song/${N(f)}/`.length)):null),s=yt(()=>S().url.hash===""),r=yt(()=>S().url.hash==="#settings");var u=An(),d=zt(u),g=X(d);Mr(g),Y(d);var _=ot(d,2);bt(_,()=>N(f)!=null&&N(a)!=null,b=>{Tn(b,{get songId(){return N(f)},get verseIndex(){return N(a)}})},b=>{var n=Ut(),p=zt(n);bt(p,()=>N(f)!=null,i=>{wn(i,{get songId(){return N(f)}})},i=>{var l=Ut(),o=zt(l);bt(o,()=>N(r),m=>{zr(m)},m=>{var w=Ut(),k=zt(w);bt(k,()=>S().url.hash==="#download",z=>{Sr(z,{})},null,!0),nt(m,w)},!0),nt(i,l)},!0),nt(b,n)}),ft(()=>Kt(d,`${N(s)?"visible":"hidden"} w-full h-full`)),nt(V,u),$t()}export{jn as component};
