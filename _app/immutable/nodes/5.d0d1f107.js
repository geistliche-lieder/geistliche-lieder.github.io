import{s as j,k as H,l as G,c as x,u as ee,g as te,d as le,e as J,p as tt,r as ft,x as Ee,n as ne,o as at}from"../chunks/scheduler.a6ab6dcc.js";import{S as q,i as z,r as F,u as O,v as D,d as b,t as w,w as A,g as I,s as U,h as T,y as ue,c as R,j as C,f as m,k as N,a as E,x as L,A as Q,H as pe,F as ve,D as _e,z as ce,p as Z,b as y,C as ae,m as ie,n as fe,o as de,E as Se,e as Y}from"../chunks/index.a4cc0304.js";import{p as ut}from"../chunks/stores.5d168a89.js";import{I as se,g as oe,a as re,S as ct,F as lt,V as ht,e as X,T as Te,f as gt,d as _t,c as dt}from"../chunks/SettingsPage.421513c5.js";import{g as ke,t as mt,a as $t,b as nt,c as st,d as pt,e as we,f as Ie,h as Ce,j as vt,k as bt,l as kt,m as me}from"../chunks/song.bdf5117e.js";import{s as $e,b as Le,d as wt,F as It,e as ge,g as ot,u as Be,h as Pe}from"../chunks/store.c404d4b6.js";import{g as rt}from"../chunks/navigation.0a2a7172.js";import{i as Tt}from"../chunks/common.1905f694.js";const Lt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Nt(o){let e;const l=o[2].default,t=x(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ee(t,l,s,s[3],e?le(l,s[3],n,null):te(s[3]),null)},i(s){e||(b(t,s),e=!0)},o(s){w(t,s),e=!1},d(s){t&&t.d(s)}}}function Mt(o){let e,l;const t=[{name:"abc"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[Nt]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new se({props:s}),{c(){F(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,r){D(e,n,r),l=!0},p(n,[r]){const f=r&3?oe(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(f.$$scope={dirty:r,ctx:n}),e.$set(f)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){A(e,n)}}}function Et(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M3 16v-6a2 2 0 1 1 4 0v6"}],["path",{d:"M3 13h4"}],["path",{d:"M10 8v6a2 2 0 1 0 4 0v-1a2 2 0 1 0 -4 0v1"}],["path",{d:"M20.732 12a2 2 0 0 0 -3.732 1v1a2 2 0 0 0 3.726 1.01"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class St extends q{constructor(e){super(),z(this,e,Et,Mt,j,{})}}const Ct=St;function Bt(o){let e;const l=o[2].default,t=x(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ee(t,l,s,s[3],e?le(l,s[3],n,null):te(s[3]),null)},i(s){e||(b(t,s),e=!0)},o(s){w(t,s),e=!1},d(s){t&&t.d(s)}}}function Pt(o){let e,l;const t=[{name:"info-circle"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[Bt]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new se({props:s}),{c(){F(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,r){D(e,n,r),l=!0},p(n,[r]){const f=r&3?oe(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(f.$$scope={dirty:r,ctx:n}),e.$set(f)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){A(e,n)}}}function Vt(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}],["path",{d:"M12 9h.01"}],["path",{d:"M11 12h1v4h1"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class Ft extends q{constructor(e){super(),z(this,e,Vt,Pt,j,{})}}const Ot=Ft;function Dt(o){let e;const l=o[2].default,t=x(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ee(t,l,s,s[3],e?le(l,s[3],n,null):te(s[3]),null)},i(s){e||(b(t,s),e=!0)},o(s){w(t,s),e=!1},d(s){t&&t.d(s)}}}function At(o){let e,l;const t=[{name:"language"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[Dt]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new se({props:s}),{c(){F(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,r){D(e,n,r),l=!0},p(n,[r]){const f=r&3?oe(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(f.$$scope={dirty:r,ctx:n}),e.$set(f)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){A(e,n)}}}function Ut(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M4 5h7"}],["path",{d:"M9 3v2c0 4.418 -2.239 8 -5 8"}],["path",{d:"M5 9c0 2.144 2.952 3.908 6.7 4"}],["path",{d:"M12 20l4 -9l4 9"}],["path",{d:"M19.1 18h-6.2"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class Rt extends q{constructor(e){super(),z(this,e,Ut,At,j,{})}}const Wt=Rt;function Ht(o){let e;const l=o[2].default,t=x(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ee(t,l,s,s[3],e?le(l,s[3],n,null):te(s[3]),null)},i(s){e||(b(t,s),e=!0)},o(s){w(t,s),e=!1},d(s){t&&t.d(s)}}}function jt(o){let e,l;const t=[{name:"list"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[Ht]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new se({props:s}),{c(){F(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,r){D(e,n,r),l=!0},p(n,[r]){const f=r&3?oe(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(f.$$scope={dirty:r,ctx:n}),e.$set(f)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){A(e,n)}}}function qt(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M9 6l11 0"}],["path",{d:"M9 12l11 0"}],["path",{d:"M9 18l11 0"}],["path",{d:"M5 6l0 .01"}],["path",{d:"M5 12l0 .01"}],["path",{d:"M5 18l0 .01"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class zt extends q{constructor(e){super(),z(this,e,qt,jt,j,{})}}const Gt=zt;function Kt(o){let e;const l=o[2].default,t=x(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ee(t,l,s,s[3],e?le(l,s[3],n,null):te(s[3]),null)},i(s){e||(b(t,s),e=!0)},o(s){w(t,s),e=!1},d(s){t&&t.d(s)}}}function Jt(o){let e,l;const t=[{name:"music-down"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[Kt]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new se({props:s}),{c(){F(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,r){D(e,n,r),l=!0},p(n,[r]){const f=r&3?oe(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(f.$$scope={dirty:r,ctx:n}),e.$set(f)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){A(e,n)}}}function Qt(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}],["path",{d:"M9 17v-13h10v8"}],["path",{d:"M9 8h10"}],["path",{d:"M19 16v6"}],["path",{d:"M22 19l-3 3l-3 -3"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class Xt extends q{constructor(e){super(),z(this,e,Qt,Jt,j,{})}}const Yt=Xt;function Zt(o){let e;const l=o[2].default,t=x(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ee(t,l,s,s[3],e?le(l,s[3],n,null):te(s[3]),null)},i(s){e||(b(t,s),e=!0)},o(s){w(t,s),e=!1},d(s){t&&t.d(s)}}}function yt(o){let e,l;const t=[{name:"music-up"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[Zt]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new se({props:s}),{c(){F(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,r){D(e,n,r),l=!0},p(n,[r]){const f=r&3?oe(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(f.$$scope={dirty:r,ctx:n}),e.$set(f)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){A(e,n)}}}function xt(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}],["path",{d:"M9 17v-13h10v8"}],["path",{d:"M9 8h10"}],["path",{d:"M19 22v-6"}],["path",{d:"M22 19l-3 -3l-3 3"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class el extends q{constructor(e){super(),z(this,e,xt,yt,j,{})}}const tl=el;function ll(o){let e;const l=o[2].default,t=x(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ee(t,l,s,s[3],e?le(l,s[3],n,null):te(s[3]),null)},i(s){e||(b(t,s),e=!0)},o(s){w(t,s),e=!1},d(s){t&&t.d(s)}}}function nl(o){let e,l;const t=[{name:"volume"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[ll]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new se({props:s}),{c(){F(e.$$.fragment)},l(n){O(e.$$.fragment,n)},m(n,r){D(e,n,r),l=!0},p(n,[r]){const f=r&3?oe(t,[t[0],r&2&&re(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(f.$$scope={dirty:r,ctx:n}),e.$set(f)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){A(e,n)}}}function sl(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M15 8a5 5 0 0 1 0 8"}],["path",{d:"M17.7 5a9 9 0 0 1 0 14"}],["path",{d:"M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class ol extends q{constructor(e){super(),z(this,e,sl,nl,j,{})}}const rl=ol;function il(o){let e,l="Einstellungen",t,s,n,r="Volltextsuche",f,i,g,_;return{c(){e=I("div"),e.textContent=l,t=U(),s=I("div"),n=I("p"),n.textContent=r,f=U(),i=I("input"),this.h()},l(a){e=T(a,"DIV",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-pwmfpp"&&(e.textContent=l),t=R(a),s=T(a,"DIV",{class:!0});var u=C(s);n=T(u,"P",{class:!0,"data-svelte-h":!0}),ue(n)!=="svelte-euwnuh"&&(n.textContent=r),f=R(u),i=T(u,"INPUT",{type:!0}),u.forEach(m),this.h()},h(){N(e,"class","divider"),N(n,"class","flex-1 text-left"),N(i,"type","checkbox"),i.checked=o[0],N(s,"class","w-full flex")},m(a,u){E(a,e,u),E(a,t,u),E(a,s,u),L(s,n),L(s,f),L(s,i),g||(_=Q(i,"change",o[1]),g=!0)},p(a,u){u&1&&(i.checked=a[0])},d(a){a&&(m(e),m(t),m(s)),g=!1,_()}}}function fl(o){let e,l;return e=new ct({props:{$$slots:{default:[il]},$$scope:{ctx:o}}}),{c(){F(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){D(e,t,s),l=!0},p(t,[s]){const n={};s&5&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function al(o,e,l){let t=ke();function s(){mt(),l(0,t=ke())}return[t,s]}class ul extends q{constructor(e){super(),z(this,e,al,fl,j,{})}}function cl(o,e){e=e.toLocaleLowerCase();const l=ke();return o.filter(t=>hl(t,e,l)).sort((t,s)=>Ve(t,s,n=>n.T.toLocaleLowerCase().includes(e))).sort((t,s)=>Ve(t,s,n=>n.T.toLocaleLowerCase().startsWith(e)))}function Ve(o,e,l){const t=l(o.song),s=l(e.song);return t&&!s?-1:!t&&s?1:0}function hl(o,e,l){if(e.trim()==="")return o.searchResultPart=void 0,!0;const t=o.song.T.toLocaleLowerCase();e=e.toLocaleLowerCase();const s=Number(e);if(!Number.isNaN(s)&&o.songInsideBook)return o.searchResultPart=void 0,o.songInsideBook.I===s;if(e.trim().split(" ").every(r=>t.includes(r)))return o.searchResultPart=void 0,!0;if(l){const r=$t(o.song);if(r.toLocaleLowerCase().includes(e)){const f=r.toLocaleLowerCase().indexOf(e),i=e.length;return o.searchResultPart=`<p class="font-bold inline">${r.substring(f,f+i)}</p>${r.substring(f+i)}`,!0}}return o.searchResultPart=void 0,!1}function Fe(o){let e,l,t=o[0].searchResultPart+"";return{c(){e=I("div"),l=new pe(!1),this.h()},l(s){e=T(s,"DIV",{});var n=C(e);l=ve(n,!1),n.forEach(m),this.h()},h(){l.a=null},m(s,n){E(s,e,n),l.m(t,e)},p(s,n){n&1&&t!==(t=s[0].searchResultPart+"")&&l.p(t)},d(s){s&&m(e)}}}function gl(o){let e,l,t,s,n,r,f,i,g,_,a,u=o[0].searchResultPart!=null&&Fe(o);return i=new lt({props:{isFavorite:o[2]}}),{c(){e=I("div"),l=I("a"),t=new pe(!1),s=U(),u&&u.c(),r=U(),f=I("button"),F(i.$$.fragment),this.h()},l(h){e=T(h,"DIV",{class:!0});var $=C(e);l=T($,"A",{class:!0,href:!0});var k=C(l);t=ve(k,!1),s=R(k),u&&u.l(k),k.forEach(m),r=R($),f=T($,"BUTTON",{});var p=C(f);O(i.$$.fragment,p),p.forEach(m),$.forEach(m),this.h()},h(){t.a=s,N(l,"class","flex-1 whitespace-nowrap overflow-hidden"),N(l,"href",n=`#song/${o[0].song.I}`),N(e,"class","flex")},m(h,$){E(h,e,$),L(e,l),t.m(o[1],l),L(l,s),u&&u.m(l,null),L(e,r),L(e,f),D(i,f,null),g=!0,_||(a=Q(f,"click",o[3]),_=!0)},p(h,[$]){(!g||$&2)&&t.p(h[1]),h[0].searchResultPart!=null?u?u.p(h,$):(u=Fe(h),u.c(),u.m(l,null)):u&&(u.d(1),u=null),(!g||$&1&&n!==(n=`#song/${h[0].song.I}`))&&N(l,"href",n);const k={};$&4&&(k.isFavorite=h[2]),i.$set(k)},i(h){g||(b(i.$$.fragment,h),g=!0)},o(h){w(i.$$.fragment,h),g=!1},d(h){h&&m(e),u&&u.d(),A(i),_=!1,a()}}}function _l(o,e,l){let t;J(o,$e,i=>l(4,t=i));let{songWithInsideBook:s}=e,n=!1;const r=()=>{st(s.song.I),l(2,n=!n)};let f;return o.$$set=i=>{"songWithInsideBook"in i&&l(0,s=i.songWithInsideBook)},o.$$.update=()=>{var i;if(o.$$.dirty&1&&l(2,n=nt(s.song.I)),o.$$.dirty&19){const g=t.trim().toLocaleLowerCase().split(" ");g.sort((a,u)=>a.length<u.length?1:-1);const _=((i=s.songInsideBook)==null?void 0:i.I)??null;l(1,f=s.song.T),_&&l(1,f=`${_} - ${f}`);for(const a of g){const u=a.length;let h=-1;const $=()=>h+u;do{if(h>=f.length){h=-1;break}h=f.toLocaleLowerCase().indexOf(a,h+1)}while(h>=0&&(f.substring(0,h).split("<").length%2===0||f.substring(h,$()).split("<").length%2===0));if(h>=0){const k=f.substring(h,$());l(1,f=f.slice(0,h)+`<p class="font-bold inline">${k}</p>`+f.slice($()))}}}},[s,f,n,r,t]}class dl extends q{constructor(e){super(),z(this,e,_l,gl,j,{songWithInsideBook:0})}}function ml(o){let e,l;return e=new dl({props:{songWithInsideBook:o[5]}}),{c(){F(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){D(e,t,s),l=!0},p(t,s){const n={};s&32&&(n.songWithInsideBook=t[5]),e.$set(n)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function $l(o){let e,l,t;return l=new ht({props:{items:o[0],height:"100%",$$slots:{default:[ml,({item:s})=>({5:s}),({item:s})=>s?32:0]},$$scope:{ctx:o}}}),{c(){e=I("div"),F(l.$$.fragment),this.h()},l(s){e=T(s,"DIV",{id:!0,class:!0});var n=C(e);O(l.$$.fragment,n),n.forEach(m),this.h()},h(){N(e,"id","virtual-list-div"),N(e,"class","text-left flex-1 overflow-auto px-1 w-full")},m(s,n){E(s,e,n),D(l,e,null),t=!0},p(s,[n]){const r={};n&1&&(r.items=s[0]),n&96&&(r.$$scope={dirty:n,ctx:s}),l.$set(r)},i(s){t||(b(l.$$.fragment,s),t=!0)},o(s){w(l.$$.fragment,s),t=!1},d(s){s&&m(e),A(l)}}}function pl(o,e,l){let t,s,n;J(o,$e,i=>l(2,t=i)),J(o,Le,i=>l(3,s=i)),J(o,wt,i=>l(4,n=i));let{selectedBook:r}=e,f;return o.$$set=i=>{"selectedBook"in i&&l(1,r=i.selectedBook)},o.$$.update=()=>{if(o.$$.dirty&30){let i;if(r.T!==It)i=n[r.T];else{const g=pt();i=s.filter(_=>g.includes(_.I)).map(_=>({song:_}))}l(0,f=cl(i,t))}},[f,r,t,s,n]}class it extends q{constructor(e){super(),z(this,e,pl,$l,j,{selectedBook:1})}}function Oe(o,e,l){const t=o.slice();return t[9]=e[l],t}function De(o,e,l){const t=o.slice();return t[9]=e[l],t}function Ae(o){let e,l=o[9].T+"",t;return{c(){e=I("option"),t=ie(l),this.h()},l(s){e=T(s,"OPTION",{});var n=C(e);t=fe(n,l),n.forEach(m),this.h()},h(){e.__value=o[9],ce(e,e.__value)},m(s,n){E(s,e,n),L(e,t)},p:ne,d(s){s&&m(e)}}}function Ue(o){let e,l,t,s=X(o[2]),n=[];for(let r=0;r<s.length;r+=1)n[r]=Re(Oe(o,s,r));return{c(){e=I("select");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=T(r,"SELECT",{class:!0});var f=C(e);for(let i=0;i<n.length;i+=1)n[i].l(f);f.forEach(m),this.h()},h(){N(e,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0 focus:outline-none"),o[0]===void 0&&tt(()=>o[7].call(e))},m(r,f){E(r,e,f);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null);_e(e,o[0],!0),l||(t=Q(e,"change",o[7]),l=!0)},p(r,f){if(f&4){s=X(r[2]);let i;for(i=0;i<s.length;i+=1){const g=Oe(r,s,i);n[i]?n[i].p(g,f):(n[i]=Re(g),n[i].c(),n[i].m(e,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=s.length}f&5&&_e(e,r[0])},d(r){r&&m(e),ae(n,r),l=!1,t()}}}function Re(o){let e,l=o[9].T.split(" ",2)[1]+"",t,s;return{c(){e=I("option"),t=ie(l),this.h()},l(n){e=T(n,"OPTION",{});var r=C(e);t=fe(r,l),r.forEach(m),this.h()},h(){e.__value=s=o[9],ce(e,e.__value)},m(n,r){E(n,e,r),L(e,t)},p(n,r){r&4&&l!==(l=n[9].T.split(" ",2)[1]+"")&&de(t,l),r&4&&s!==(s=n[9])&&(e.__value=s,ce(e,e.__value))},d(n){n&&m(e)}}}function vl(o){let e,l;return e=new it({props:{selectedBook:o[1]}}),{c(){F(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){D(e,t,s),l=!0},p(t,s){const n={};s&2&&(n.selectedBook=t[1]),e.$set(n)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function bl(o){let e,l;return e=new it({props:{selectedBook:o[0]}}),{c(){F(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){D(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.selectedBook=t[0]),e.$set(n)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function kl(o){let e,l,t,s,n=o[1]!=null&&he(o[1]),r,f,i,g,_,a,u,h,$,k=X(o[4]),p=[];for(let v=0;v<k.length;v+=1)p[v]=Ae(De(o,k,v));let B=n&&Ue(o);const W=[bl,vl],S=[];function P(v,c){return c&2&&(g=null),v[1]!=null&&v[0]?0:(g==null&&(g=!!(v[1]!=null&&wl(v[1]))),g?1:-1)}return~(_=P(o,-1))&&(a=S[_]=W[_](o)),{c(){e=I("div"),l=I("div"),t=I("select");for(let v=0;v<p.length;v+=1)p[v].c();s=U(),B&&B.c(),r=U(),f=I("input"),i=U(),a&&a.c(),this.h()},l(v){e=T(v,"DIV",{class:!0});var c=C(e);l=T(c,"DIV",{});var d=C(l);t=T(d,"SELECT",{class:!0});var M=C(t);for(let V=0;V<p.length;V+=1)p[V].l(M);M.forEach(m),s=R(d),B&&B.l(d),r=R(d),f=T(d,"INPUT",{class:!0,placeholder:!0,type:!0}),d.forEach(m),i=R(c),a&&a.l(c),c.forEach(m),this.h()},h(){N(t,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0 focus:outline-none"),o[1]===void 0&&tt(()=>o[6].call(t)),N(f,"class","input input-bordered w-full max-w-md mb-1 focus:outline-none"),N(f,"placeholder","Suche"),N(f,"type","search"),N(e,"class","flex flex-col overflow-hidden w-full h-full p-1")},m(v,c){E(v,e,c),L(e,l),L(l,t);for(let d=0;d<p.length;d+=1)p[d]&&p[d].m(t,null);_e(t,o[1],!0),L(l,s),B&&B.m(l,null),L(l,r),L(l,f),ce(f,o[3]),L(e,i),~_&&S[_].m(e,null),u=!0,h||($=[Q(t,"change",o[6]),Q(f,"input",o[8])],h=!0)},p(v,[c]){if(c&16){k=X(v[4]);let M;for(M=0;M<k.length;M+=1){const V=De(v,k,M);p[M]?p[M].p(V,c):(p[M]=Ae(V),p[M].c(),p[M].m(t,null))}for(;M<p.length;M+=1)p[M].d(1);p.length=k.length}c&18&&_e(t,v[1]),c&2&&(n=v[1]!=null&&he(v[1])),n?B?B.p(v,c):(B=Ue(v),B.c(),B.m(l,r)):B&&(B.d(1),B=null),c&8&&f.value!==v[3]&&ce(f,v[3]);let d=_;_=P(v,c),_===d?~_&&S[_].p(v,c):(a&&(Z(),w(S[d],1,1,()=>{S[d]=null}),y()),~_?(a=S[_],a?a.p(v,c):(a=S[_]=W[_](v),a.c()),b(a,1),a.m(e,null)):a=null)},i(v){u||(b(a),u=!0)},o(v){w(a),u=!1},d(v){v&&m(e),ae(p,v),B&&B.d(),~_&&S[_].d(),h=!1,ft($)}}}function he(o){return o.hasOwnProperty("F")}function wl(o){return!he(o)}function Il(o,e,l){let t,s,n,r,f;J(o,ge,u=>l(0,s=u)),J(o,ot,u=>l(5,n=u)),J(o,Be,u=>l(1,r=u)),J(o,$e,u=>l(3,f=u));const i=[...n.filter(u=>!Pe.some(h=>u.T.startsWith(h.F))),...Pe];function g(){r=Se(this),Be.set(r),l(4,i)}function _(){s=Se(this),ge.set(s),l(2,t),l(1,r),l(5,n)}function a(){f=this.value,$e.set(f)}return o.$$.update=()=>{if(o.$$.dirty&34&&l(2,t=r&&he(r)?n.filter(u=>u.T.startsWith(r.F)):new Array),o.$$.dirty&35)if(r&&he(r)){const u=r.F;(!s||!s.T.startsWith(u))&&Ee(ge,s=n.filter(h=>h.T.startsWith(u))[0],s)}else Ee(ge,s=null,s)},[s,r,t,f,i,n,g,_,a]}class Tl extends q{constructor(e){super(),z(this,e,Il,kl,j,{})}}function Ll(o){let e,l,t,s,n,r;return l=new rl({}),n=new gt({}),{c(){e=I("a"),F(l.$$.fragment),t=U(),s=I("a"),F(n.$$.fragment),this.h()},l(f){e=T(f,"A",{href:!0});var i=C(e);O(l.$$.fragment,i),i.forEach(m),t=R(f),s=T(f,"A",{href:!0});var g=C(s);O(n.$$.fragment,g),g.forEach(m),this.h()},h(){N(e,"href","/music"),N(s,"href","#settings")},m(f,i){E(f,e,i),D(l,e,null),E(f,t,i),E(f,s,i),D(n,s,null),r=!0},p:ne,i(f){r||(b(l.$$.fragment,f),b(n.$$.fragment,f),r=!0)},o(f){w(l.$$.fragment,f),w(n.$$.fragment,f),r=!1},d(f){f&&(m(e),m(t),m(s)),A(l),A(n)}}}function Nl(o){let e,l,t,s;return e=new Te({props:{title:"Geistliche Lieder!",withCloseButton:!1,$$slots:{default:[Ll]},$$scope:{ctx:o}}}),t=new Tl({}),{c(){F(e.$$.fragment),l=U(),F(t.$$.fragment)},l(n){O(e.$$.fragment,n),l=R(n),O(t.$$.fragment,n)},m(n,r){D(e,n,r),E(n,l,r),D(t,n,r),s=!0},p(n,[r]){const f={};r&1&&(f.$$scope={dirty:r,ctx:n}),e.$set(f)},i(n){s||(b(e.$$.fragment,n),b(t.$$.fragment,n),s=!0)},o(n){w(e.$$.fragment,n),w(t.$$.fragment,n),s=!1},d(n){n&&m(l),A(e,n),A(t,n)}}}class Ml extends q{constructor(e){super(),z(this,e,null,Nl,j,{})}}function We(o,e,l){const t=o.slice();return t[20]=e[l],t}function He(o,e,l){const t=o.slice();return t[23]=e[l],t[25]=l,t}function je(o,e,l){const t=o.slice();return t[26]=e[l],t}function qe(o){let e,l,t,s,n,r;const f=[Sl,El],i=[];function g(_,a){return _[4]?0:1}return l=g(o),t=i[l]=f[l](o),{c(){e=I("button"),t.c()},l(_){e=T(_,"BUTTON",{});var a=C(e);t.l(a),a.forEach(m)},m(_,a){E(_,e,a),i[l].m(e,null),s=!0,n||(r=Q(e,"click",o[10]),n=!0)},p(_,a){let u=l;l=g(_),l!==u&&(Z(),w(i[u],1,1,()=>{i[u]=null}),y(),t=i[l],t||(t=i[l]=f[l](_),t.c()),b(t,1),t.m(e,null))},i(_){s||(b(t),s=!0)},o(_){w(t),s=!1},d(_){_&&m(e),i[l].d(),n=!1,r()}}}function El(o){let e,l;return e=new tl({}),{c(){F(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){D(e,t,s),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function Sl(o){let e,l;return e=new Yt({}),{c(){F(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){D(e,t,s),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function ze(o){let e,l,t,s,n;return l=new Wt({}),{c(){e=I("button"),F(l.$$.fragment)},l(r){e=T(r,"BUTTON",{});var f=C(e);O(l.$$.fragment,f),f.forEach(m)},m(r,f){E(r,e,f),D(l,e,null),t=!0,s||(n=Q(e,"click",o[9]),s=!0)},p:ne,i(r){t||(b(l.$$.fragment,r),t=!0)},o(r){w(l.$$.fragment,r),t=!1},d(r){r&&m(e),A(l),s=!1,n()}}}function Ge(o){let e,l,t,s,n;return l=new Ct({}),{c(){e=I("button"),F(l.$$.fragment)},l(r){e=T(r,"BUTTON",{});var f=C(e);O(l.$$.fragment,f),f.forEach(m)},m(r,f){E(r,e,f),D(l,e,null),t=!0,s||(n=Q(e,"click",o[8]),s=!0)},p:ne,i(r){t||(b(l.$$.fragment,r),t=!0)},o(r){w(l.$$.fragment,r),t=!1},d(r){r&&m(e),A(l),s=!1,n()}}}function Cl(o){let e,l,t,s,n,r,f="Versionen:",i,g;t=new Gt({});let _=X(o[15]),a=[];for(let u=0;u<_.length;u+=1)a[u]=Ke(je(o,_,u));return{c(){e=I("div"),l=I("button"),F(t.$$.fragment),s=U(),n=I("ul"),r=I("li"),r.textContent=f,i=U();for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=T(u,"DIV",{class:!0});var h=C(e);l=T(h,"BUTTON",{});var $=C(l);O(t.$$.fragment,$),$.forEach(m),s=R(h),n=T(h,"UL",{tabindex:!0,class:!0});var k=C(n);r=T(k,"LI",{class:!0,"data-svelte-h":!0}),ue(r)!=="svelte-i962e2"&&(r.textContent=f),i=R(k);for(let p=0;p<a.length;p+=1)a[p].l(k);k.forEach(m),h.forEach(m),this.h()},h(){N(r,"class","capitalize"),N(n,"tabindex","0"),N(n,"class","dropdown-content menu p-2 shadow bg-base-100 rounded-box w-72 lg:w-96 z-10"),N(e,"class","flex dropdown dropdown-end")},m(u,h){E(u,e,h),L(e,l),D(t,l,null),L(e,s),L(e,n),L(n,r),L(n,i);for(let $=0;$<a.length;$+=1)a[$]&&a[$].m(n,null);g=!0},p(u,h){if(h&57346){_=X(u[15]);let $;for($=0;$<_.length;$+=1){const k=je(u,_,$);a[$]?a[$].p(k,h):(a[$]=Ke(k),a[$].c(),a[$].m(n,null))}for(;$<a.length;$+=1)a[$].d(1);a.length=_.length}},i(u){g||(b(t.$$.fragment,u),g=!0)},o(u){w(t.$$.fragment,u),g=!1},d(u){u&&m(e),A(t),ae(a,u)}}}function Ke(o){let e,l,t,s,n,r,f=o[13](o[26])+"",i,g,_,a;function u(){return o[19](o[26])}return{c(){e=I("li"),l=I("label"),t=I("input"),n=U(),r=I("button"),i=ie(f),g=U(),this.h()},l(h){e=T(h,"LI",{});var $=C(e);l=T($,"LABEL",{});var k=C(l);t=T(k,"INPUT",{type:!0}),n=R(k),r=T(k,"BUTTON",{class:!0});var p=C(r);i=fe(p,f),p.forEach(m),k.forEach(m),g=R($),$.forEach(m),this.h()},h(){N(t,"type","radio"),t.checked=s=o[26]===o[1].I,N(r,"class","text-start")},m(h,$){E(h,e,$),L(e,l),L(l,t),L(l,n),L(l,r),L(r,i),L(e,g),_||(a=Q(e,"click",u),_=!0)},p(h,$){o=h,$&2&&s!==(s=o[26]===o[1].I)&&(t.checked=s)},d(h){h&&m(e),_=!1,a()}}}function Bl(o){let e,l,t,s,n,r,f,i,g,_,a,u,h,$,k,p,B;l=new _t({}),r=new Ot({}),g=new lt({props:{isFavorite:o[7]}});let W=o[6]&&qe(o),S=o[1].M&&ze(o),P=o[1].M&&Ge(o),v=o[16]&&Cl(o);return{c(){e=I("a"),F(l.$$.fragment),s=U(),n=I("label"),F(r.$$.fragment),f=U(),i=I("button"),F(g.$$.fragment),_=U(),W&&W.c(),a=U(),S&&S.c(),u=U(),P&&P.c(),h=U(),v&&v.c(),$=Y(),this.h()},l(c){e=T(c,"A",{href:!0});var d=C(e);O(l.$$.fragment,d),d.forEach(m),s=R(c),n=T(c,"LABEL",{for:!0});var M=C(n);O(r.$$.fragment,M),M.forEach(m),f=R(c),i=T(c,"BUTTON",{});var V=C(i);O(g.$$.fragment,V),V.forEach(m),_=R(c),W&&W.l(c),a=R(c),S&&S.l(c),u=R(c),P&&P.l(c),h=R(c),v&&v.l(c),$=Y(),this.h()},h(){N(e,"href",t=`#song/${o[0]}/0`),N(n,"for","song-info")},m(c,d){E(c,e,d),D(l,e,null),E(c,s,d),E(c,n,d),D(r,n,null),E(c,f,d),E(c,i,d),D(g,i,null),E(c,_,d),W&&W.m(c,d),E(c,a,d),S&&S.m(c,d),E(c,u,d),P&&P.m(c,d),E(c,h,d),v&&v.m(c,d),E(c,$,d),k=!0,p||(B=Q(i,"click",o[11]),p=!0)},p(c,d){(!k||d&1&&t!==(t=`#song/${c[0]}/0`))&&N(e,"href",t);const M={};d&128&&(M.isFavorite=c[7]),g.$set(M),c[6]?W?(W.p(c,d),d&64&&b(W,1)):(W=qe(c),W.c(),b(W,1),W.m(a.parentNode,a)):W&&(Z(),w(W,1,1,()=>{W=null}),y()),c[1].M?S?(S.p(c,d),d&2&&b(S,1)):(S=ze(c),S.c(),b(S,1),S.m(u.parentNode,u)):S&&(Z(),w(S,1,1,()=>{S=null}),y()),c[1].M?P?(P.p(c,d),d&2&&b(P,1)):(P=Ge(c),P.c(),b(P,1),P.m(h.parentNode,h)):P&&(Z(),w(P,1,1,()=>{P=null}),y()),c[16]&&v.p(c,d)},i(c){k||(b(l.$$.fragment,c),b(r.$$.fragment,c),b(g.$$.fragment,c),b(W),b(S),b(P),b(v),k=!0)},o(c){w(l.$$.fragment,c),w(r.$$.fragment,c),w(g.$$.fragment,c),w(W),w(S),w(P),w(v),k=!1},d(c){c&&(m(e),m(s),m(n),m(f),m(i),m(_),m(a),m(u),m(h),m($)),A(l),A(r),A(g),W&&W.d(c),S&&S.d(c),P&&P.d(c),v&&v.d(c),p=!1,B()}}}function Je(o){let e,l,t=me(o[23],o[4])+"",s;return{c(){e=I("p"),l=new pe(!1),this.h()},l(n){e=T(n,"P",{class:!0});var r=C(e);l=ve(r,!1),r.forEach(m),this.h()},h(){l.a=null,N(e,"class",s=`w-full ${o[12](o[20],o[25])}`)},m(n,r){E(n,e,r),l.m(t,e)},p(n,r){r&18&&t!==(t=me(n[23],n[4])+"")&&l.p(t),r&2&&s!==(s=`w-full ${n[12](n[20],n[25])}`)&&N(e,"class",s)},d(n){n&&m(e)}}}function Qe(o){let e,l=(!o[1].M||o[25]===o[20].L.length-1&&o[3]||o[25]%2===0||o[25]!==o[20].L.length-1&&o[2])&&Je(o);return{c(){l&&l.c(),e=Y()},l(t){l&&l.l(t),e=Y()},m(t,s){l&&l.m(t,s),E(t,e,s)},p(t,s){!t[1].M||t[25]===t[20].L.length-1&&t[3]||t[25]%2===0||t[25]!==t[20].L.length-1&&t[2]?l?l.p(t,s):(l=Je(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){t&&m(e),l&&l.d(t)}}}function Xe(o){let e,l,t=o[20].T+"",s,n,r,f=X(o[20].L),i=[];for(let g=0;g<f.length;g+=1)i[g]=Qe(He(o,f,g));return{c(){e=I("div"),l=I("p"),s=ie(t),n=U();for(let g=0;g<i.length;g+=1)i[g].c();r=U(),this.h()},l(g){e=T(g,"DIV",{class:!0});var _=C(e);l=T(_,"P",{class:!0});var a=C(l);s=fe(a,t),a.forEach(m),n=R(_);for(let u=0;u<i.length;u+=1)i[u].l(_);r=R(_),_.forEach(m),this.h()},h(){N(l,"class","font-bold"),N(e,"class","w-full pt-2")},m(g,_){E(g,e,_),L(e,l),L(l,s),L(e,n);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);L(e,r)},p(g,_){if(_&2&&t!==(t=g[20].T+"")&&de(s,t),_&4126){f=X(g[20].L);let a;for(a=0;a<f.length;a+=1){const u=He(g,f,a);i[a]?i[a].p(u,_):(i[a]=Qe(u),i[a].c(),i[a].m(e,r))}for(;a<i.length;a+=1)i[a].d(1);i.length=f.length}},d(g){g&&m(e),ae(i,g)}}}function Pl(o){let e,l,t,s,n,r,f,i,g,_,a=o[1].T+"",u,h,$,k,p,B,W='<label for="song-info" class="btn uppercase">Ok</label>',S;l=new Te({props:{title:o[1].T,withCloseButton:!0,$$slots:{default:[Bl]},$$scope:{ctx:o}}});let P=X(o[1].V),v=[];for(let c=0;c<P.length;c+=1)v[c]=Xe(We(o,P,c));return{c(){e=I("div"),F(l.$$.fragment),t=U(),s=I("div");for(let c=0;c<v.length;c+=1)v[c].c();n=U(),r=I("input"),f=U(),i=I("div"),g=I("div"),_=I("h3"),u=ie(a),h=U(),$=I("p"),k=ie(o[5]),p=U(),B=I("div"),B.innerHTML=W,this.h()},l(c){e=T(c,"DIV",{class:!0});var d=C(e);O(l.$$.fragment,d),t=R(d),s=T(d,"DIV",{class:!0});var M=C(s);for(let be=0;be<v.length;be+=1)v[be].l(M);M.forEach(m),n=R(d),r=T(d,"INPUT",{type:!0,id:!0,class:!0}),f=R(d),i=T(d,"DIV",{class:!0});var V=C(i);g=T(V,"DIV",{class:!0});var K=C(g);_=T(K,"H3",{class:!0});var Ne=C(_);u=fe(Ne,a),Ne.forEach(m),h=R(K),$=T(K,"P",{class:!0});var Me=C($);k=fe(Me,o[5]),Me.forEach(m),p=R(K),B=T(K,"DIV",{class:!0,"data-svelte-h":!0}),ue(B)!=="svelte-108trqh"&&(B.innerHTML=W),K.forEach(m),V.forEach(m),d.forEach(m),this.h()},h(){N(s,"class","overflow-auto flex flex-col items-center w-full md:max-w-2xl"),N(r,"type","checkbox"),N(r,"id","song-info"),N(r,"class","modal-toggle"),N(_,"class","font-bold text-lg"),N($,"class","py-4 whitespace-pre-wrap text-left"),N(B,"class","modal-action"),N(g,"class","modal-box"),N(i,"class","modal"),N(e,"class","flex-1 flex flex-col items-center overflow-hidden w-full")},m(c,d){E(c,e,d),D(l,e,null),L(e,t),L(e,s);for(let M=0;M<v.length;M+=1)v[M]&&v[M].m(s,null);L(e,n),L(e,r),L(e,f),L(e,i),L(i,g),L(g,_),L(_,u),L(g,h),L(g,$),L($,k),L(g,p),L(g,B),S=!0},p(c,[d]){const M={};if(d&2&&(M.title=c[1].T),d&536871123&&(M.$$scope={dirty:d,ctx:c}),l.$set(M),d&4126){P=X(c[1].V);let V;for(V=0;V<P.length;V+=1){const K=We(c,P,V);v[V]?v[V].p(K,d):(v[V]=Xe(K),v[V].c(),v[V].m(s,null))}for(;V<v.length;V+=1)v[V].d(1);v.length=P.length}(!S||d&2)&&a!==(a=c[1].T+"")&&de(u,a),(!S||d&32)&&de(k,c[5])},i(c){S||(b(l.$$.fragment,c),S=!0)},o(c){w(l.$$.fragment,c),S=!1},d(c){c&&m(e),A(l),ae(v,c)}}}function Vl(o,e,l){let t,s,n,r;J(o,Le,d=>l(17,n=d)),J(o,ot,d=>l(18,r=d));let{songId:f}=e,i=n.find(d=>d.I===f),g=we(),_=Ie(),a=Ce();function u(){vt(),l(2,g=we())}function h(){bt(),l(3,_=Ie())}function $(){kt(),l(4,a=Ce())}function k(){st(i.I),l(7,t=!t)}function p(d,M){return i.M?M===d.L.length-1?"text-green-600":M%2===1?"text-yellow-600":"":""}let B="";const W=d=>r.filter(V=>V.S.some(K=>K.V===d)).map(V=>V.T).join(", "),S=d=>{rt(`#song/${d}`,{replaceState:!0})},P=n.filter(d=>d.T===i.T).map(d=>d.I),v=P.length>1,c=d=>S(d);return o.$$set=d=>{"songId"in d&&l(0,f=d.songId)},o.$$.update=()=>{if(o.$$.dirty&131073&&l(1,i=n.find(d=>d.I===f)),o.$$.dirty&262146){let d=new Array;i.N!=null&&i.N.trim()!==""&&d.push(`Tonart: ${i.N}`);for(const M of r){const V=M.S.find(K=>K.V===i.I);V&&d.push(`${M.T}: ${V.I}`)}l(5,B=d.join(`
`))}o.$$.dirty&1&&l(7,t=nt(f)),o.$$.dirty&2&&l(6,s=i.V.some(d=>d.L.some(M=>M.includes("{"))))},[f,i,g,_,a,B,s,t,u,h,$,k,p,W,S,P,v,n,r,c]}class Fl extends q{constructor(e){super(),z(this,e,Vl,Pl,j,{songId:0})}}const{document:Ol}=Lt;function Ye(o,e,l){const t=o.slice();return t[13]=e[l],t[15]=l,t}function Ze(o){let e,l,t,s,n;return l=new dt({}),{c(){e=I("button"),F(l.$$.fragment)},l(r){e=T(r,"BUTTON",{});var f=C(e);O(l.$$.fragment,f),f.forEach(m)},m(r,f){E(r,e,f),D(l,e,null),t=!0,s||(n=Q(e,"click",o[10]),s=!0)},p:ne,i(r){t||(b(l.$$.fragment,r),t=!0)},o(r){w(l.$$.fragment,r),t=!1},d(r){r&&m(e),A(l),s=!1,n()}}}function Dl(o){let e,l,t=o[0]>0&&Ze(o);return{c(){t&&t.c(),e=Y()},l(s){t&&t.l(s),e=Y()},m(s,n){t&&t.m(s,n),E(s,e,n),l=!0},p(s,n){s[0]>0?t?(t.p(s,n),n&1&&b(t,1)):(t=Ze(s),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(Z(),w(t,1,1,()=>{t=null}),y())},i(s){l||(b(t),l=!0)},o(s){w(t),l=!1},d(s){s&&m(e),t&&t.d(s)}}}function ye(o){let e,l,t=me(o[13],!1)+"",s;return{c(){e=I("p"),l=new pe(!1),this.h()},l(n){e=T(n,"P",{class:!0});var r=C(e);l=ve(r,!1),r.forEach(m),this.h()},h(){l.a=null,N(e,"class",s=`w-full ${o[6](o[1],o[15])} text-3xl`)},m(n,r){E(n,e,r),l.m(t,e)},p(n,r){r&2&&t!==(t=me(n[13],!1)+"")&&l.p(t),r&2&&s!==(s=`w-full ${n[6](n[1],n[15])} text-3xl`)&&N(e,"class",s)},d(n){n&&m(e)}}}function xe(o){let e,l=(!o[2].M||o[15]===o[1].L.length-1&&o[5]||o[15]%2===0||o[15]!==o[1].L.length-1&&o[4])&&ye(o);return{c(){l&&l.c(),e=Y()},l(t){l&&l.l(t),e=Y()},m(t,s){l&&l.m(t,s),E(t,e,s)},p(t,s){!t[2].M||t[15]===t[1].L.length-1&&t[5]||t[15]%2===0||t[15]!==t[1].L.length-1&&t[4]?l?l.p(t,s):(l=ye(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){t&&m(e),l&&l.d(t)}}}function et(o){let e,l="-----";return{c(){e=I("p"),e.textContent=l,this.h()},l(t){e=T(t,"P",{class:!0,"data-svelte-h":!0}),ue(e)!=="svelte-satk46"&&(e.textContent=l),this.h()},h(){N(e,"class","w-full text-3xl")},m(t,s){E(t,e,s)},d(t){t&&m(e)}}}function Al(o){let e,l,t,s,n,r,f,i,g;t=new Te({props:{title:o[2].T,withCloseButton:!0,closeAction:o[7],$$slots:{default:[Dl]},$$scope:{ctx:o}}});let _=X(o[1].L),a=[];for(let h=0;h<_.length;h+=1)a[h]=xe(Ye(o,_,h));let u=o[3]-1===o[0]&&et();return{c(){e=U(),l=I("div"),F(t.$$.fragment),s=U(),n=I("div");for(let h=0;h<a.length;h+=1)a[h].c();r=U(),u&&u.c(),this.h()},l(h){e=R(h),l=T(h,"DIV",{id:!0,class:!0});var $=C(l);O(t.$$.fragment,$),s=R($),n=T($,"DIV",{class:!0});var k=C(n);for(let p=0;p<a.length;p+=1)a[p].l(k);r=R(k),u&&u.l(k),k.forEach(m),$.forEach(m),this.h()},h(){N(n,"class","overflow-auto flex flex-col items-center w-full h-full"),N(l,"id","song"),N(l,"class","flex-1 flex flex-col items-center overflow-hidden w-full")},m(h,$){E(h,e,$),E(h,l,$),D(t,l,null),L(l,s),L(l,n);for(let k=0;k<a.length;k+=1)a[k]&&a[k].m(n,null);L(n,r),u&&u.m(n,null),f=!0,i||(g=Q(Ol.body,"click",o[8]),i=!0)},p(h,[$]){const k={};if($&65537&&(k.$$scope={dirty:$,ctx:h}),t.$set(k),$&118){_=X(h[1].L);let p;for(p=0;p<_.length;p+=1){const B=Ye(h,_,p);a[p]?a[p].p(B,$):(a[p]=xe(B),a[p].c(),a[p].m(n,r))}for(;p<a.length;p+=1)a[p].d(1);a.length=_.length}h[3]-1===h[0]?u||(u=et(),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i(h){f||(b(t.$$.fragment,h),f=!0)},o(h){w(t.$$.fragment,h),f=!1},d(h){h&&(m(e),m(l)),A(t),ae(a,h),u&&u.d(),i=!1,g()}}}function Ul(o,e,l){let t,s;J(o,Le,p=>l(11,s=p));let{songId:n}=e,{verseIndex:r}=e;const f=s.find(p=>p.I===n),i=f.O.flatMap(p=>f.V.filter(B=>B.I===p)),g=i.length,_=we(),a=Ie();function u(p,B){return f.M?B===p.L.length-1?"text-green-600":B%2===1?"text-yellow-600":"":""}function h(){window.history.go(-(r+1))}function $(){if(r===g-1){h();return}rt(`#song/${n}/${r+1}`)}at(()=>{if(Tt()&&"lock"in screen.orientation)return;const p=document.getElementById("song");p==null||p.requestFullscreen(),screen.orientation.lock("landscape")});const k=p=>{p.stopPropagation(),window.history.go(-1)};return o.$$set=p=>{"songId"in p&&l(9,n=p.songId),"verseIndex"in p&&l(0,r=p.verseIndex)},o.$$.update=()=>{o.$$.dirty&1&&l(1,t=i[r])},[r,t,f,g,_,a,u,h,$,n,k]}class Rl extends q{constructor(e){super(),z(this,e,Ul,Al,j,{songId:9,verseIndex:0})}}function Wl(o){let e,l;return e=new ul({}),{c(){F(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){D(e,t,s),l=!0},p:ne,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function Hl(o){let e,l;return e=new Fl({props:{songId:o[0]}}),{c(){F(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){D(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.songId=t[0]),e.$set(n)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function jl(o){let e,l;return e=new Rl({props:{songId:o[0],verseIndex:o[2]}}),{c(){F(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){D(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.songId=t[0]),s&4&&(n.verseIndex=t[2]),e.$set(n)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function ql(o){let e,l;return e=new Ml({}),{c(){F(e.$$.fragment)},l(t){O(e.$$.fragment,t)},m(t,s){D(e,t,s),l=!0},p:ne,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){A(e,t)}}}function zl(o){let e,l,t,s;const n=[ql,jl,Hl,Wl],r=[];function f(i,g){return i[1].url.hash===""?0:i[0]!=null&&i[2]!=null?1:i[0]!=null?2:i[1].url.hash==="#settings"?3:-1}return~(e=f(o))&&(l=r[e]=n[e](o)),{c(){l&&l.c(),t=Y()},l(i){l&&l.l(i),t=Y()},m(i,g){~e&&r[e].m(i,g),E(i,t,g),s=!0},p(i,[g]){let _=e;e=f(i),e===_?~e&&r[e].p(i,g):(l&&(Z(),w(r[_],1,1,()=>{r[_]=null}),y()),~e?(l=r[e],l?l.p(i,g):(l=r[e]=n[e](i),l.c()),b(l,1),l.m(t.parentNode,t)):l=null)},i(i){s||(b(l),s=!0)},o(i){w(l),s=!1},d(i){i&&m(t),~e&&r[e].d(i)}}}function Gl(o,e,l){let t,s,n;return J(o,ut,r=>l(1,n=r)),o.$$.update=()=>{o.$$.dirty&2&&l(0,t=n.url.hash.startsWith("#song/")?n.url.hash.substring(6).split("/")[0]:null),o.$$.dirty&3&&l(2,s=n.url.hash.startsWith(`#song/${t}/`)?Number.parseInt(n.url.hash.substring(`#song/${t}/`.length)):null)},[t,n,s]}class en extends q{constructor(e){super(),z(this,e,Gl,zl,j,{})}}export{en as component};
