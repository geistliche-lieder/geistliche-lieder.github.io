import{s as j,k as H,l as G,c as le,u as ne,g as se,d as oe,e as X,p as Ie,r as rt,n as he,o as ft}from"../chunks/scheduler.143b6de7.js";import{S as W,i as z,r as B,u as F,v as O,d as k,t as I,w as D,g as T,s as R,h as L,y as ge,c as A,j as C,f as m,k as E,a as M,x as N,z as Q,H as me,F as pe,D as ue,B as Z,p as y,b as x,C as re,m as ee,n as te,o as ce,E as be,e as Y}from"../chunks/index.2f5ba9d6.js";import{p as it}from"../chunks/stores.21a36371.js";import{I as fe,g as ie,a as ae,S as at,F as tt,V as ut,e as K,T as Te,f as ct,d as ht,c as gt}from"../chunks/SettingsPage.e155967a.js";import{g as ve,t as _t,a as dt,b as lt,c as nt,d as mt,e as ke,f as we,h as Me,j as pt,k as $t,l as bt,m as _e}from"../chunks/song.113e5615.js";import{s as de,b as Le,d as vt,F as kt,e as st}from"../chunks/store.8dced48f.js";import{g as ot}from"../chunks/navigation.d97bdc5a.js";const wt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function It(o){let e;const l=o[2].default,t=le(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ne(t,l,s,s[3],e?oe(l,s[3],n,null):se(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){I(t,s),e=!1},d(s){t&&t.d(s)}}}function Tt(o){let e,l;const t=[{name:"abc"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[It]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new fe({props:s}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){O(e,n,r),l=!0},p(n,[r]){const i=r&3?ie(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){D(e,n)}}}function Lt(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M3 16v-6a2 2 0 1 1 4 0v6"}],["path",{d:"M3 13h4"}],["path",{d:"M10 8v6a2 2 0 1 0 4 0v-1a2 2 0 1 0 -4 0v1"}],["path",{d:"M20.732 12a2 2 0 0 0 -3.732 1v1a2 2 0 0 0 3.726 1.01"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class Nt extends W{constructor(e){super(),z(this,e,Lt,Tt,j,{})}}const Et=Nt;function Mt(o){let e;const l=o[2].default,t=le(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ne(t,l,s,s[3],e?oe(l,s[3],n,null):se(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){I(t,s),e=!1},d(s){t&&t.d(s)}}}function St(o){let e,l;const t=[{name:"info-circle"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[Mt]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new fe({props:s}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){O(e,n,r),l=!0},p(n,[r]){const i=r&3?ie(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){D(e,n)}}}function Ct(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"}],["path",{d:"M12 9h.01"}],["path",{d:"M11 12h1v4h1"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class Pt extends W{constructor(e){super(),z(this,e,Ct,St,j,{})}}const Vt=Pt;function Bt(o){let e;const l=o[2].default,t=le(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ne(t,l,s,s[3],e?oe(l,s[3],n,null):se(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){I(t,s),e=!1},d(s){t&&t.d(s)}}}function Ft(o){let e,l;const t=[{name:"language"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[Bt]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new fe({props:s}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){O(e,n,r),l=!0},p(n,[r]){const i=r&3?ie(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){D(e,n)}}}function Ot(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M4 5h7"}],["path",{d:"M9 3v2c0 4.418 -2.239 8 -5 8"}],["path",{d:"M5 9c0 2.144 2.952 3.908 6.7 4"}],["path",{d:"M12 20l4 -9l4 9"}],["path",{d:"M19.1 18h-6.2"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class Dt extends W{constructor(e){super(),z(this,e,Ot,Ft,j,{})}}const Rt=Dt;function At(o){let e;const l=o[2].default,t=le(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ne(t,l,s,s[3],e?oe(l,s[3],n,null):se(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){I(t,s),e=!1},d(s){t&&t.d(s)}}}function Ut(o){let e,l;const t=[{name:"list"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[At]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new fe({props:s}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){O(e,n,r),l=!0},p(n,[r]){const i=r&3?ie(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){D(e,n)}}}function qt(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M9 6l11 0"}],["path",{d:"M9 12l11 0"}],["path",{d:"M9 18l11 0"}],["path",{d:"M5 6l0 .01"}],["path",{d:"M5 12l0 .01"}],["path",{d:"M5 18l0 .01"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class Ht extends W{constructor(e){super(),z(this,e,qt,Ut,j,{})}}const jt=Ht;function Wt(o){let e;const l=o[2].default,t=le(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ne(t,l,s,s[3],e?oe(l,s[3],n,null):se(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){I(t,s),e=!1},d(s){t&&t.d(s)}}}function zt(o){let e,l;const t=[{name:"music-down"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[Wt]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new fe({props:s}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){O(e,n,r),l=!0},p(n,[r]){const i=r&3?ie(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){D(e,n)}}}function Gt(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}],["path",{d:"M9 17v-13h10v8"}],["path",{d:"M9 8h10"}],["path",{d:"M19 16v6"}],["path",{d:"M22 19l-3 3l-3 -3"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class Kt extends W{constructor(e){super(),z(this,e,Gt,zt,j,{})}}const Jt=Kt;function Qt(o){let e;const l=o[2].default,t=le(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ne(t,l,s,s[3],e?oe(l,s[3],n,null):se(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){I(t,s),e=!1},d(s){t&&t.d(s)}}}function Xt(o){let e,l;const t=[{name:"music-up"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[Qt]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new fe({props:s}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){O(e,n,r),l=!0},p(n,[r]){const i=r&3?ie(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){D(e,n)}}}function Yt(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"}],["path",{d:"M9 17v-13h10v8"}],["path",{d:"M9 8h10"}],["path",{d:"M19 22v-6"}],["path",{d:"M22 19l-3 -3l-3 3"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class Zt extends W{constructor(e){super(),z(this,e,Yt,Xt,j,{})}}const yt=Zt;function xt(o){let e;const l=o[2].default,t=le(l,o,o[3],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,n){t&&t.m(s,n),e=!0},p(s,n){t&&t.p&&(!e||n&8)&&ne(t,l,s,s[3],e?oe(l,s[3],n,null):se(s[3]),null)},i(s){e||(k(t,s),e=!0)},o(s){I(t,s),e=!1},d(s){t&&t.d(s)}}}function el(o){let e,l;const t=[{name:"volume"},o[1],{iconNode:o[0]}];let s={$$slots:{default:[xt]},$$scope:{ctx:o}};for(let n=0;n<t.length;n+=1)s=H(s,t[n]);return e=new fe({props:s}),{c(){B(e.$$.fragment)},l(n){F(e.$$.fragment,n)},m(n,r){O(e,n,r),l=!0},p(n,[r]){const i=r&3?ie(t,[t[0],r&2&&ae(n[1]),r&1&&{iconNode:n[0]}]):{};r&8&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){l||(k(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){D(e,n)}}}function tl(o,e,l){let{$$slots:t={},$$scope:s}=e;const n=[["path",{d:"M15 8a5 5 0 0 1 0 8"}],["path",{d:"M17.7 5a9 9 0 0 1 0 14"}],["path",{d:"M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5"}]];return o.$$set=r=>{l(1,e=H(H({},e),G(r))),"$$scope"in r&&l(3,s=r.$$scope)},e=G(e),[n,e,t,s]}class ll extends W{constructor(e){super(),z(this,e,tl,el,j,{})}}const nl=ll;function sl(o){let e,l="Einstellungen fÃ¼r die Liedtexte",t,s,n,r="Volltextsuche",i,f,h,g;return{c(){e=T("div"),e.textContent=l,t=R(),s=T("div"),n=T("p"),n.textContent=r,i=R(),f=T("input"),this.h()},l(a){e=L(a,"DIV",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-1qz8mx3"&&(e.textContent=l),t=A(a),s=L(a,"DIV",{class:!0});var u=C(s);n=L(u,"P",{class:!0,"data-svelte-h":!0}),ge(n)!=="svelte-euwnuh"&&(n.textContent=r),i=A(u),f=L(u,"INPUT",{type:!0}),u.forEach(m),this.h()},h(){E(e,"class","divider"),E(n,"class","flex-1 text-left"),E(f,"type","checkbox"),f.checked=o[0],E(s,"class","w-full flex")},m(a,u){M(a,e,u),M(a,t,u),M(a,s,u),N(s,n),N(s,i),N(s,f),h||(g=Q(f,"change",o[1]),h=!0)},p(a,u){u&1&&(f.checked=a[0])},d(a){a&&(m(e),m(t),m(s)),h=!1,g()}}}function ol(o){let e,l;return e=new at({props:{$$slots:{default:[sl]},$$scope:{ctx:o}}}),{c(){B(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){O(e,t,s),l=!0},p(t,[s]){const n={};s&5&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function rl(o,e,l){let t=ve();function s(){_t(),l(0,t=ve())}return[t,s]}class fl extends W{constructor(e){super(),z(this,e,rl,ol,j,{})}}function il(o,e){e=e.toLocaleLowerCase();const l=ve();return o.filter(t=>al(t,e,l)).sort((t,s)=>Se(t,s,n=>n.T.toLocaleLowerCase().includes(e))).sort((t,s)=>Se(t,s,n=>n.T.toLocaleLowerCase().startsWith(e)))}function Se(o,e,l){const t=l(o.song),s=l(e.song);return t&&!s?-1:!t&&s?1:0}function al(o,e,l){if(e.trim()==="")return o.searchResultPart=void 0,!0;const t=o.song.T.toLocaleLowerCase();e=e.toLocaleLowerCase();const s=Number(e);if(!Number.isNaN(s)&&o.songInsideBook)return o.searchResultPart=void 0,o.songInsideBook.I===s;if(e.trim().split(" ").every(r=>t.includes(r)))return o.searchResultPart=void 0,!0;if(l){const r=dt(o.song);if(r.toLocaleLowerCase().includes(e)){const i=r.toLocaleLowerCase().indexOf(e),f=e.length;return o.searchResultPart=`<p class="font-bold inline">${r.substring(i,i+f)}</p>${r.substring(i+f)}`,!0}}return o.searchResultPart=void 0,!1}function Ce(o){let e,l,t=o[0].searchResultPart+"";return{c(){e=T("div"),l=new me(!1),this.h()},l(s){e=L(s,"DIV",{});var n=C(e);l=pe(n,!1),n.forEach(m),this.h()},h(){l.a=null},m(s,n){M(s,e,n),l.m(t,e)},p(s,n){n&1&&t!==(t=s[0].searchResultPart+"")&&l.p(t)},d(s){s&&m(e)}}}function ul(o){let e,l,t,s,n,r,i,f,h,g,a,u=o[0].searchResultPart!=null&&Ce(o);return f=new tt({props:{isFavorite:o[2]}}),{c(){e=T("div"),l=T("a"),t=new me(!1),s=R(),u&&u.c(),r=R(),i=T("button"),B(f.$$.fragment),this.h()},l(c){e=L(c,"DIV",{class:!0});var _=C(e);l=L(_,"A",{class:!0,href:!0});var v=C(l);t=pe(v,!1),s=A(v),u&&u.l(v),v.forEach(m),r=A(_),i=L(_,"BUTTON",{});var p=C(i);F(f.$$.fragment,p),p.forEach(m),_.forEach(m),this.h()},h(){t.a=s,E(l,"class","flex-1 whitespace-nowrap overflow-hidden"),E(l,"href",n=`#song/${o[0].song.I}`),E(e,"class","flex")},m(c,_){M(c,e,_),N(e,l),t.m(o[1],l),N(l,s),u&&u.m(l,null),N(e,r),N(e,i),O(f,i,null),h=!0,g||(a=Q(i,"click",o[3]),g=!0)},p(c,[_]){(!h||_&2)&&t.p(c[1]),c[0].searchResultPart!=null?u?u.p(c,_):(u=Ce(c),u.c(),u.m(l,null)):u&&(u.d(1),u=null),(!h||_&1&&n!==(n=`#song/${c[0].song.I}`))&&E(l,"href",n);const v={};_&4&&(v.isFavorite=c[2]),f.$set(v)},i(c){h||(k(f.$$.fragment,c),h=!0)},o(c){I(f.$$.fragment,c),h=!1},d(c){c&&m(e),u&&u.d(),D(f),g=!1,a()}}}function cl(o,e,l){let t;X(o,de,f=>l(4,t=f));let{songWithInsideBook:s}=e,n=!1;const r=()=>{nt(s.song.I),l(2,n=!n)};let i;return o.$$set=f=>{"songWithInsideBook"in f&&l(0,s=f.songWithInsideBook)},o.$$.update=()=>{var f;if(o.$$.dirty&1&&l(2,n=lt(s.song.I)),o.$$.dirty&19){const h=t.trim().toLocaleLowerCase().split(" ");h.sort((a,u)=>a.length<u.length?1:-1);const g=((f=s.songInsideBook)==null?void 0:f.I)??null;l(1,i=s.song.T),g&&l(1,i=`${g} - ${i}`);for(const a of h){const u=a.length;let c=-1;const _=()=>c+u;do{if(c>=i.length){c=-1;break}c=i.toLocaleLowerCase().indexOf(a,c+1)}while(c>=0&&(i.substring(0,c).split("<").length%2===0||i.substring(c,_()).split("<").length%2===0));if(c>=0){const v=i.substring(c,_());l(1,i=i.slice(0,c)+`<p class="font-bold inline">${v}</p>`+i.slice(_()))}}}},[s,i,n,r,t]}class hl extends W{constructor(e){super(),z(this,e,cl,ul,j,{songWithInsideBook:0})}}function gl(o){let e,l;return e=new hl({props:{songWithInsideBook:o[5]}}),{c(){B(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){O(e,t,s),l=!0},p(t,s){const n={};s&32&&(n.songWithInsideBook=t[5]),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function _l(o){let e,l,t;return l=new ut({props:{items:o[0],height:"100%",$$slots:{default:[gl,({item:s})=>({5:s}),({item:s})=>s?32:0]},$$scope:{ctx:o}}}),{c(){e=T("div"),B(l.$$.fragment),this.h()},l(s){e=L(s,"DIV",{id:!0,class:!0});var n=C(e);F(l.$$.fragment,n),n.forEach(m),this.h()},h(){E(e,"id","virtual-list-div"),E(e,"class","text-left flex-1 overflow-auto px-1 w-full")},m(s,n){M(s,e,n),O(l,e,null),t=!0},p(s,[n]){const r={};n&1&&(r.items=s[0]),n&96&&(r.$$scope={dirty:n,ctx:s}),l.$set(r)},i(s){t||(k(l.$$.fragment,s),t=!0)},o(s){I(l.$$.fragment,s),t=!1},d(s){s&&m(e),D(l)}}}function dl(o,e,l){let t,s,n;X(o,de,f=>l(2,t=f)),X(o,Le,f=>l(3,s=f)),X(o,vt,f=>l(4,n=f));let{selectedBook:r}=e,i;return o.$$set=f=>{"selectedBook"in f&&l(1,r=f.selectedBook)},o.$$.update=()=>{if(o.$$.dirty&30){let f;if(r.T!==kt)f=n[r.T];else{const h=mt();f=s.filter(g=>h.includes(g.I)).map(g=>({song:g}))}l(0,i=il(f,t))}},[i,r,t,s,n]}class ml extends W{constructor(e){super(),z(this,e,dl,_l,j,{selectedBook:1})}}function Pe(o,e,l){const t=o.slice();return t[14]=e[l],t}function Ve(o,e,l){const t=o.slice();return t[14]=e[l],t}function Be(o,e,l){const t=o.slice();return t[14]=e[l],t}function Fe(o){let e,l=o[14]+"",t,s;return{c(){e=T("option"),t=ee(l),this.h()},l(n){e=L(n,"OPTION",{});var r=C(e);t=te(r,l),r.forEach(m),this.h()},h(){e.__value=s=o[14],Z(e,e.__value)},m(n,r){M(n,e,r),N(e,t)},p(n,r){r&64&&l!==(l=n[14]+"")&&ce(t,l),r&64&&s!==(s=n[14])&&(e.__value=s,Z(e,e.__value))},d(n){n&&m(e)}}}function Oe(o){let e,l,t,s=K(o[4]),n=[];for(let r=0;r<s.length;r+=1)n[r]=De(Ve(o,s,r));return{c(){e=T("select");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=L(r,"SELECT",{class:!0});var i=C(e);for(let f=0;f<n.length;f+=1)n[f].l(i);i.forEach(m),this.h()},h(){E(e,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0 focus:outline-none"),o[1]===void 0&&Ie(()=>o[11].call(e))},m(r,i){M(r,e,i);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);ue(e,o[1],!0),l||(t=Q(e,"change",o[11]),l=!0)},p(r,i){if(i&16){s=K(r[4]);let f;for(f=0;f<s.length;f+=1){const h=Ve(r,s,f);n[f]?n[f].p(h,i):(n[f]=De(h),n[f].c(),n[f].m(e,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=s.length}i&18&&ue(e,r[1])},d(r){r&&m(e),re(n,r),l=!1,t()}}}function De(o){let e,l=o[14]+"",t,s;return{c(){e=T("option"),t=ee(l),this.h()},l(n){e=L(n,"OPTION",{});var r=C(e);t=te(r,l),r.forEach(m),this.h()},h(){e.__value=s=o[14],Z(e,e.__value)},m(n,r){M(n,e,r),N(e,t)},p(n,r){r&16&&l!==(l=n[14]+"")&&ce(t,l),r&16&&s!==(s=n[14])&&(e.__value=s,Z(e,e.__value))},d(n){n&&m(e)}}}function Re(o){let e,l,t,s=K(o[3]),n=[];for(let r=0;r<s.length;r+=1)n[r]=Ae(Pe(o,s,r));return{c(){e=T("select");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=L(r,"SELECT",{class:!0});var i=C(e);for(let f=0;f<n.length;f+=1)n[f].l(i);i.forEach(m),this.h()},h(){E(e,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0 focus:outline-none"),o[2]===void 0&&Ie(()=>o[12].call(e))},m(r,i){M(r,e,i);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(e,null);ue(e,o[2],!0),l||(t=Q(e,"change",o[12]),l=!0)},p(r,i){if(i&8){s=K(r[3]);let f;for(f=0;f<s.length;f+=1){const h=Pe(r,s,f);n[f]?n[f].p(h,i):(n[f]=Ae(h),n[f].c(),n[f].m(e,null))}for(;f<n.length;f+=1)n[f].d(1);n.length=s.length}i&12&&ue(e,r[2])},d(r){r&&m(e),re(n,r),l=!1,t()}}}function Ae(o){let e,l=o[14]+"",t,s;return{c(){e=T("option"),t=ee(l),this.h()},l(n){e=L(n,"OPTION",{});var r=C(e);t=te(r,l),r.forEach(m),this.h()},h(){e.__value=s=o[14],Z(e,e.__value)},m(n,r){M(n,e,r),N(e,t)},p(n,r){r&8&&l!==(l=n[14]+"")&&ce(t,l),r&8&&s!==(s=n[14])&&(e.__value=s,Z(e,e.__value))},d(n){n&&m(e)}}}function Ue(o){let e,l;return e=new ml({props:{selectedBook:o[5]}}),{c(){B(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){O(e,t,s),l=!0},p(t,s){const n={};s&32&&(n.selectedBook=t[5]),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function pl(o){let e,l,t,s,n,r,i,f,h,g,a,u=K(o[6]),c=[];for(let $=0;$<u.length;$+=1)c[$]=Fe(Be(o,u,$));let _=o[4].length>0&&Oe(o),v=o[3].length>0&&Re(o),p=o[5]&&Ue(o);return{c(){e=T("div"),l=T("div"),t=T("select");for(let $=0;$<c.length;$+=1)c[$].c();s=R(),_&&_.c(),n=R(),v&&v.c(),r=R(),i=T("input"),f=R(),p&&p.c(),this.h()},l($){e=L($,"DIV",{class:!0});var S=C(e);l=L(S,"DIV",{});var w=C(l);t=L(w,"SELECT",{class:!0});var P=C(t);for(let V=0;V<c.length;V+=1)c[V].l(P);P.forEach(m),s=A(w),_&&_.l(w),n=A(w),v&&v.l(w),r=A(w),i=L(w,"INPUT",{class:!0,placeholder:!0,type:!0}),w.forEach(m),f=A(S),p&&p.l(S),S.forEach(m),this.h()},h(){E(t,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0 focus:outline-none"),o[0]===void 0&&Ie(()=>o[10].call(t)),E(i,"class","input input-bordered w-full max-w-md mb-1 focus:outline-none"),E(i,"placeholder","Suche"),E(i,"type","search"),E(e,"class","flex flex-col overflow-hidden w-full h-full p-1")},m($,S){M($,e,S),N(e,l),N(l,t);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(t,null);ue(t,o[0],!0),N(l,s),_&&_.m(l,null),N(l,n),v&&v.m(l,null),N(l,r),N(l,i),Z(i,o[7]),N(e,f),p&&p.m(e,null),h=!0,g||(a=[Q(t,"change",o[10]),Q(i,"input",o[13])],g=!0)},p($,[S]){if(S&64){u=K($[6]);let w;for(w=0;w<u.length;w+=1){const P=Be($,u,w);c[w]?c[w].p(P,S):(c[w]=Fe(P),c[w].c(),c[w].m(t,null))}for(;w<c.length;w+=1)c[w].d(1);c.length=u.length}S&65&&ue(t,$[0]),$[4].length>0?_?_.p($,S):(_=Oe($),_.c(),_.m(l,n)):_&&(_.d(1),_=null),$[3].length>0?v?v.p($,S):(v=Re($),v.c(),v.m(l,r)):v&&(v.d(1),v=null),S&128&&i.value!==$[7]&&Z(i,$[7]),$[5]?p?(p.p($,S),S&32&&k(p,1)):(p=Ue($),p.c(),k(p,1),p.m(e,null)):p&&(y(),I(p,1,1,()=>{p=null}),x())},i($){h||(k(p),h=!0)},o($){I(p),h=!1},d($){$&&m(e),re(c,$),_&&_.d(),v&&v.d(),p&&p.d(),g=!1,rt(a)}}}function $l(o,e,l){let t,s,n,r,i,f,h;X(o,st,$=>l(9,f=$)),X(o,de,$=>l(7,h=$));let g,a,u;function c(){g=be(this),l(0,g),l(6,t),l(9,f)}function _(){a=be(this),l(1,a),l(4,s),l(9,f),l(0,g),l(4,s),l(9,f),l(0,g)}function v(){u=be(this),l(2,u),l(3,n),l(9,f),l(0,g),l(1,a),l(4,s),l(3,n),l(9,f),l(0,g),l(1,a),l(4,s)}function p(){h=this.value,de.set(h)}return o.$$.update=()=>{o.$$.dirty&512&&l(6,t=new Set(f.map($=>$.T.split(";",2)[0]))),o.$$.dirty&513&&l(4,s=[...new Set(f.filter($=>$.T.startsWith(`${g};`)).map($=>$.T.split(";",3)[1]))]),o.$$.dirty&18&&a!=null&&(s==null?l(1,a=null):s.includes(a)||l(1,a=s[0])),o.$$.dirty&515&&l(3,n=[...new Set(f.filter($=>$.T.startsWith(`${g};${a};`)).map($=>$.T.split(";",3)[2]))]),o.$$.dirty&12&&u!=null&&(n==null?l(2,u=null):n.includes(u)||l(2,u=n[0])),o.$$.dirty&7&&l(8,r=(g??"")+(a!=null?`;${a}`:"")+(u!=null?`;${u}`:"")),o.$$.dirty&768&&l(5,i=f.find($=>$.T===r))},[g,a,u,n,s,i,t,h,r,f,c,_,v,p]}class bl extends W{constructor(e){super(),z(this,e,$l,pl,j,{})}}function vl(o){let e,l,t,s,n,r;return l=new nl({}),n=new ct({}),{c(){e=T("a"),B(l.$$.fragment),t=R(),s=T("a"),B(n.$$.fragment),this.h()},l(i){e=L(i,"A",{href:!0});var f=C(e);F(l.$$.fragment,f),f.forEach(m),t=A(i),s=L(i,"A",{href:!0});var h=C(s);F(n.$$.fragment,h),h.forEach(m),this.h()},h(){E(e,"href","/music"),E(s,"href","#settings")},m(i,f){M(i,e,f),O(l,e,null),M(i,t,f),M(i,s,f),O(n,s,null),r=!0},p:he,i(i){r||(k(l.$$.fragment,i),k(n.$$.fragment,i),r=!0)},o(i){I(l.$$.fragment,i),I(n.$$.fragment,i),r=!1},d(i){i&&(m(e),m(t),m(s)),D(l),D(n)}}}function kl(o){let e,l,t,s;return e=new Te({props:{title:"Geistliche Lieder!",withCloseButton:!1,$$slots:{default:[vl]},$$scope:{ctx:o}}}),t=new bl({}),{c(){B(e.$$.fragment),l=R(),B(t.$$.fragment)},l(n){F(e.$$.fragment,n),l=A(n),F(t.$$.fragment,n)},m(n,r){O(e,n,r),M(n,l,r),O(t,n,r),s=!0},p(n,[r]){const i={};r&1&&(i.$$scope={dirty:r,ctx:n}),e.$set(i)},i(n){s||(k(e.$$.fragment,n),k(t.$$.fragment,n),s=!0)},o(n){I(e.$$.fragment,n),I(t.$$.fragment,n),s=!1},d(n){n&&m(l),D(e,n),D(t,n)}}}class wl extends W{constructor(e){super(),z(this,e,null,kl,j,{})}}function qe(o,e,l){const t=o.slice();return t[20]=e[l],t}function He(o,e,l){const t=o.slice();return t[23]=e[l],t[25]=l,t}function je(o,e,l){const t=o.slice();return t[26]=e[l],t}function We(o){let e,l,t,s,n,r;const i=[Tl,Il],f=[];function h(g,a){return g[4]?0:1}return l=h(o),t=f[l]=i[l](o),{c(){e=T("button"),t.c()},l(g){e=L(g,"BUTTON",{});var a=C(e);t.l(a),a.forEach(m)},m(g,a){M(g,e,a),f[l].m(e,null),s=!0,n||(r=Q(e,"click",o[10]),n=!0)},p(g,a){let u=l;l=h(g),l!==u&&(y(),I(f[u],1,1,()=>{f[u]=null}),x(),t=f[l],t||(t=f[l]=i[l](g),t.c()),k(t,1),t.m(e,null))},i(g){s||(k(t),s=!0)},o(g){I(t),s=!1},d(g){g&&m(e),f[l].d(),n=!1,r()}}}function Il(o){let e,l;return e=new yt({}),{c(){B(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){O(e,t,s),l=!0},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function Tl(o){let e,l;return e=new Jt({}),{c(){B(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){O(e,t,s),l=!0},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function ze(o){let e,l,t,s,n;return l=new Rt({}),{c(){e=T("button"),B(l.$$.fragment)},l(r){e=L(r,"BUTTON",{});var i=C(e);F(l.$$.fragment,i),i.forEach(m)},m(r,i){M(r,e,i),O(l,e,null),t=!0,s||(n=Q(e,"click",o[9]),s=!0)},p:he,i(r){t||(k(l.$$.fragment,r),t=!0)},o(r){I(l.$$.fragment,r),t=!1},d(r){r&&m(e),D(l),s=!1,n()}}}function Ge(o){let e,l,t,s,n;return l=new Et({}),{c(){e=T("button"),B(l.$$.fragment)},l(r){e=L(r,"BUTTON",{});var i=C(e);F(l.$$.fragment,i),i.forEach(m)},m(r,i){M(r,e,i),O(l,e,null),t=!0,s||(n=Q(e,"click",o[8]),s=!0)},p:he,i(r){t||(k(l.$$.fragment,r),t=!0)},o(r){I(l.$$.fragment,r),t=!1},d(r){r&&m(e),D(l),s=!1,n()}}}function Ll(o){let e,l,t,s,n,r,i="Versionen:",f,h;t=new jt({});let g=K(o[15]),a=[];for(let u=0;u<g.length;u+=1)a[u]=Ke(je(o,g,u));return{c(){e=T("div"),l=T("button"),B(t.$$.fragment),s=R(),n=T("ul"),r=T("li"),r.textContent=i,f=R();for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=L(u,"DIV",{class:!0});var c=C(e);l=L(c,"BUTTON",{});var _=C(l);F(t.$$.fragment,_),_.forEach(m),s=A(c),n=L(c,"UL",{tabindex:!0,class:!0});var v=C(n);r=L(v,"LI",{class:!0,"data-svelte-h":!0}),ge(r)!=="svelte-i962e2"&&(r.textContent=i),f=A(v);for(let p=0;p<a.length;p+=1)a[p].l(v);v.forEach(m),c.forEach(m),this.h()},h(){E(r,"class","capitalize"),E(n,"tabindex","0"),E(n,"class","dropdown-content menu p-2 shadow bg-base-100 rounded-box w-72 lg:w-96 z-10"),E(e,"class","flex dropdown dropdown-end")},m(u,c){M(u,e,c),N(e,l),O(t,l,null),N(e,s),N(e,n),N(n,r),N(n,f);for(let _=0;_<a.length;_+=1)a[_]&&a[_].m(n,null);h=!0},p(u,c){if(c&57346){g=K(u[15]);let _;for(_=0;_<g.length;_+=1){const v=je(u,g,_);a[_]?a[_].p(v,c):(a[_]=Ke(v),a[_].c(),a[_].m(n,null))}for(;_<a.length;_+=1)a[_].d(1);a.length=g.length}},i(u){h||(k(t.$$.fragment,u),h=!0)},o(u){I(t.$$.fragment,u),h=!1},d(u){u&&m(e),D(t),re(a,u)}}}function Ke(o){let e,l,t,s,n,r,i=o[13](o[26])+"",f,h,g,a;function u(){return o[19](o[26])}return{c(){e=T("li"),l=T("label"),t=T("input"),n=R(),r=T("button"),f=ee(i),h=R(),this.h()},l(c){e=L(c,"LI",{});var _=C(e);l=L(_,"LABEL",{});var v=C(l);t=L(v,"INPUT",{type:!0}),n=A(v),r=L(v,"BUTTON",{class:!0});var p=C(r);f=te(p,i),p.forEach(m),v.forEach(m),h=A(_),_.forEach(m),this.h()},h(){E(t,"type","radio"),t.checked=s=o[26]===o[1].I,E(r,"class","text-start")},m(c,_){M(c,e,_),N(e,l),N(l,t),N(l,n),N(l,r),N(r,f),N(e,h),g||(a=Q(e,"click",u),g=!0)},p(c,_){o=c,_&2&&s!==(s=o[26]===o[1].I)&&(t.checked=s)},d(c){c&&m(e),g=!1,a()}}}function Nl(o){let e,l,t,s,n,r,i,f,h,g,a,u,c,_,v,p,$;l=new ht({}),r=new Vt({}),h=new tt({props:{isFavorite:o[7]}});let S=o[6]&&We(o),w=o[1].M&&ze(o),P=o[1].M&&Ge(o),V=o[16]&&Ll(o);return{c(){e=T("a"),B(l.$$.fragment),s=R(),n=T("label"),B(r.$$.fragment),i=R(),f=T("button"),B(h.$$.fragment),g=R(),S&&S.c(),a=R(),w&&w.c(),u=R(),P&&P.c(),c=R(),V&&V.c(),_=Y(),this.h()},l(d){e=L(d,"A",{href:!0});var b=C(e);F(l.$$.fragment,b),b.forEach(m),s=A(d),n=L(d,"LABEL",{for:!0});var U=C(n);F(r.$$.fragment,U),U.forEach(m),i=A(d),f=L(d,"BUTTON",{});var q=C(f);F(h.$$.fragment,q),q.forEach(m),g=A(d),S&&S.l(d),a=A(d),w&&w.l(d),u=A(d),P&&P.l(d),c=A(d),V&&V.l(d),_=Y(),this.h()},h(){E(e,"href",t=`#song/${o[0]}/0`),E(n,"for","song-info")},m(d,b){M(d,e,b),O(l,e,null),M(d,s,b),M(d,n,b),O(r,n,null),M(d,i,b),M(d,f,b),O(h,f,null),M(d,g,b),S&&S.m(d,b),M(d,a,b),w&&w.m(d,b),M(d,u,b),P&&P.m(d,b),M(d,c,b),V&&V.m(d,b),M(d,_,b),v=!0,p||($=Q(f,"click",o[11]),p=!0)},p(d,b){(!v||b&1&&t!==(t=`#song/${d[0]}/0`))&&E(e,"href",t);const U={};b&128&&(U.isFavorite=d[7]),h.$set(U),d[6]?S?(S.p(d,b),b&64&&k(S,1)):(S=We(d),S.c(),k(S,1),S.m(a.parentNode,a)):S&&(y(),I(S,1,1,()=>{S=null}),x()),d[1].M?w?(w.p(d,b),b&2&&k(w,1)):(w=ze(d),w.c(),k(w,1),w.m(u.parentNode,u)):w&&(y(),I(w,1,1,()=>{w=null}),x()),d[1].M?P?(P.p(d,b),b&2&&k(P,1)):(P=Ge(d),P.c(),k(P,1),P.m(c.parentNode,c)):P&&(y(),I(P,1,1,()=>{P=null}),x()),d[16]&&V.p(d,b)},i(d){v||(k(l.$$.fragment,d),k(r.$$.fragment,d),k(h.$$.fragment,d),k(S),k(w),k(P),k(V),v=!0)},o(d){I(l.$$.fragment,d),I(r.$$.fragment,d),I(h.$$.fragment,d),I(S),I(w),I(P),I(V),v=!1},d(d){d&&(m(e),m(s),m(n),m(i),m(f),m(g),m(a),m(u),m(c),m(_)),D(l),D(r),D(h),S&&S.d(d),w&&w.d(d),P&&P.d(d),V&&V.d(d),p=!1,$()}}}function Je(o){let e,l,t=_e(o[23],o[4])+"",s;return{c(){e=T("p"),l=new me(!1),this.h()},l(n){e=L(n,"P",{class:!0});var r=C(e);l=pe(r,!1),r.forEach(m),this.h()},h(){l.a=null,E(e,"class",s=`w-full ${o[12](o[20],o[25])}`)},m(n,r){M(n,e,r),l.m(t,e)},p(n,r){r&18&&t!==(t=_e(n[23],n[4])+"")&&l.p(t),r&2&&s!==(s=`w-full ${n[12](n[20],n[25])}`)&&E(e,"class",s)},d(n){n&&m(e)}}}function Qe(o){let e,l=(!o[1].M||o[25]===o[20].L.length-1&&o[3]||o[25]%2===0||o[25]!==o[20].L.length-1&&o[2])&&Je(o);return{c(){l&&l.c(),e=Y()},l(t){l&&l.l(t),e=Y()},m(t,s){l&&l.m(t,s),M(t,e,s)},p(t,s){!t[1].M||t[25]===t[20].L.length-1&&t[3]||t[25]%2===0||t[25]!==t[20].L.length-1&&t[2]?l?l.p(t,s):(l=Je(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){t&&m(e),l&&l.d(t)}}}function Xe(o){let e,l,t=o[20].T+"",s,n,r,i=K(o[20].L),f=[];for(let h=0;h<i.length;h+=1)f[h]=Qe(He(o,i,h));return{c(){e=T("div"),l=T("p"),s=ee(t),n=R();for(let h=0;h<f.length;h+=1)f[h].c();r=R(),this.h()},l(h){e=L(h,"DIV",{class:!0});var g=C(e);l=L(g,"P",{class:!0});var a=C(l);s=te(a,t),a.forEach(m),n=A(g);for(let u=0;u<f.length;u+=1)f[u].l(g);r=A(g),g.forEach(m),this.h()},h(){E(l,"class","font-bold"),E(e,"class","w-full pt-2")},m(h,g){M(h,e,g),N(e,l),N(l,s),N(e,n);for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(e,null);N(e,r)},p(h,g){if(g&2&&t!==(t=h[20].T+"")&&ce(s,t),g&4126){i=K(h[20].L);let a;for(a=0;a<i.length;a+=1){const u=He(h,i,a);f[a]?f[a].p(u,g):(f[a]=Qe(u),f[a].c(),f[a].m(e,r))}for(;a<f.length;a+=1)f[a].d(1);f.length=i.length}},d(h){h&&m(e),re(f,h)}}}function El(o){let e,l,t,s,n,r,i,f,h,g,a=o[1].T+"",u,c,_,v,p,$,S='<label for="song-info" class="btn uppercase">Ok</label>',w;l=new Te({props:{title:o[1].T,withCloseButton:!0,$$slots:{default:[Nl]},$$scope:{ctx:o}}});let P=K(o[1].V),V=[];for(let d=0;d<P.length;d+=1)V[d]=Xe(qe(o,P,d));return{c(){e=T("div"),B(l.$$.fragment),t=R(),s=T("div");for(let d=0;d<V.length;d+=1)V[d].c();n=R(),r=T("input"),i=R(),f=T("div"),h=T("div"),g=T("h3"),u=ee(a),c=R(),_=T("p"),v=ee(o[5]),p=R(),$=T("div"),$.innerHTML=S,this.h()},l(d){e=L(d,"DIV",{class:!0});var b=C(e);F(l.$$.fragment,b),t=A(b),s=L(b,"DIV",{class:!0});var U=C(s);for(let $e=0;$e<V.length;$e+=1)V[$e].l(U);U.forEach(m),n=A(b),r=L(b,"INPUT",{type:!0,id:!0,class:!0}),i=A(b),f=L(b,"DIV",{class:!0});var q=C(f);h=L(q,"DIV",{class:!0});var J=C(h);g=L(J,"H3",{class:!0});var Ne=C(g);u=te(Ne,a),Ne.forEach(m),c=A(J),_=L(J,"P",{class:!0});var Ee=C(_);v=te(Ee,o[5]),Ee.forEach(m),p=A(J),$=L(J,"DIV",{class:!0,"data-svelte-h":!0}),ge($)!=="svelte-108trqh"&&($.innerHTML=S),J.forEach(m),q.forEach(m),b.forEach(m),this.h()},h(){E(s,"class","overflow-auto flex flex-col items-center w-full md:max-w-2xl"),E(r,"type","checkbox"),E(r,"id","song-info"),E(r,"class","modal-toggle"),E(g,"class","font-bold text-lg"),E(_,"class","py-4 whitespace-pre-wrap text-left"),E($,"class","modal-action"),E(h,"class","modal-box"),E(f,"class","modal"),E(e,"class","flex-1 flex flex-col items-center overflow-hidden w-full")},m(d,b){M(d,e,b),O(l,e,null),N(e,t),N(e,s);for(let U=0;U<V.length;U+=1)V[U]&&V[U].m(s,null);N(e,n),N(e,r),N(e,i),N(e,f),N(f,h),N(h,g),N(g,u),N(h,c),N(h,_),N(_,v),N(h,p),N(h,$),w=!0},p(d,[b]){const U={};if(b&2&&(U.title=d[1].T),b&536871123&&(U.$$scope={dirty:b,ctx:d}),l.$set(U),b&4126){P=K(d[1].V);let q;for(q=0;q<P.length;q+=1){const J=qe(d,P,q);V[q]?V[q].p(J,b):(V[q]=Xe(J),V[q].c(),V[q].m(s,null))}for(;q<V.length;q+=1)V[q].d(1);V.length=P.length}(!w||b&2)&&a!==(a=d[1].T+"")&&ce(u,a),(!w||b&32)&&ce(v,d[5])},i(d){w||(k(l.$$.fragment,d),w=!0)},o(d){I(l.$$.fragment,d),w=!1},d(d){d&&m(e),D(l),re(V,d)}}}function Ml(o,e,l){let t,s,n,r;X(o,Le,b=>l(17,n=b)),X(o,st,b=>l(18,r=b));let{songId:i}=e,f=n.find(b=>b.I===i),h=ke(),g=we(),a=Me();function u(){pt(),l(2,h=ke())}function c(){$t(),l(3,g=we())}function _(){bt(),l(4,a=Me())}function v(){nt(f.I),l(7,t=!t)}function p(b,U){return f.M?U===b.L.length-1?"text-green-600":U%2===1?"text-yellow-600":"":""}let $="";const S=b=>r.filter(q=>q.S.some(J=>J.V===b)).map(q=>q.T).join(", "),w=b=>{ot(`#song/${b}`,{replaceState:!0})},P=n.filter(b=>b.T===f.T).map(b=>b.I),V=P.length>1,d=b=>w(b);return o.$$set=b=>{"songId"in b&&l(0,i=b.songId)},o.$$.update=()=>{if(o.$$.dirty&131073&&l(1,f=n.find(b=>b.I===i)),o.$$.dirty&262146){let b=new Array;f.N!=null&&f.N.trim()!==""&&b.push(`Tonart: ${f.N}`);for(const U of r){const q=U.S.find(J=>J.V===f.I);q&&b.push(`${U.T}: ${q.I}`)}l(5,$=b.join(`
`))}o.$$.dirty&1&&l(7,t=lt(i)),o.$$.dirty&2&&l(6,s=f.V.some(b=>b.L.some(U=>U.includes("{"))))},[i,f,h,g,a,$,s,t,u,c,_,v,p,S,w,P,V,n,r,d]}class Sl extends W{constructor(e){super(),z(this,e,Ml,El,j,{songId:0})}}const{document:Cl}=wt;function Ye(o,e,l){const t=o.slice();return t[13]=e[l],t[15]=l,t}function Ze(o){let e,l,t,s,n;return l=new gt({}),{c(){e=T("button"),B(l.$$.fragment)},l(r){e=L(r,"BUTTON",{});var i=C(e);F(l.$$.fragment,i),i.forEach(m)},m(r,i){M(r,e,i),O(l,e,null),t=!0,s||(n=Q(e,"click",o[10]),s=!0)},p:he,i(r){t||(k(l.$$.fragment,r),t=!0)},o(r){I(l.$$.fragment,r),t=!1},d(r){r&&m(e),D(l),s=!1,n()}}}function Pl(o){let e,l,t=o[0]>0&&Ze(o);return{c(){t&&t.c(),e=Y()},l(s){t&&t.l(s),e=Y()},m(s,n){t&&t.m(s,n),M(s,e,n),l=!0},p(s,n){s[0]>0?t?(t.p(s,n),n&1&&k(t,1)):(t=Ze(s),t.c(),k(t,1),t.m(e.parentNode,e)):t&&(y(),I(t,1,1,()=>{t=null}),x())},i(s){l||(k(t),l=!0)},o(s){I(t),l=!1},d(s){s&&m(e),t&&t.d(s)}}}function ye(o){let e,l,t=_e(o[13],!1)+"",s;return{c(){e=T("p"),l=new me(!1),this.h()},l(n){e=L(n,"P",{class:!0});var r=C(e);l=pe(r,!1),r.forEach(m),this.h()},h(){l.a=null,E(e,"class",s=`w-full ${o[6](o[1],o[15])} text-3xl`)},m(n,r){M(n,e,r),l.m(t,e)},p(n,r){r&2&&t!==(t=_e(n[13],!1)+"")&&l.p(t),r&2&&s!==(s=`w-full ${n[6](n[1],n[15])} text-3xl`)&&E(e,"class",s)},d(n){n&&m(e)}}}function xe(o){let e,l=(!o[2].M||o[15]===o[1].L.length-1&&o[5]||o[15]%2===0||o[15]!==o[1].L.length-1&&o[4])&&ye(o);return{c(){l&&l.c(),e=Y()},l(t){l&&l.l(t),e=Y()},m(t,s){l&&l.m(t,s),M(t,e,s)},p(t,s){!t[2].M||t[15]===t[1].L.length-1&&t[5]||t[15]%2===0||t[15]!==t[1].L.length-1&&t[4]?l?l.p(t,s):(l=ye(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){t&&m(e),l&&l.d(t)}}}function et(o){let e,l="-----";return{c(){e=T("p"),e.textContent=l,this.h()},l(t){e=L(t,"P",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-satk46"&&(e.textContent=l),this.h()},h(){E(e,"class","w-full text-3xl")},m(t,s){M(t,e,s)},d(t){t&&m(e)}}}function Vl(o){let e,l,t,s,n,r,i,f,h;t=new Te({props:{title:o[2].T,withCloseButton:!0,closeAction:o[7],$$slots:{default:[Pl]},$$scope:{ctx:o}}});let g=K(o[1].L),a=[];for(let c=0;c<g.length;c+=1)a[c]=xe(Ye(o,g,c));let u=o[3]-1===o[0]&&et();return{c(){e=R(),l=T("div"),B(t.$$.fragment),s=R(),n=T("div");for(let c=0;c<a.length;c+=1)a[c].c();r=R(),u&&u.c(),this.h()},l(c){e=A(c),l=L(c,"DIV",{id:!0,class:!0});var _=C(l);F(t.$$.fragment,_),s=A(_),n=L(_,"DIV",{class:!0});var v=C(n);for(let p=0;p<a.length;p+=1)a[p].l(v);r=A(v),u&&u.l(v),v.forEach(m),_.forEach(m),this.h()},h(){E(n,"class","overflow-auto flex flex-col items-center w-full h-full"),E(l,"id","song"),E(l,"class","flex-1 flex flex-col items-center overflow-hidden w-full")},m(c,_){M(c,e,_),M(c,l,_),O(t,l,null),N(l,s),N(l,n);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(n,null);N(n,r),u&&u.m(n,null),i=!0,f||(h=Q(Cl.body,"click",o[8]),f=!0)},p(c,[_]){const v={};if(_&65537&&(v.$$scope={dirty:_,ctx:c}),t.$set(v),_&118){g=K(c[1].L);let p;for(p=0;p<g.length;p+=1){const $=Ye(c,g,p);a[p]?a[p].p($,_):(a[p]=xe($),a[p].c(),a[p].m(n,r))}for(;p<a.length;p+=1)a[p].d(1);a.length=g.length}c[3]-1===c[0]?u||(u=et(),u.c(),u.m(n,null)):u&&(u.d(1),u=null)},i(c){i||(k(t.$$.fragment,c),i=!0)},o(c){I(t.$$.fragment,c),i=!1},d(c){c&&(m(e),m(l)),D(t),re(a,c),u&&u.d(),f=!1,h()}}}function Bl(o,e,l){let t,s;X(o,Le,p=>l(11,s=p));let{songId:n}=e,{verseIndex:r}=e;const i=s.find(p=>p.I===n),f=i.O.flatMap(p=>i.V.filter($=>$.I===p)),h=f.length,g=ke(),a=we();function u(p,$){return i.M?$===p.L.length-1?"text-green-600":$%2===1?"text-yellow-600":"":""}function c(){window.history.go(-(r+1))}function _(){if(r===h-1){c();return}ot(`#song/${n}/${r+1}`)}ft(()=>{const p=document.getElementById("song");if(p!=null&&p.requestFullscreen)p.requestFullscreen();else if(p!=null){const $=p;$!=null&&$.webkitRequestFullscreen?$.webkitRequestFullscreen():$!=null&&$.msRequestFullscreen&&$.msRequestFullscreen()}"lock"in screen.orientation&&screen.orientation.lock("landscape")});const v=p=>{p.stopPropagation(),window.history.go(-1)};return o.$$set=p=>{"songId"in p&&l(9,n=p.songId),"verseIndex"in p&&l(0,r=p.verseIndex)},o.$$.update=()=>{o.$$.dirty&1&&l(1,t=f[r])},[r,t,i,h,g,a,u,c,_,n,v]}class Fl extends W{constructor(e){super(),z(this,e,Bl,Vl,j,{songId:9,verseIndex:0})}}function Ol(o){let e,l;return e=new fl({}),{c(){B(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){O(e,t,s),l=!0},p:he,i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function Dl(o){let e,l;return e=new Sl({props:{songId:o[0]}}),{c(){B(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){O(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.songId=t[0]),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function Rl(o){let e,l;return e=new Fl({props:{songId:o[0],verseIndex:o[2]}}),{c(){B(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){O(e,t,s),l=!0},p(t,s){const n={};s&1&&(n.songId=t[0]),s&4&&(n.verseIndex=t[2]),e.$set(n)},i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function Al(o){let e,l;return e=new wl({}),{c(){B(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){O(e,t,s),l=!0},p:he,i(t){l||(k(e.$$.fragment,t),l=!0)},o(t){I(e.$$.fragment,t),l=!1},d(t){D(e,t)}}}function Ul(o){let e,l,t,s;const n=[Al,Rl,Dl,Ol],r=[];function i(f,h){return f[1].url.hash===""?0:f[0]!=null&&f[2]!=null?1:f[0]!=null?2:f[1].url.hash==="#settings"?3:-1}return~(e=i(o))&&(l=r[e]=n[e](o)),{c(){l&&l.c(),t=Y()},l(f){l&&l.l(f),t=Y()},m(f,h){~e&&r[e].m(f,h),M(f,t,h),s=!0},p(f,[h]){let g=e;e=i(f),e===g?~e&&r[e].p(f,h):(l&&(y(),I(r[g],1,1,()=>{r[g]=null}),x()),~e?(l=r[e],l?l.p(f,h):(l=r[e]=n[e](f),l.c()),k(l,1),l.m(t.parentNode,t)):l=null)},i(f){s||(k(l),s=!0)},o(f){I(l),s=!1},d(f){f&&m(t),~e&&r[e].d(f)}}}function ql(o,e,l){let t,s,n;return X(o,it,r=>l(1,n=r)),o.$$.update=()=>{o.$$.dirty&2&&l(0,t=n.url.hash.startsWith("#song/")?n.url.hash.substring(6).split("/")[0]:null),o.$$.dirty&3&&l(2,s=n.url.hash.startsWith(`#song/${t}/`)?Number.parseInt(n.url.hash.substring(`#song/${t}/`.length)):null)},[t,n,s]}class Ql extends W{constructor(e){super(),z(this,e,ql,Ul,j,{})}}export{Ql as component};
