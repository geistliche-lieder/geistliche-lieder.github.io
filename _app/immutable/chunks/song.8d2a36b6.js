import{e as g,b as f,A as S,F as h,d as m}from"./store.8dced48f.js";function w(e){let t=e.T;for(;t.includes(";");)t=t.replace(";"," ");return t}function d(e){return e.V.some(t=>t.L.some(s=>s.includes("{")))}async function L(){return JSON.parse(await fetch("/songs.json").then(e=>e.text()))}let c=!1;async function y(){if(c)return;const e=await L();T(e),c=!0}function T(e){e.B.sort((n,o)=>n.T>o.T?1:-1),e.S.sort((n,o)=>n.T>o.T?1:-1);const t=e.S.reduce((n,o)=>(n[o.I]=o,n),{}),s=e.S.reduce((n,o)=>((n[o.T]==null||d(o))&&(n[o.T]=o),n),{}),a=e.B.reduce((n,o)=>{g.update(l=>[...l,o]);const i=o.S.map(l=>({song:t[l.V],songInsideBook:l}));return n[o.T]=i,n},{});f.set(e.S);const r=e.S.map(n=>n.T).filter((n,o,i)=>i.indexOf(n)===o);a[S]=r.map(n=>({song:s[n]})),a[h]=[],m.set(a);for(const n of e.S)p(n)}function I(e,t){let s="",a=!1;for(const r of e)r==="{"?a=!0:r==="}"?a=!1:a?t&&(s+=`<sup class="text-red-600">${r}</sup>`):s+=r;return s}const u={};function p(e){u[e.I]=e.V.map(N).join(" ")}function N(e){return e.L.map(t=>I(t,!1)).join(" ")}function A(e){return u[e.I]}function B(e){const t=localStorage.getItem("favorites");return t!=null&&t.includes(e)}function C(e){let t=localStorage.getItem("favorites")??"";e=`${e};`,t.length&&t.includes(e)?t=t.replace(e,""):t+=e;try{localStorage.setItem("favorites",t)}catch{}}function _(){const e=localStorage.getItem("favorites");return e?e.split(";"):[]}function V(){localStorage.getItem("hideLatinLetters")!=null?localStorage.removeItem("hideLatinLetters"):localStorage.setItem("hideLatinLetters","")}function E(){return localStorage.getItem("hideLatinLetters")==null}function b(){localStorage.getItem("hideTranslation")!=null?localStorage.removeItem("hideTranslation"):localStorage.setItem("hideTranslation","")}function F(){return localStorage.getItem("hideTranslation")==null}function G(){localStorage.getItem("hideNotes")!=null?localStorage.removeItem("hideNotes"):localStorage.setItem("hideNotes","")}function J(){return localStorage.getItem("hideNotes")==null}function K(){v()?localStorage.removeItem("fullTextSearch"):localStorage.setItem("fullTextSearch","")}function v(){return localStorage.getItem("fullTextSearch")!=null}export{A as a,B as b,C as c,_ as d,E as e,F as f,v as g,J as h,y as i,w as j,V as k,b as l,G as m,I as n,d as s,K as t};
