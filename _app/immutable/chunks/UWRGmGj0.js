import{A as B,b as D,o as n,B as g,C as p,H as w,D as x,F as H,G as c,I as L,J as v,K as b,L as E,M as S,N as G,O as M,P as O,Q as P,U as R}from"./C0JgtRX1.js";import{B as U}from"./AO13-P_k.js";const T=0,_=1;function F(m,k,y,r,l){n&&g();var h=B(),t=R,i=h?b(t):E(t,!1,!1),o=h?b(t):E(t,!1,!1),s=new U(m);D(()=>{var u=k(),I=!1;let N=n&&p(u)===(m.data===w);if(N&&(x(H()),c(!1)),p(u)){var A=S(),d=!1;const a=e=>{if(!I){d=!0,A(!1),G.ensure(),n&&c(!1);try{e()}finally{M(),O||P()}}};u.then(e=>{a(()=>{v(i,e),s.ensure(_,r&&(f=>r(f,i)))})},e=>{a(()=>{if(v(o,e),s.ensure(_,l&&(f=>l(f,o))),!l)throw o.v})}),n?s.ensure(T,y):L(()=>{d||a(()=>{s.ensure(T,y)})})}else v(i,u),s.ensure(_,r&&(a=>r(a,i)));return N&&c(!0),()=>{I=!0}})}export{F as a};
