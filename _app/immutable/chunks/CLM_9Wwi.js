import{g as kn}from"./DW0Wi9Dw.js";import{i as jn}from"./BBZgiPtT.js";import{o as Cr,d as Er,f as Mt,e as Gt}from"./dUgDsnhR.js";var Nn=Object.create,Ur=Object.defineProperty,Dn=Object.getOwnPropertyDescriptor,ir=Object.getOwnPropertyNames,Cn=Object.getPrototypeOf,Un=Object.prototype.hasOwnProperty,Fn=(i,e)=>function(){return i&&(e=(0,i[ir(i)[0]])(i=0)),e},le=(i,e)=>function(){return e||(0,i[ir(i)[0]])((e={exports:{}}).exports,e),e.exports},Wn=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of ir(e))!Un.call(i,a)&&a!==t&&Ur(i,a,{get:()=>e[a],enumerable:!(r=Dn(e,a))||r.enumerable});return i},Ge=(i,e,t)=>(t=i!=null?Nn(Cn(i)):{},Wn(Ur(t,"default",{value:i,enumerable:!0}),i)),qn=le({"node_modules/base64-js/index.js"(i){ae(),i.byteLength=d,i.toByteArray=p,i.fromByteArray=b;var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(l=0,f=a.length;l<f;++l)e[l]=a[l],t[a.charCodeAt(l)]=l;var l,f;t[45]=62,t[95]=63;function n(c){var O=c.length;if(O%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=c.indexOf("=");T===-1&&(T=O);var x=T===O?0:4-T%4;return[T,x]}function d(c){var O=n(c),T=O[0],x=O[1];return(T+x)*3/4-x}function u(c,O,T){return(O+T)*3/4-T}function p(c){var O,T=n(c),x=T[0],h=T[1],E=new r(u(c,x,h)),P=0,A=h>0?x-4:x,B;for(B=0;B<A;B+=4)O=t[c.charCodeAt(B)]<<18|t[c.charCodeAt(B+1)]<<12|t[c.charCodeAt(B+2)]<<6|t[c.charCodeAt(B+3)],E[P++]=O>>16&255,E[P++]=O>>8&255,E[P++]=O&255;return h===2&&(O=t[c.charCodeAt(B)]<<2|t[c.charCodeAt(B+1)]>>4,E[P++]=O&255),h===1&&(O=t[c.charCodeAt(B)]<<10|t[c.charCodeAt(B+1)]<<4|t[c.charCodeAt(B+2)]>>2,E[P++]=O>>8&255,E[P++]=O&255),E}function w(c){return e[c>>18&63]+e[c>>12&63]+e[c>>6&63]+e[c&63]}function _(c,O,T){for(var x,h=[],E=O;E<T;E+=3)x=(c[E]<<16&16711680)+(c[E+1]<<8&65280)+(c[E+2]&255),h.push(w(x));return h.join("")}function b(c){for(var O,T=c.length,x=T%3,h=[],E=16383,P=0,A=T-x;P<A;P+=E)h.push(_(c,P,P+E>A?A:P+E));return x===1?(O=c[T-1],h.push(e[O>>2]+e[O<<4&63]+"==")):x===2&&(O=(c[T-2]<<8)+c[T-1],h.push(e[O>>10]+e[O>>4&63]+e[O<<2&63]+"=")),h.join("")}}}),$n=le({"node_modules/ieee754/index.js"(i){ae(),i.read=function(e,t,r,a,l){var f,n,d=l*8-a-1,u=(1<<d)-1,p=u>>1,w=-7,_=r?l-1:0,b=r?-1:1,c=e[t+_];for(_+=b,f=c&(1<<-w)-1,c>>=-w,w+=d;w>0;f=f*256+e[t+_],_+=b,w-=8);for(n=f&(1<<-w)-1,f>>=-w,w+=a;w>0;n=n*256+e[t+_],_+=b,w-=8);if(f===0)f=1-p;else{if(f===u)return n?NaN:(c?-1:1)*(1/0);n=n+Math.pow(2,a),f=f-p}return(c?-1:1)*n*Math.pow(2,f-a)},i.write=function(e,t,r,a,l,f){var n,d,u,p=f*8-l-1,w=(1<<p)-1,_=w>>1,b=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=a?0:f-1,O=a?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,n=w):(n=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-n))<1&&(n--,u*=2),n+_>=1?t+=b/u:t+=b*Math.pow(2,1-_),t*u>=2&&(n++,u/=2),n+_>=w?(d=0,n=w):n+_>=1?(d=(t*u-1)*Math.pow(2,l),n=n+_):(d=t*Math.pow(2,_-1)*Math.pow(2,l),n=0));l>=8;e[r+c]=d&255,c+=O,d/=256,l-=8);for(n=n<<l|d,p+=l;p>0;e[r+c]=n&255,c+=O,n/=256,p-=8);e[r+c-O]|=T*128}}}),Ue=le({"node_modules/buffer/index.js"(i){ae();var e=qn(),t=$n(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=n,i.SlowBuffer=h,i.INSPECT_MAX_BYTES=50;var a=2147483647;i.kMaxLength=a,n.TYPED_ARRAY_SUPPORT=l(),!n.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const y=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(y,o),y.foo()===42}catch{return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}});function f(y){if(y>a)throw new RangeError('The value "'+y+'" is invalid for option "size"');const o=new Uint8Array(y);return Object.setPrototypeOf(o,n.prototype),o}function n(y,o,s){if(typeof y=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(y)}return d(y,o,s)}n.poolSize=8192;function d(y,o,s){if(typeof y=="string")return _(y,o);if(ArrayBuffer.isView(y))return c(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(ne(y,ArrayBuffer)||y&&ne(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ne(y,SharedArrayBuffer)||y&&ne(y.buffer,SharedArrayBuffer)))return O(y,o,s);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const R=y.valueOf&&y.valueOf();if(R!=null&&R!==y)return n.from(R,o,s);const q=T(y);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return n.from(y[Symbol.toPrimitive]("string"),o,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}n.from=function(y,o,s){return d(y,o,s)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function u(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function p(y,o,s){return u(y),y<=0?f(y):o!==void 0?typeof s=="string"?f(y).fill(o,s):f(y).fill(o):f(y)}n.alloc=function(y,o,s){return p(y,o,s)};function w(y){return u(y),f(y<0?0:x(y)|0)}n.allocUnsafe=function(y){return w(y)},n.allocUnsafeSlow=function(y){return w(y)};function _(y,o){if((typeof o!="string"||o==="")&&(o="utf8"),!n.isEncoding(o))throw new TypeError("Unknown encoding: "+o);const s=E(y,o)|0;let R=f(s);const q=R.write(y,o);return q!==s&&(R=R.slice(0,q)),R}function b(y){const o=y.length<0?0:x(y.length)|0,s=f(o);for(let R=0;R<o;R+=1)s[R]=y[R]&255;return s}function c(y){if(ne(y,Uint8Array)){const o=new Uint8Array(y);return O(o.buffer,o.byteOffset,o.byteLength)}return b(y)}function O(y,o,s){if(o<0||y.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<o+(s||0))throw new RangeError('"length" is outside of buffer bounds');let R;return o===void 0&&s===void 0?R=new Uint8Array(y):s===void 0?R=new Uint8Array(y,o):R=new Uint8Array(y,o,s),Object.setPrototypeOf(R,n.prototype),R}function T(y){if(n.isBuffer(y)){const o=x(y.length)|0,s=f(o);return s.length===0||y.copy(s,0,0,o),s}if(y.length!==void 0)return typeof y.length!="number"||de(y.length)?f(0):b(y);if(y.type==="Buffer"&&Array.isArray(y.data))return b(y.data)}function x(y){if(y>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return y|0}function h(y){return+y!=y&&(y=0),n.alloc(+y)}n.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==n.prototype},n.compare=function(o,s){if(ne(o,Uint8Array)&&(o=n.from(o,o.offset,o.byteLength)),ne(s,Uint8Array)&&(s=n.from(s,s.offset,s.byteLength)),!n.isBuffer(o)||!n.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===s)return 0;let R=o.length,q=s.length;for(let Q=0,ie=Math.min(R,q);Q<ie;++Q)if(o[Q]!==s[Q]){R=o[Q],q=s[Q];break}return R<q?-1:q<R?1:0},n.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(o,s){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return n.alloc(0);let R;if(s===void 0)for(s=0,R=0;R<o.length;++R)s+=o[R].length;const q=n.allocUnsafe(s);let Q=0;for(R=0;R<o.length;++R){let ie=o[R];if(ne(ie,Uint8Array))Q+ie.length>q.length?(n.isBuffer(ie)||(ie=n.from(ie)),ie.copy(q,Q)):Uint8Array.prototype.set.call(q,ie,Q);else if(n.isBuffer(ie))ie.copy(q,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=ie.length}return q};function E(y,o){if(n.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||ne(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);const s=y.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&s===0)return 0;let q=!1;for(;;)switch(o){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return Y(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return ce(y).length;default:if(q)return R?-1:Y(y).length;o=(""+o).toLowerCase(),q=!0}}n.byteLength=E;function P(y,o,s){let R=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,o>>>=0,s<=o))return"";for(y||(y="utf8");;)switch(y){case"hex":return _e(this,o,s);case"utf8":case"utf-8":return Z(this,o,s);case"ascii":return pe(this,o,s);case"latin1":case"binary":return we(this,o,s);case"base64":return K(this,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,o,s);default:if(R)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),R=!0}}n.prototype._isBuffer=!0;function A(y,o,s){const R=y[o];y[o]=y[s],y[s]=R}n.prototype.swap16=function(){const o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let s=0;s<o;s+=2)A(this,s,s+1);return this},n.prototype.swap32=function(){const o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let s=0;s<o;s+=4)A(this,s,s+3),A(this,s+1,s+2);return this},n.prototype.swap64=function(){const o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let s=0;s<o;s+=8)A(this,s,s+7),A(this,s+1,s+6),A(this,s+2,s+5),A(this,s+3,s+4);return this},n.prototype.toString=function(){const o=this.length;return o===0?"":arguments.length===0?Z(this,0,o):P.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(o){if(!n.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:n.compare(this,o)===0},n.prototype.inspect=function(){let o="";const s=i.INSPECT_MAX_BYTES;return o=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(o+=" ... "),"<Buffer "+o+">"},r&&(n.prototype[r]=n.prototype.inspect),n.prototype.compare=function(o,s,R,q,Q){if(ne(o,Uint8Array)&&(o=n.from(o,o.offset,o.byteLength)),!n.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(s===void 0&&(s=0),R===void 0&&(R=o?o.length:0),q===void 0&&(q=0),Q===void 0&&(Q=this.length),s<0||R>o.length||q<0||Q>this.length)throw new RangeError("out of range index");if(q>=Q&&s>=R)return 0;if(q>=Q)return-1;if(s>=R)return 1;if(s>>>=0,R>>>=0,q>>>=0,Q>>>=0,this===o)return 0;let ie=Q-q,Ae=R-s;const Be=Math.min(ie,Ae),Ie=this.slice(q,Q),Oe=o.slice(s,R);for(let Re=0;Re<Be;++Re)if(Ie[Re]!==Oe[Re]){ie=Ie[Re],Ae=Oe[Re];break}return ie<Ae?-1:Ae<ie?1:0};function B(y,o,s,R,q){if(y.length===0)return-1;if(typeof s=="string"?(R=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,de(s)&&(s=q?0:y.length-1),s<0&&(s=y.length+s),s>=y.length){if(q)return-1;s=y.length-1}else if(s<0)if(q)s=0;else return-1;if(typeof o=="string"&&(o=n.from(o,R)),n.isBuffer(o))return o.length===0?-1:j(y,o,s,R,q);if(typeof o=="number")return o=o&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(y,o,s):Uint8Array.prototype.lastIndexOf.call(y,o,s):j(y,[o],s,R,q);throw new TypeError("val must be string, number or Buffer")}function j(y,o,s,R,q){let Q=1,ie=y.length,Ae=o.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(y.length<2||o.length<2)return-1;Q=2,ie/=2,Ae/=2,s/=2}function Be(Oe,Re){return Q===1?Oe[Re]:Oe.readUInt16BE(Re*Q)}let Ie;if(q){let Oe=-1;for(Ie=s;Ie<ie;Ie++)if(Be(y,Ie)===Be(o,Oe===-1?0:Ie-Oe)){if(Oe===-1&&(Oe=Ie),Ie-Oe+1===Ae)return Oe*Q}else Oe!==-1&&(Ie-=Ie-Oe),Oe=-1}else for(s+Ae>ie&&(s=ie-Ae),Ie=s;Ie>=0;Ie--){let Oe=!0;for(let Re=0;Re<Ae;Re++)if(Be(y,Ie+Re)!==Be(o,Re)){Oe=!1;break}if(Oe)return Ie}return-1}n.prototype.includes=function(o,s,R){return this.indexOf(o,s,R)!==-1},n.prototype.indexOf=function(o,s,R){return B(this,o,s,R,!0)},n.prototype.lastIndexOf=function(o,s,R){return B(this,o,s,R,!1)};function G(y,o,s,R){s=Number(s)||0;const q=y.length-s;R?(R=Number(R),R>q&&(R=q)):R=q;const Q=o.length;R>Q/2&&(R=Q/2);let ie;for(ie=0;ie<R;++ie){const Ae=parseInt(o.substr(ie*2,2),16);if(de(Ae))return ie;y[s+ie]=Ae}return ie}function X(y,o,s,R){return W(Y(o,y.length-s),y,s,R)}function J(y,o,s,R){return W(te(o),y,s,R)}function se(y,o,s,R){return W(ce(o),y,s,R)}function F(y,o,s,R){return W(C(o,y.length-s),y,s,R)}n.prototype.write=function(o,s,R,q){if(s===void 0)q="utf8",R=this.length,s=0;else if(R===void 0&&typeof s=="string")q=s,R=this.length,s=0;else if(isFinite(s))s=s>>>0,isFinite(R)?(R=R>>>0,q===void 0&&(q="utf8")):(q=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Q=this.length-s;if((R===void 0||R>Q)&&(R=Q),o.length>0&&(R<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let ie=!1;for(;;)switch(q){case"hex":return G(this,o,s,R);case"utf8":case"utf-8":return X(this,o,s,R);case"ascii":case"latin1":case"binary":return J(this,o,s,R);case"base64":return se(this,o,s,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,o,s,R);default:if(ie)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),ie=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function K(y,o,s){return o===0&&s===y.length?e.fromByteArray(y):e.fromByteArray(y.slice(o,s))}function Z(y,o,s){s=Math.min(y.length,s);const R=[];let q=o;for(;q<s;){const Q=y[q];let ie=null,Ae=Q>239?4:Q>223?3:Q>191?2:1;if(q+Ae<=s){let Be,Ie,Oe,Re;switch(Ae){case 1:Q<128&&(ie=Q);break;case 2:Be=y[q+1],(Be&192)===128&&(Re=(Q&31)<<6|Be&63,Re>127&&(ie=Re));break;case 3:Be=y[q+1],Ie=y[q+2],(Be&192)===128&&(Ie&192)===128&&(Re=(Q&15)<<12|(Be&63)<<6|Ie&63,Re>2047&&(Re<55296||Re>57343)&&(ie=Re));break;case 4:Be=y[q+1],Ie=y[q+2],Oe=y[q+3],(Be&192)===128&&(Ie&192)===128&&(Oe&192)===128&&(Re=(Q&15)<<18|(Be&63)<<12|(Ie&63)<<6|Oe&63,Re>65535&&Re<1114112&&(ie=Re))}}ie===null?(ie=65533,Ae=1):ie>65535&&(ie-=65536,R.push(ie>>>10&1023|55296),ie=56320|ie&1023),R.push(ie),q+=Ae}return fe(R)}var H=4096;function fe(y){const o=y.length;if(o<=H)return String.fromCharCode.apply(String,y);let s="",R=0;for(;R<o;)s+=String.fromCharCode.apply(String,y.slice(R,R+=H));return s}function pe(y,o,s){let R="";s=Math.min(y.length,s);for(let q=o;q<s;++q)R+=String.fromCharCode(y[q]&127);return R}function we(y,o,s){let R="";s=Math.min(y.length,s);for(let q=o;q<s;++q)R+=String.fromCharCode(y[q]);return R}function _e(y,o,s){const R=y.length;(!o||o<0)&&(o=0),(!s||s<0||s>R)&&(s=R);let q="";for(let Q=o;Q<s;++Q)q+=oe[y[Q]];return q}function re(y,o,s){const R=y.slice(o,s);let q="";for(let Q=0;Q<R.length-1;Q+=2)q+=String.fromCharCode(R[Q]+R[Q+1]*256);return q}n.prototype.slice=function(o,s){const R=this.length;o=~~o,s=s===void 0?R:~~s,o<0?(o+=R,o<0&&(o=0)):o>R&&(o=R),s<0?(s+=R,s<0&&(s=0)):s>R&&(s=R),s<o&&(s=o);const q=this.subarray(o,s);return Object.setPrototypeOf(q,n.prototype),q};function he(y,o,s){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+o>s)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(o,s,R){o=o>>>0,s=s>>>0,R||he(o,s,this.length);let q=this[o],Q=1,ie=0;for(;++ie<s&&(Q*=256);)q+=this[o+ie]*Q;return q},n.prototype.readUintBE=n.prototype.readUIntBE=function(o,s,R){o=o>>>0,s=s>>>0,R||he(o,s,this.length);let q=this[o+--s],Q=1;for(;s>0&&(Q*=256);)q+=this[o+--s]*Q;return q},n.prototype.readUint8=n.prototype.readUInt8=function(o,s){return o=o>>>0,s||he(o,1,this.length),this[o]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(o,s){return o=o>>>0,s||he(o,2,this.length),this[o]|this[o+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(o,s){return o=o>>>0,s||he(o,2,this.length),this[o]<<8|this[o+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(o,s){return o=o>>>0,s||he(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(o,s){return o=o>>>0,s||he(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},n.prototype.readBigUInt64LE=Ee(function(o){o=o>>>0,v(o,"offset");const s=this[o],R=this[o+7];(s===void 0||R===void 0)&&m(o,this.length-8);const q=s+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,Q=this[++o]+this[++o]*2**8+this[++o]*2**16+R*2**24;return BigInt(q)+(BigInt(Q)<<BigInt(32))}),n.prototype.readBigUInt64BE=Ee(function(o){o=o>>>0,v(o,"offset");const s=this[o],R=this[o+7];(s===void 0||R===void 0)&&m(o,this.length-8);const q=s*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],Q=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+R;return(BigInt(q)<<BigInt(32))+BigInt(Q)}),n.prototype.readIntLE=function(o,s,R){o=o>>>0,s=s>>>0,R||he(o,s,this.length);let q=this[o],Q=1,ie=0;for(;++ie<s&&(Q*=256);)q+=this[o+ie]*Q;return Q*=128,q>=Q&&(q-=Math.pow(2,8*s)),q},n.prototype.readIntBE=function(o,s,R){o=o>>>0,s=s>>>0,R||he(o,s,this.length);let q=s,Q=1,ie=this[o+--q];for(;q>0&&(Q*=256);)ie+=this[o+--q]*Q;return Q*=128,ie>=Q&&(ie-=Math.pow(2,8*s)),ie},n.prototype.readInt8=function(o,s){return o=o>>>0,s||he(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},n.prototype.readInt16LE=function(o,s){o=o>>>0,s||he(o,2,this.length);const R=this[o]|this[o+1]<<8;return R&32768?R|4294901760:R},n.prototype.readInt16BE=function(o,s){o=o>>>0,s||he(o,2,this.length);const R=this[o+1]|this[o]<<8;return R&32768?R|4294901760:R},n.prototype.readInt32LE=function(o,s){return o=o>>>0,s||he(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},n.prototype.readInt32BE=function(o,s){return o=o>>>0,s||he(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},n.prototype.readBigInt64LE=Ee(function(o){o=o>>>0,v(o,"offset");const s=this[o],R=this[o+7];(s===void 0||R===void 0)&&m(o,this.length-8);const q=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(R<<24);return(BigInt(q)<<BigInt(32))+BigInt(s+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),n.prototype.readBigInt64BE=Ee(function(o){o=o>>>0,v(o,"offset");const s=this[o],R=this[o+7];(s===void 0||R===void 0)&&m(o,this.length-8);const q=(s<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(q)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+R)}),n.prototype.readFloatLE=function(o,s){return o=o>>>0,s||he(o,4,this.length),t.read(this,o,!0,23,4)},n.prototype.readFloatBE=function(o,s){return o=o>>>0,s||he(o,4,this.length),t.read(this,o,!1,23,4)},n.prototype.readDoubleLE=function(o,s){return o=o>>>0,s||he(o,8,this.length),t.read(this,o,!0,52,8)},n.prototype.readDoubleBE=function(o,s){return o=o>>>0,s||he(o,8,this.length),t.read(this,o,!1,52,8)};function g(y,o,s,R,q,Q){if(!n.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>q||o<Q)throw new RangeError('"value" argument is out of bounds');if(s+R>y.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(o,s,R,q){if(o=+o,s=s>>>0,R=R>>>0,!q){const Ae=Math.pow(2,8*R)-1;g(this,o,s,R,Ae,0)}let Q=1,ie=0;for(this[s]=o&255;++ie<R&&(Q*=256);)this[s+ie]=o/Q&255;return s+R},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(o,s,R,q){if(o=+o,s=s>>>0,R=R>>>0,!q){const Ae=Math.pow(2,8*R)-1;g(this,o,s,R,Ae,0)}let Q=R-1,ie=1;for(this[s+Q]=o&255;--Q>=0&&(ie*=256);)this[s+Q]=o/ie&255;return s+R},n.prototype.writeUint8=n.prototype.writeUInt8=function(o,s,R){return o=+o,s=s>>>0,R||g(this,o,s,1,255,0),this[s]=o&255,s+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(o,s,R){return o=+o,s=s>>>0,R||g(this,o,s,2,65535,0),this[s]=o&255,this[s+1]=o>>>8,s+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(o,s,R){return o=+o,s=s>>>0,R||g(this,o,s,2,65535,0),this[s]=o>>>8,this[s+1]=o&255,s+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(o,s,R){return o=+o,s=s>>>0,R||g(this,o,s,4,4294967295,0),this[s+3]=o>>>24,this[s+2]=o>>>16,this[s+1]=o>>>8,this[s]=o&255,s+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(o,s,R){return o=+o,s=s>>>0,R||g(this,o,s,4,4294967295,0),this[s]=o>>>24,this[s+1]=o>>>16,this[s+2]=o>>>8,this[s+3]=o&255,s+4};function D(y,o,s,R,q){ee(o,R,q,y,s,7);let Q=Number(o&BigInt(4294967295));y[s++]=Q,Q=Q>>8,y[s++]=Q,Q=Q>>8,y[s++]=Q,Q=Q>>8,y[s++]=Q;let ie=Number(o>>BigInt(32)&BigInt(4294967295));return y[s++]=ie,ie=ie>>8,y[s++]=ie,ie=ie>>8,y[s++]=ie,ie=ie>>8,y[s++]=ie,s}function z(y,o,s,R,q){ee(o,R,q,y,s,7);let Q=Number(o&BigInt(4294967295));y[s+7]=Q,Q=Q>>8,y[s+6]=Q,Q=Q>>8,y[s+5]=Q,Q=Q>>8,y[s+4]=Q;let ie=Number(o>>BigInt(32)&BigInt(4294967295));return y[s+3]=ie,ie=ie>>8,y[s+2]=ie,ie=ie>>8,y[s+1]=ie,ie=ie>>8,y[s]=ie,s+8}n.prototype.writeBigUInt64LE=Ee(function(o,s=0){return D(this,o,s,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=Ee(function(o,s=0){return z(this,o,s,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(o,s,R,q){if(o=+o,s=s>>>0,!q){const Be=Math.pow(2,8*R-1);g(this,o,s,R,Be-1,-Be)}let Q=0,ie=1,Ae=0;for(this[s]=o&255;++Q<R&&(ie*=256);)o<0&&Ae===0&&this[s+Q-1]!==0&&(Ae=1),this[s+Q]=(o/ie>>0)-Ae&255;return s+R},n.prototype.writeIntBE=function(o,s,R,q){if(o=+o,s=s>>>0,!q){const Be=Math.pow(2,8*R-1);g(this,o,s,R,Be-1,-Be)}let Q=R-1,ie=1,Ae=0;for(this[s+Q]=o&255;--Q>=0&&(ie*=256);)o<0&&Ae===0&&this[s+Q+1]!==0&&(Ae=1),this[s+Q]=(o/ie>>0)-Ae&255;return s+R},n.prototype.writeInt8=function(o,s,R){return o=+o,s=s>>>0,R||g(this,o,s,1,127,-128),o<0&&(o=255+o+1),this[s]=o&255,s+1},n.prototype.writeInt16LE=function(o,s,R){return o=+o,s=s>>>0,R||g(this,o,s,2,32767,-32768),this[s]=o&255,this[s+1]=o>>>8,s+2},n.prototype.writeInt16BE=function(o,s,R){return o=+o,s=s>>>0,R||g(this,o,s,2,32767,-32768),this[s]=o>>>8,this[s+1]=o&255,s+2},n.prototype.writeInt32LE=function(o,s,R){return o=+o,s=s>>>0,R||g(this,o,s,4,2147483647,-2147483648),this[s]=o&255,this[s+1]=o>>>8,this[s+2]=o>>>16,this[s+3]=o>>>24,s+4},n.prototype.writeInt32BE=function(o,s,R){return o=+o,s=s>>>0,R||g(this,o,s,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[s]=o>>>24,this[s+1]=o>>>16,this[s+2]=o>>>8,this[s+3]=o&255,s+4},n.prototype.writeBigInt64LE=Ee(function(o,s=0){return D(this,o,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=Ee(function(o,s=0){return z(this,o,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function V(y,o,s,R,q,Q){if(s+R>y.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function ue(y,o,s,R,q){return o=+o,s=s>>>0,q||V(y,o,s,4),t.write(y,o,s,R,23,4),s+4}n.prototype.writeFloatLE=function(o,s,R){return ue(this,o,s,!0,R)},n.prototype.writeFloatBE=function(o,s,R){return ue(this,o,s,!1,R)};function ye(y,o,s,R,q){return o=+o,s=s>>>0,q||V(y,o,s,8),t.write(y,o,s,R,52,8),s+8}n.prototype.writeDoubleLE=function(o,s,R){return ye(this,o,s,!0,R)},n.prototype.writeDoubleBE=function(o,s,R){return ye(this,o,s,!1,R)},n.prototype.copy=function(o,s,R,q){if(!n.isBuffer(o))throw new TypeError("argument should be a Buffer");if(R||(R=0),!q&&q!==0&&(q=this.length),s>=o.length&&(s=o.length),s||(s=0),q>0&&q<R&&(q=R),q===R||o.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),o.length-s<q-R&&(q=o.length-s+R);const Q=q-R;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,R,q):Uint8Array.prototype.set.call(o,this.subarray(R,q),s),Q},n.prototype.fill=function(o,s,R,q){if(typeof o=="string"){if(typeof s=="string"?(q=s,s=0,R=this.length):typeof R=="string"&&(q=R,R=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!n.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(o.length===1){const ie=o.charCodeAt(0);(q==="utf8"&&ie<128||q==="latin1")&&(o=ie)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(s<0||this.length<s||this.length<R)throw new RangeError("Out of range index");if(R<=s)return this;s=s>>>0,R=R===void 0?this.length:R>>>0,o||(o=0);let Q;if(typeof o=="number")for(Q=s;Q<R;++Q)this[Q]=o;else{const ie=n.isBuffer(o)?o:n.from(o,q),Ae=ie.length;if(Ae===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(Q=0;Q<R-s;++Q)this[Q+s]=ie[Q%Ae]}return this};var U={};function N(y,o,s){U[y]=class extends s{constructor(){super(),Object.defineProperty(this,"message",{value:o.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(y,o){return`The "${y}" argument must be of type number. Received type ${typeof o}`},TypeError),N("ERR_OUT_OF_RANGE",function(y,o,s){let R=`The value of "${y}" is out of range.`,q=s;return Number.isInteger(s)&&Math.abs(s)>2**32?q=k(String(s)):typeof s=="bigint"&&(q=String(s),(s>BigInt(2)**BigInt(32)||s<-(BigInt(2)**BigInt(32)))&&(q=k(q)),q+="n"),R+=` It must be ${o}. Received ${q}`,R},RangeError);function k(y){let o="",s=y.length;const R=y[0]==="-"?1:0;for(;s>=R+4;s-=3)o=`_${y.slice(s-3,s)}${o}`;return`${y.slice(0,s)}${o}`}function $(y,o,s){v(o,"offset"),(y[o]===void 0||y[o+s]===void 0)&&m(o,y.length-(s+1))}function ee(y,o,s,R,q,Q){if(y>s||y<o){const ie=typeof o=="bigint"?"n":"";let Ae;throw o===0||o===BigInt(0)?Ae=`>= 0${ie} and < 2${ie} ** ${(Q+1)*8}${ie}`:Ae=`>= -(2${ie} ** ${(Q+1)*8-1}${ie}) and < 2 ** ${(Q+1)*8-1}${ie}`,new U.ERR_OUT_OF_RANGE("value",Ae,y)}$(R,q,Q)}function v(y,o){if(typeof y!="number")throw new U.ERR_INVALID_ARG_TYPE(o,"number",y)}function m(y,o,s){throw Math.floor(y)!==y?(v(y,s),new U.ERR_OUT_OF_RANGE("offset","an integer",y)):o<0?new U.ERR_BUFFER_OUT_OF_BOUNDS:new U.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${o}`,y)}var S=/[^+/0-9A-Za-z-_]/g;function M(y){if(y=y.split("=")[0],y=y.trim().replace(S,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function Y(y,o){o=o||1/0;let s;const R=y.length;let q=null;const Q=[];for(let ie=0;ie<R;++ie){if(s=y.charCodeAt(ie),s>55295&&s<57344){if(!q){if(s>56319){(o-=3)>-1&&Q.push(239,191,189);continue}else if(ie+1===R){(o-=3)>-1&&Q.push(239,191,189);continue}q=s;continue}if(s<56320){(o-=3)>-1&&Q.push(239,191,189),q=s;continue}s=(q-55296<<10|s-56320)+65536}else q&&(o-=3)>-1&&Q.push(239,191,189);if(q=null,s<128){if((o-=1)<0)break;Q.push(s)}else if(s<2048){if((o-=2)<0)break;Q.push(s>>6|192,s&63|128)}else if(s<65536){if((o-=3)<0)break;Q.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((o-=4)<0)break;Q.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return Q}function te(y){const o=[];for(let s=0;s<y.length;++s)o.push(y.charCodeAt(s)&255);return o}function C(y,o){let s,R,q;const Q=[];for(let ie=0;ie<y.length&&!((o-=2)<0);++ie)s=y.charCodeAt(ie),R=s>>8,q=s%256,Q.push(q),Q.push(R);return Q}function ce(y){return e.toByteArray(M(y))}function W(y,o,s,R){let q;for(q=0;q<R&&!(q+s>=o.length||q>=y.length);++q)o[q+s]=y[q];return q}function ne(y,o){return y instanceof o||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===o.name}function de(y){return y!==y}var oe=(function(){const y="0123456789abcdef",o=new Array(256);for(let s=0;s<16;++s){const R=s*16;for(let q=0;q<16;++q)o[R+q]=y[s]+y[q]}return o})();function Ee(y){return typeof BigInt>"u"?Te:y}function Te(){throw new Error("BigInt not supported")}}}),ve,Se,ze,ae=Fn({"browser/process-shim.mjs"(){ve=Ge(Ue()),Se={env:{},nextTick:(i,...e)=>{globalThis.setTimeout(i,0,...e)}},ze=globalThis}}),xe=le({"node_modules/readable-stream/lib/ours/primordials.js"(i,e){ae(),e.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,r){return t.includes(r)},ArrayPrototypeIndexOf(t,r){return t.indexOf(r)},ArrayPrototypeJoin(t,r){return t.join(r)},ArrayPrototypeMap(t,r){return t.map(r)},ArrayPrototypePop(t,r){return t.pop(r)},ArrayPrototypePush(t,r){return t.push(r)},ArrayPrototypeSlice(t,r,a){return t.slice(r,a)},Error,FunctionPrototypeCall(t,r,...a){return t.call(r,...a)},FunctionPrototypeSymbolHasInstance(t,r){return Function.prototype[Symbol.hasInstance].call(t,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,r){return Object.defineProperties(t,r)},ObjectDefineProperty(t,r,a){return Object.defineProperty(t,r,a)},ObjectGetOwnPropertyDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,r){return Object.setPrototypeOf(t,r)},Promise,PromisePrototypeCatch(t,r){return t.catch(r)},PromisePrototypeThen(t,r,a){return t.then(r,a)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,r){return t.test(r)},SafeSet:Set,String,StringPrototypeSlice(t,r,a){return t.slice(r,a)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,r,a){return t.set(r,a)},Boolean,Uint8Array}}}),At=le({"node_modules/abort-controller/browser.js"(i,e){ae();var{AbortController:t,AbortSignal:r}=typeof self<"u"?self:typeof window<"u"?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t}}),Je=le({"node_modules/events/events.js"(i,e){ae();var t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(j,G,X){return Function.prototype.apply.call(j,G,X)},a;t&&typeof t.ownKeys=="function"?a=t.ownKeys:Object.getOwnPropertySymbols?a=function(j){return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j))}:a=function(j){return Object.getOwnPropertyNames(j)};function l(B){console&&console.warn&&console.warn(B)}var f=Number.isNaN||function(j){return j!==j};function n(){n.init.call(this)}e.exports=n,e.exports.once=E,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var d=10;function u(B){if(typeof B!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(B){if(typeof B!="number"||B<0||f(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");d=B}}),n.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||f(j))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+j+".");return this._maxListeners=j,this};function p(B){return B._maxListeners===void 0?n.defaultMaxListeners:B._maxListeners}n.prototype.getMaxListeners=function(){return p(this)},n.prototype.emit=function(j){for(var G=[],X=1;X<arguments.length;X++)G.push(arguments[X]);var J=j==="error",se=this._events;if(se!==void 0)J=J&&se.error===void 0;else if(!J)return!1;if(J){var F;if(G.length>0&&(F=G[0]),F instanceof Error)throw F;var K=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw K.context=F,K}var Z=se[j];if(Z===void 0)return!1;if(typeof Z=="function")r(Z,this,G);else for(var H=Z.length,fe=T(Z,H),X=0;X<H;++X)r(fe[X],this,G);return!0};function w(B,j,G,X){var J,se,F;if(u(G),se=B._events,se===void 0?(se=B._events=Object.create(null),B._eventsCount=0):(se.newListener!==void 0&&(B.emit("newListener",j,G.listener?G.listener:G),se=B._events),F=se[j]),F===void 0)F=se[j]=G,++B._eventsCount;else if(typeof F=="function"?F=se[j]=X?[G,F]:[F,G]:X?F.unshift(G):F.push(G),J=p(B),J>0&&F.length>J&&!F.warned){F.warned=!0;var K=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(j)+" listeners added. Use emitter.setMaxListeners() to increase limit");K.name="MaxListenersExceededWarning",K.emitter=B,K.type=j,K.count=F.length,l(K)}return B}n.prototype.addListener=function(j,G){return w(this,j,G,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(j,G){return w(this,j,G,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(B,j,G){var X={fired:!1,wrapFn:void 0,target:B,type:j,listener:G},J=_.bind(X);return J.listener=G,X.wrapFn=J,J}n.prototype.once=function(j,G){return u(G),this.on(j,b(this,j,G)),this},n.prototype.prependOnceListener=function(j,G){return u(G),this.prependListener(j,b(this,j,G)),this},n.prototype.removeListener=function(j,G){var X,J,se,F,K;if(u(G),J=this._events,J===void 0)return this;if(X=J[j],X===void 0)return this;if(X===G||X.listener===G)--this._eventsCount===0?this._events=Object.create(null):(delete J[j],J.removeListener&&this.emit("removeListener",j,X.listener||G));else if(typeof X!="function"){for(se=-1,F=X.length-1;F>=0;F--)if(X[F]===G||X[F].listener===G){K=X[F].listener,se=F;break}if(se<0)return this;se===0?X.shift():x(X,se),X.length===1&&(J[j]=X[0]),J.removeListener!==void 0&&this.emit("removeListener",j,K||G)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(j){var G,X,J;if(X=this._events,X===void 0)return this;if(X.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):X[j]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete X[j]),this;if(arguments.length===0){var se=Object.keys(X),F;for(J=0;J<se.length;++J)F=se[J],F!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(G=X[j],typeof G=="function")this.removeListener(j,G);else if(G!==void 0)for(J=G.length-1;J>=0;J--)this.removeListener(j,G[J]);return this};function c(B,j,G){var X=B._events;if(X===void 0)return[];var J=X[j];return J===void 0?[]:typeof J=="function"?G?[J.listener||J]:[J]:G?h(J):T(J,J.length)}n.prototype.listeners=function(j){return c(this,j,!0)},n.prototype.rawListeners=function(j){return c(this,j,!1)},n.listenerCount=function(B,j){return typeof B.listenerCount=="function"?B.listenerCount(j):O.call(B,j)},n.prototype.listenerCount=O;function O(B){var j=this._events;if(j!==void 0){var G=j[B];if(typeof G=="function")return 1;if(G!==void 0)return G.length}return 0}n.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]};function T(B,j){for(var G=new Array(j),X=0;X<j;++X)G[X]=B[X];return G}function x(B,j){for(;j+1<B.length;j++)B[j]=B[j+1];B.pop()}function h(B){for(var j=new Array(B.length),G=0;G<j.length;++G)j[G]=B[G].listener||B[G];return j}function E(B,j){return new Promise(function(G,X){function J(F){B.removeListener(j,se),X(F)}function se(){typeof B.removeListener=="function"&&B.removeListener("error",J),G([].slice.call(arguments))}A(B,j,se,{once:!0}),j!=="error"&&P(B,J,{once:!0})})}function P(B,j,G){typeof B.on=="function"&&A(B,"error",j,G)}function A(B,j,G,X){if(typeof B.on=="function")X.once?B.once(j,G):B.on(j,G);else if(typeof B.addEventListener=="function")B.addEventListener(j,function J(se){X.once&&B.removeEventListener(j,J),G(se)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B)}}}),je=le({"node_modules/readable-stream/lib/ours/util.js"(i,e){ae();var t=Ue(),{kResistStopPropagation:r,SymbolDispose:a}=xe(),l=globalThis.AbortSignal||At().AbortSignal,f=globalThis.AbortController||At().AbortController,n=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||t.Blob,u=typeof d<"u"?function(c){return c instanceof d}:function(c){return!1},p=(b,c)=>{if(b!==void 0&&(b===null||typeof b!="object"||!("aborted"in b)))throw new ERR_INVALID_ARG_TYPE(c,"AbortSignal",b)},w=(b,c)=>{if(typeof b!="function")throw new ERR_INVALID_ARG_TYPE(c,"Function",b)},_=class extends Error{constructor(b){if(!Array.isArray(b))throw new TypeError(`Expected input to be an Array, got ${typeof b}`);let c="";for(let O=0;O<b.length;O++)c+=`    ${b[O].stack}
`;super(c),this.name="AggregateError",this.errors=b}};e.exports={AggregateError:_,kEmptyObject:Object.freeze({}),once(b){let c=!1;return function(...O){c||(c=!0,b.apply(this,O))}},createDeferredPromise:function(){let b,c;return{promise:new Promise((T,x)=>{b=T,c=x}),resolve:b,reject:c}},promisify(b){return new Promise((c,O)=>{b((T,...x)=>T?O(T):c(...x))})},debuglog(){return function(){}},format(b,...c){return b.replace(/%([sdifj])/g,function(...[O,T]){const x=c.shift();return T==="f"?x.toFixed(6):T==="j"?JSON.stringify(x):T==="s"&&typeof x=="object"?`${x.constructor!==Object?x.constructor.name:""} {}`.trim():x.toString()})},inspect(b){switch(typeof b){case"string":if(b.includes("'"))if(b.includes('"')){if(!b.includes("`")&&!b.includes("${"))return`\`${b}\``}else return`"${b}"`;return`'${b}'`;case"number":return isNaN(b)?"NaN":Object.is(b,-0)?String(b):b;case"bigint":return`${String(b)}n`;case"boolean":case"undefined":return String(b);case"object":return"{}"}},types:{isAsyncFunction(b){return b instanceof n},isArrayBufferView(b){return ArrayBuffer.isView(b)}},isBlob:u,deprecate(b,c){return b},addAbortListener:Je().addAbortListener||function(c,O){if(c===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",c);p(c,"signal"),w(O,"listener");let T;return c.aborted?queueMicrotask(()=>O()):(c.addEventListener("abort",O,{__proto__:null,once:!0,[r]:!0}),T=()=>{c.removeEventListener("abort",O)}),{__proto__:null,[a](){var x;(x=T)===null||x===void 0||x()}}},AbortSignalAny:l.any||function(c){if(c.length===1)return c[0];const O=new f,T=()=>O.abort();return c.forEach(x=>{p(x,"signals"),x.addEventListener("abort",T,{once:!0})}),O.signal.addEventListener("abort",()=>{c.forEach(x=>x.removeEventListener("abort",T))},{once:!0}),O.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}}),Ne=le({"node_modules/readable-stream/lib/ours/errors.js"(i,e){ae();var{format:t,inspect:r,AggregateError:a}=je(),l=globalThis.AggregateError||a,f=Symbol("kIsNodeError"),n=["string","function","number","object","Function","Object","boolean","bigint","symbol"],d=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",p={};function w(h,E){if(!h)throw new p.ERR_INTERNAL_ASSERTION(E)}function _(h){let E="",P=h.length;const A=h[0]==="-"?1:0;for(;P>=A+4;P-=3)E=`_${h.slice(P-3,P)}${E}`;return`${h.slice(0,P)}${E}`}function b(h,E,P){if(typeof E=="function")return w(E.length<=P.length,`Code: ${h}; The provided arguments length (${P.length}) does not match the required ones (${E.length}).`),E(...P);const A=(E.match(/%[dfijoOs]/g)||[]).length;return w(A===P.length,`Code: ${h}; The provided arguments length (${P.length}) does not match the required ones (${A}).`),P.length===0?E:t(E,...P)}function c(h,E,P){P||(P=Error);class A extends P{constructor(...j){super(b(h,E,j))}toString(){return`${this.name} [${h}]: ${this.message}`}}Object.defineProperties(A.prototype,{name:{value:P.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${h}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),A.prototype.code=h,A.prototype[f]=!0,p[h]=A}function O(h){const E=u+h.name;return Object.defineProperty(h,"name",{value:E}),h}function T(h,E){if(h&&E&&h!==E){if(Array.isArray(E.errors))return E.errors.push(h),E;const P=new l([E,h],E.message);return P.code=E.code,P}return h||E}var x=class extends Error{constructor(h="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new p.ERR_INVALID_ARG_TYPE("options","Object",E);super(h,E),this.code="ABORT_ERR",this.name="AbortError"}};c("ERR_ASSERTION","%s",Error),c("ERR_INVALID_ARG_TYPE",(h,E,P)=>{w(typeof h=="string","'name' must be a string"),Array.isArray(E)||(E=[E]);let A="The ";h.endsWith(" argument")?A+=`${h} `:A+=`"${h}" ${h.includes(".")?"property":"argument"} `,A+="must be ";const B=[],j=[],G=[];for(const J of E)w(typeof J=="string","All expected entries have to be of type string"),n.includes(J)?B.push(J.toLowerCase()):d.test(J)?j.push(J):(w(J!=="object",'The value "object" should be written as "Object"'),G.push(J));if(j.length>0){const J=B.indexOf("object");J!==-1&&(B.splice(B,J,1),j.push("Object"))}if(B.length>0){switch(B.length){case 1:A+=`of type ${B[0]}`;break;case 2:A+=`one of type ${B[0]} or ${B[1]}`;break;default:{const J=B.pop();A+=`one of type ${B.join(", ")}, or ${J}`}}(j.length>0||G.length>0)&&(A+=" or ")}if(j.length>0){switch(j.length){case 1:A+=`an instance of ${j[0]}`;break;case 2:A+=`an instance of ${j[0]} or ${j[1]}`;break;default:{const J=j.pop();A+=`an instance of ${j.join(", ")}, or ${J}`}}G.length>0&&(A+=" or ")}switch(G.length){case 0:break;case 1:G[0].toLowerCase()!==G[0]&&(A+="an "),A+=`${G[0]}`;break;case 2:A+=`one of ${G[0]} or ${G[1]}`;break;default:{const J=G.pop();A+=`one of ${G.join(", ")}, or ${J}`}}if(P==null)A+=`. Received ${P}`;else if(typeof P=="function"&&P.name)A+=`. Received function ${P.name}`;else if(typeof P=="object"){var X;if((X=P.constructor)!==null&&X!==void 0&&X.name)A+=`. Received an instance of ${P.constructor.name}`;else{const J=r(P,{depth:-1});A+=`. Received ${J}`}}else{let J=r(P,{colors:!1});J.length>25&&(J=`${J.slice(0,25)}...`),A+=`. Received type ${typeof P} (${J})`}return A},TypeError),c("ERR_INVALID_ARG_VALUE",(h,E,P="is invalid")=>{let A=r(E);return A.length>128&&(A=A.slice(0,128)+"..."),`The ${h.includes(".")?"property":"argument"} '${h}' ${P}. Received ${A}`},TypeError),c("ERR_INVALID_RETURN_VALUE",(h,E,P)=>{var A;const B=P!=null&&(A=P.constructor)!==null&&A!==void 0&&A.name?`instance of ${P.constructor.name}`:`type ${typeof P}`;return`Expected ${h} to be returned from the "${E}" function but got ${B}.`},TypeError),c("ERR_MISSING_ARGS",(...h)=>{w(h.length>0,"At least one arg needs to be specified");let E;const P=h.length;switch(h=(Array.isArray(h)?h:[h]).map(A=>`"${A}"`).join(" or "),P){case 1:E+=`The ${h[0]} argument`;break;case 2:E+=`The ${h[0]} and ${h[1]} arguments`;break;default:{const A=h.pop();E+=`The ${h.join(", ")}, and ${A} arguments`}break}return`${E} must be specified`},TypeError),c("ERR_OUT_OF_RANGE",(h,E,P)=>{w(E,'Missing "range" argument');let A;return Number.isInteger(P)&&Math.abs(P)>2**32?A=_(String(P)):typeof P=="bigint"?(A=String(P),(P>2n**32n||P<-(2n**32n))&&(A=_(A)),A+="n"):A=r(P),`The value of "${h}" is out of range. It must be ${E}. Received ${A}`},RangeError),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),c("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),c("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),c("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),c("ERR_STREAM_WRITE_AFTER_END","write after end",Error),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:x,aggregateTwoErrors:O(T),hideStackFrames:O,codes:p}}}),Tt=le({"node_modules/readable-stream/lib/internal/validators.js"(i,e){ae();var{ArrayIsArray:t,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:a,ArrayPrototypeMap:l,NumberIsInteger:f,NumberIsNaN:n,NumberMAX_SAFE_INTEGER:d,NumberMIN_SAFE_INTEGER:u,NumberParseInt:p,ObjectPrototypeHasOwnProperty:w,RegExpPrototypeExec:_,String:b,StringPrototypeToUpperCase:c,StringPrototypeTrim:O}=xe(),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:x,ERR_INVALID_ARG_TYPE:h,ERR_INVALID_ARG_VALUE:E,ERR_OUT_OF_RANGE:P,ERR_UNKNOWN_SIGNAL:A}}=Ne(),{normalizeEncoding:B}=je(),{isAsyncFunction:j,isArrayBufferView:G}=je().types,X={};function J(W){return W===(W|0)}function se(W){return W===W>>>0}var F=/^[0-7]+$/,K="must be a 32-bit unsigned integer or an octal string";function Z(W,ne,de){if(typeof W>"u"&&(W=de),typeof W=="string"){if(_(F,W)===null)throw new E(ne,W,K);W=p(W,8)}return pe(W,ne),W}var H=T((W,ne,de=u,oe=d)=>{if(typeof W!="number")throw new h(ne,"number",W);if(!f(W))throw new P(ne,"an integer",W);if(W<de||W>oe)throw new P(ne,`>= ${de} && <= ${oe}`,W)}),fe=T((W,ne,de=-2147483648,oe=2147483647)=>{if(typeof W!="number")throw new h(ne,"number",W);if(!f(W))throw new P(ne,"an integer",W);if(W<de||W>oe)throw new P(ne,`>= ${de} && <= ${oe}`,W)}),pe=T((W,ne,de=!1)=>{if(typeof W!="number")throw new h(ne,"number",W);if(!f(W))throw new P(ne,"an integer",W);const oe=de?1:0,Ee=4294967295;if(W<oe||W>Ee)throw new P(ne,`>= ${oe} && <= ${Ee}`,W)});function we(W,ne){if(typeof W!="string")throw new h(ne,"string",W)}function _e(W,ne,de=void 0,oe){if(typeof W!="number")throw new h(ne,"number",W);if(de!=null&&W<de||oe!=null&&W>oe||(de!=null||oe!=null)&&n(W))throw new P(ne,`${de!=null?`>= ${de}`:""}${de!=null&&oe!=null?" && ":""}${oe!=null?`<= ${oe}`:""}`,W)}var re=T((W,ne,de)=>{if(!r(de,W)){const Ee="must be one of: "+a(l(de,Te=>typeof Te=="string"?`'${Te}'`:b(Te)),", ");throw new E(ne,W,Ee)}});function he(W,ne){if(typeof W!="boolean")throw new h(ne,"boolean",W)}function g(W,ne,de){return W==null||!w(W,ne)?de:W[ne]}var D=T((W,ne,de=null)=>{const oe=g(de,"allowArray",!1),Ee=g(de,"allowFunction",!1);if(!g(de,"nullable",!1)&&W===null||!oe&&t(W)||typeof W!="object"&&(!Ee||typeof W!="function"))throw new h(ne,"Object",W)}),z=T((W,ne)=>{if(W!=null&&typeof W!="object"&&typeof W!="function")throw new h(ne,"a dictionary",W)}),V=T((W,ne,de=0)=>{if(!t(W))throw new h(ne,"Array",W);if(W.length<de){const oe=`must be longer than ${de}`;throw new E(ne,W,oe)}});function ue(W,ne){V(W,ne);for(let de=0;de<W.length;de++)we(W[de],`${ne}[${de}]`)}function ye(W,ne){V(W,ne);for(let de=0;de<W.length;de++)he(W[de],`${ne}[${de}]`)}function U(W,ne){V(W,ne);for(let de=0;de<W.length;de++){const oe=W[de],Ee=`${ne}[${de}]`;if(oe==null)throw new h(Ee,"AbortSignal",oe);v(oe,Ee)}}function N(W,ne="signal"){if(we(W,ne),X[W]===void 0)throw X[c(W)]!==void 0?new A(W+" (signals must use all capital letters)"):new A(W)}var k=T((W,ne="buffer")=>{if(!G(W))throw new h(ne,["Buffer","TypedArray","DataView"],W)});function $(W,ne){const de=B(ne),oe=W.length;if(de==="hex"&&oe%2!==0)throw new E("encoding",ne,`is invalid for data of length ${oe}`)}function ee(W,ne="Port",de=!0){if(typeof W!="number"&&typeof W!="string"||typeof W=="string"&&O(W).length===0||+W!==+W>>>0||W>65535||W===0&&!de)throw new x(ne,W,de);return W|0}var v=T((W,ne)=>{if(W!==void 0&&(W===null||typeof W!="object"||!("aborted"in W)))throw new h(ne,"AbortSignal",W)}),m=T((W,ne)=>{if(typeof W!="function")throw new h(ne,"Function",W)}),S=T((W,ne)=>{if(typeof W!="function"||j(W))throw new h(ne,"Function",W)}),M=T((W,ne)=>{if(W!==void 0)throw new h(ne,"undefined",W)});function Y(W,ne,de){if(!r(de,W))throw new h(ne,`('${a(de,"|")}')`,W)}var te=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function C(W,ne){if(typeof W>"u"||!_(te,W))throw new E(ne,W,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ce(W){if(typeof W=="string")return C(W,"hints"),W;if(t(W)){const ne=W.length;let de="";if(ne===0)return de;for(let oe=0;oe<ne;oe++){const Ee=W[oe];C(Ee,"hints"),de+=Ee,oe!==ne-1&&(de+=", ")}return de}throw new E("hints",W,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:J,isUint32:se,parseFileMode:Z,validateArray:V,validateStringArray:ue,validateBooleanArray:ye,validateAbortSignalArray:U,validateBoolean:he,validateBuffer:k,validateDictionary:z,validateEncoding:$,validateFunction:m,validateInt32:fe,validateInteger:H,validateNumber:_e,validateObject:D,validateOneOf:re,validatePlainFunction:S,validatePort:ee,validateSignalName:N,validateString:we,validateUint32:pe,validateUndefined:M,validateUnion:Y,validateAbortSignal:v,validateLinkHeaderValue:ce}}}),st=le({"node_modules/process/browser.js"(i,e){ae();var t=e.exports={},r,a;function l(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=l}catch{r=l}try{typeof clearTimeout=="function"?a=clearTimeout:a=f}catch{a=f}})();function n(x){if(r===setTimeout)return setTimeout(x,0);if((r===l||!r)&&setTimeout)return r=setTimeout,setTimeout(x,0);try{return r(x,0)}catch{try{return r.call(null,x,0)}catch{return r.call(this,x,0)}}}function d(x){if(a===clearTimeout)return clearTimeout(x);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(x);try{return a(x)}catch{try{return a.call(null,x)}catch{return a.call(this,x)}}}var u=[],p=!1,w,_=-1;function b(){!p||!w||(p=!1,w.length?u=w.concat(u):_=-1,u.length&&c())}function c(){if(!p){var x=n(b);p=!0;for(var h=u.length;h;){for(w=u,u=[];++_<h;)w&&w[_].run();_=-1,h=u.length}w=null,p=!1,d(x)}}t.nextTick=function(x){var h=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)h[E-1]=arguments[E];u.push(new O(x,h)),u.length===1&&!p&&n(c)};function O(x,h){this.fun=x,this.array=h}O.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function T(){}t.on=T,t.addListener=T,t.once=T,t.off=T,t.removeListener=T,t.removeAllListeners=T,t.emit=T,t.prependListener=T,t.prependOnceListener=T,t.listeners=function(x){return[]},t.binding=function(x){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(x){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}}),Xe=le({"node_modules/readable-stream/lib/internal/streams/utils.js"(i,e){ae();var{SymbolAsyncIterator:t,SymbolIterator:r,SymbolFor:a}=xe(),l=a("nodejs.stream.destroyed"),f=a("nodejs.stream.errored"),n=a("nodejs.stream.readable"),d=a("nodejs.stream.writable"),u=a("nodejs.stream.disturbed"),p=a("nodejs.webstream.isClosedPromise"),w=a("nodejs.webstream.controllerErrorFunction");function _(g,D=!1){var z;return!!(g&&typeof g.pipe=="function"&&typeof g.on=="function"&&(!D||typeof g.pause=="function"&&typeof g.resume=="function")&&(!g._writableState||((z=g._readableState)===null||z===void 0?void 0:z.readable)!==!1)&&(!g._writableState||g._readableState))}function b(g){var D;return!!(g&&typeof g.write=="function"&&typeof g.on=="function"&&(!g._readableState||((D=g._writableState)===null||D===void 0?void 0:D.writable)!==!1))}function c(g){return!!(g&&typeof g.pipe=="function"&&g._readableState&&typeof g.on=="function"&&typeof g.write=="function")}function O(g){return g&&(g._readableState||g._writableState||typeof g.write=="function"&&typeof g.on=="function"||typeof g.pipe=="function"&&typeof g.on=="function")}function T(g){return!!(g&&!O(g)&&typeof g.pipeThrough=="function"&&typeof g.getReader=="function"&&typeof g.cancel=="function")}function x(g){return!!(g&&!O(g)&&typeof g.getWriter=="function"&&typeof g.abort=="function")}function h(g){return!!(g&&!O(g)&&typeof g.readable=="object"&&typeof g.writable=="object")}function E(g){return T(g)||x(g)||h(g)}function P(g,D){return g==null?!1:D===!0?typeof g[t]=="function":D===!1?typeof g[r]=="function":typeof g[t]=="function"||typeof g[r]=="function"}function A(g){if(!O(g))return null;const D=g._writableState,z=g._readableState,V=D||z;return!!(g.destroyed||g[l]||V!=null&&V.destroyed)}function B(g){if(!b(g))return null;if(g.writableEnded===!0)return!0;const D=g._writableState;return D!=null&&D.errored?!1:typeof D?.ended!="boolean"?null:D.ended}function j(g,D){if(!b(g))return null;if(g.writableFinished===!0)return!0;const z=g._writableState;return z!=null&&z.errored?!1:typeof z?.finished!="boolean"?null:!!(z.finished||D===!1&&z.ended===!0&&z.length===0)}function G(g){if(!_(g))return null;if(g.readableEnded===!0)return!0;const D=g._readableState;return!D||D.errored?!1:typeof D?.ended!="boolean"?null:D.ended}function X(g,D){if(!_(g))return null;const z=g._readableState;return z!=null&&z.errored?!1:typeof z?.endEmitted!="boolean"?null:!!(z.endEmitted||D===!1&&z.ended===!0&&z.length===0)}function J(g){return g&&g[n]!=null?g[n]:typeof g?.readable!="boolean"?null:A(g)?!1:_(g)&&g.readable&&!X(g)}function se(g){return g&&g[d]!=null?g[d]:typeof g?.writable!="boolean"?null:A(g)?!1:b(g)&&g.writable&&!B(g)}function F(g,D){return O(g)?A(g)?!0:!(D?.readable!==!1&&J(g)||D?.writable!==!1&&se(g)):null}function K(g){var D,z;return O(g)?g.writableErrored?g.writableErrored:(D=(z=g._writableState)===null||z===void 0?void 0:z.errored)!==null&&D!==void 0?D:null:null}function Z(g){var D,z;return O(g)?g.readableErrored?g.readableErrored:(D=(z=g._readableState)===null||z===void 0?void 0:z.errored)!==null&&D!==void 0?D:null:null}function H(g){if(!O(g))return null;if(typeof g.closed=="boolean")return g.closed;const D=g._writableState,z=g._readableState;return typeof D?.closed=="boolean"||typeof z?.closed=="boolean"?D?.closed||z?.closed:typeof g._closed=="boolean"&&fe(g)?g._closed:null}function fe(g){return typeof g._closed=="boolean"&&typeof g._defaultKeepAlive=="boolean"&&typeof g._removedConnection=="boolean"&&typeof g._removedContLen=="boolean"}function pe(g){return typeof g._sent100=="boolean"&&fe(g)}function we(g){var D;return typeof g._consuming=="boolean"&&typeof g._dumped=="boolean"&&((D=g.req)===null||D===void 0?void 0:D.upgradeOrConnect)===void 0}function _e(g){if(!O(g))return null;const D=g._writableState,z=g._readableState,V=D||z;return!V&&pe(g)||!!(V&&V.autoDestroy&&V.emitClose&&V.closed===!1)}function re(g){var D;return!!(g&&((D=g[u])!==null&&D!==void 0?D:g.readableDidRead||g.readableAborted))}function he(g){var D,z,V,ue,ye,U,N,k,$,ee;return!!(g&&((D=(z=(V=(ue=(ye=(U=g[f])!==null&&U!==void 0?U:g.readableErrored)!==null&&ye!==void 0?ye:g.writableErrored)!==null&&ue!==void 0?ue:(N=g._readableState)===null||N===void 0?void 0:N.errorEmitted)!==null&&V!==void 0?V:(k=g._writableState)===null||k===void 0?void 0:k.errorEmitted)!==null&&z!==void 0?z:($=g._readableState)===null||$===void 0?void 0:$.errored)!==null&&D!==void 0?D:!((ee=g._writableState)===null||ee===void 0)&&ee.errored))}e.exports={isDestroyed:A,kIsDestroyed:l,isDisturbed:re,kIsDisturbed:u,isErrored:he,kIsErrored:f,isReadable:J,kIsReadable:n,kIsClosedPromise:p,kControllerErrorFunction:w,kIsWritable:d,isClosed:H,isDuplexNodeStream:c,isFinished:F,isIterable:P,isReadableNodeStream:_,isReadableStream:T,isReadableEnded:G,isReadableFinished:X,isReadableErrored:Z,isNodeStream:O,isWebStream:E,isWritable:se,isWritableNodeStream:b,isWritableStream:x,isWritableEnded:B,isWritableFinished:j,isWritableErrored:K,isServerRequest:we,isServerResponse:pe,willEmitClose:_e,isTransformStream:h}}}),et=le({"node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(i,e){ae();var t=st(),{AbortError:r,codes:a}=Ne(),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_PREMATURE_CLOSE:f}=a,{kEmptyObject:n,once:d}=je(),{validateAbortSignal:u,validateFunction:p,validateObject:w,validateBoolean:_}=Tt(),{Promise:b,PromisePrototypeThen:c,SymbolDispose:O}=xe(),{isClosed:T,isReadable:x,isReadableNodeStream:h,isReadableStream:E,isReadableFinished:P,isReadableErrored:A,isWritable:B,isWritableNodeStream:j,isWritableStream:G,isWritableFinished:X,isWritableErrored:J,isNodeStream:se,willEmitClose:F,kIsClosedPromise:K}=Xe(),Z;function H(re){return re.setHeader&&typeof re.abort=="function"}var fe=()=>{};function pe(re,he,g){var D,z;if(arguments.length===2?(g=he,he=n):he==null?he=n:w(he,"options"),p(g,"callback"),u(he.signal,"options.signal"),g=d(g),E(re)||G(re))return we(re,he,g);if(!se(re))throw new l("stream",["ReadableStream","WritableStream","Stream"],re);const V=(D=he.readable)!==null&&D!==void 0?D:h(re),ue=(z=he.writable)!==null&&z!==void 0?z:j(re),ye=re._writableState,U=re._readableState,N=()=>{re.writable||ee()};let k=F(re)&&h(re)===V&&j(re)===ue,$=X(re,!1);const ee=()=>{$=!0,re.destroyed&&(k=!1),!(k&&(!re.readable||V))&&(!V||v)&&g.call(re)};let v=P(re,!1);const m=()=>{v=!0,re.destroyed&&(k=!1),!(k&&(!re.writable||ue))&&(!ue||$)&&g.call(re)},S=W=>{g.call(re,W)};let M=T(re);const Y=()=>{M=!0;const W=J(re)||A(re);if(W&&typeof W!="boolean")return g.call(re,W);if(V&&!v&&h(re,!0)&&!P(re,!1))return g.call(re,new f);if(ue&&!$&&!X(re,!1))return g.call(re,new f);g.call(re)},te=()=>{M=!0;const W=J(re)||A(re);if(W&&typeof W!="boolean")return g.call(re,W);g.call(re)},C=()=>{re.req.on("finish",ee)};H(re)?(re.on("complete",ee),k||re.on("abort",Y),re.req?C():re.on("request",C)):ue&&!ye&&(re.on("end",N),re.on("close",N)),!k&&typeof re.aborted=="boolean"&&re.on("aborted",Y),re.on("end",m),re.on("finish",ee),he.error!==!1&&re.on("error",S),re.on("close",Y),M?t.nextTick(Y):ye!=null&&ye.errorEmitted||U!=null&&U.errorEmitted?k||t.nextTick(te):(!V&&(!k||x(re))&&($||B(re)===!1)||!ue&&(!k||B(re))&&(v||x(re)===!1)||U&&re.req&&re.aborted)&&t.nextTick(te);const ce=()=>{g=fe,re.removeListener("aborted",Y),re.removeListener("complete",ee),re.removeListener("abort",Y),re.removeListener("request",C),re.req&&re.req.removeListener("finish",ee),re.removeListener("end",N),re.removeListener("close",N),re.removeListener("finish",ee),re.removeListener("end",m),re.removeListener("error",S),re.removeListener("close",Y)};if(he.signal&&!M){const W=()=>{const ne=g;ce(),ne.call(re,new r(void 0,{cause:he.signal.reason}))};if(he.signal.aborted)t.nextTick(W);else{Z=Z||je().addAbortListener;const ne=Z(he.signal,W),de=g;g=d((...oe)=>{ne[O](),de.apply(re,oe)})}}return ce}function we(re,he,g){let D=!1,z=fe;if(he.signal)if(z=()=>{D=!0,g.call(re,new r(void 0,{cause:he.signal.reason}))},he.signal.aborted)t.nextTick(z);else{Z=Z||je().addAbortListener;const ue=Z(he.signal,z),ye=g;g=d((...U)=>{ue[O](),ye.apply(re,U)})}const V=(...ue)=>{D||t.nextTick(()=>g.apply(re,ue))};return c(re[K].promise,V,V),fe}function _e(re,he){var g;let D=!1;return he===null&&(he=n),(g=he)!==null&&g!==void 0&&g.cleanup&&(_(he.cleanup,"cleanup"),D=he.cleanup),new b((z,V)=>{const ue=pe(re,he,ye=>{D&&ue(),ye?V(ye):z()})})}e.exports=pe,e.exports.finished=_e}}),ht=le({"node_modules/readable-stream/lib/internal/streams/destroy.js"(i,e){ae();var t=st(),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:a},AbortError:l}=Ne(),{Symbol:f}=xe(),{kIsDestroyed:n,isDestroyed:d,isFinished:u,isServerRequest:p}=Xe(),w=f("kDestroy"),_=f("kConstruct");function b(F,K,Z){F&&(F.stack,K&&!K.errored&&(K.errored=F),Z&&!Z.errored&&(Z.errored=F))}function c(F,K){const Z=this._readableState,H=this._writableState,fe=H||Z;return H!=null&&H.destroyed||Z!=null&&Z.destroyed?(typeof K=="function"&&K(),this):(b(F,H,Z),H&&(H.destroyed=!0),Z&&(Z.destroyed=!0),fe.constructed?O(this,F,K):this.once(w,function(pe){O(this,r(pe,F),K)}),this)}function O(F,K,Z){let H=!1;function fe(pe){if(H)return;H=!0;const we=F._readableState,_e=F._writableState;b(pe,_e,we),_e&&(_e.closed=!0),we&&(we.closed=!0),typeof Z=="function"&&Z(pe),pe?t.nextTick(T,F,pe):t.nextTick(x,F)}try{F._destroy(K||null,fe)}catch(pe){fe(pe)}}function T(F,K){h(F,K),x(F)}function x(F){const K=F._readableState,Z=F._writableState;Z&&(Z.closeEmitted=!0),K&&(K.closeEmitted=!0),(Z!=null&&Z.emitClose||K!=null&&K.emitClose)&&F.emit("close")}function h(F,K){const Z=F._readableState,H=F._writableState;H!=null&&H.errorEmitted||Z!=null&&Z.errorEmitted||(H&&(H.errorEmitted=!0),Z&&(Z.errorEmitted=!0),F.emit("error",K))}function E(){const F=this._readableState,K=this._writableState;F&&(F.constructed=!0,F.closed=!1,F.closeEmitted=!1,F.destroyed=!1,F.errored=null,F.errorEmitted=!1,F.reading=!1,F.ended=F.readable===!1,F.endEmitted=F.readable===!1),K&&(K.constructed=!0,K.destroyed=!1,K.closed=!1,K.closeEmitted=!1,K.errored=null,K.errorEmitted=!1,K.finalCalled=!1,K.prefinished=!1,K.ended=K.writable===!1,K.ending=K.writable===!1,K.finished=K.writable===!1)}function P(F,K,Z){const H=F._readableState,fe=F._writableState;if(fe!=null&&fe.destroyed||H!=null&&H.destroyed)return this;H!=null&&H.autoDestroy||fe!=null&&fe.autoDestroy?F.destroy(K):K&&(K.stack,fe&&!fe.errored&&(fe.errored=K),H&&!H.errored&&(H.errored=K),Z?t.nextTick(h,F,K):h(F,K))}function A(F,K){if(typeof F._construct!="function")return;const Z=F._readableState,H=F._writableState;Z&&(Z.constructed=!1),H&&(H.constructed=!1),F.once(_,K),!(F.listenerCount(_)>1)&&t.nextTick(B,F)}function B(F){let K=!1;function Z(H){if(K){P(F,H??new a);return}K=!0;const fe=F._readableState,pe=F._writableState,we=pe||fe;fe&&(fe.constructed=!0),pe&&(pe.constructed=!0),we.destroyed?F.emit(w,H):H?P(F,H,!0):t.nextTick(j,F)}try{F._construct(H=>{t.nextTick(Z,H)})}catch(H){t.nextTick(Z,H)}}function j(F){F.emit(_)}function G(F){return F?.setHeader&&typeof F.abort=="function"}function X(F){F.emit("close")}function J(F,K){F.emit("error",K),t.nextTick(X,F)}function se(F,K){!F||d(F)||(!K&&!u(F)&&(K=new l),p(F)?(F.socket=null,F.destroy(K)):G(F)?F.abort():G(F.req)?F.req.abort():typeof F.destroy=="function"?F.destroy(K):typeof F.close=="function"?F.close():K?t.nextTick(J,F,K):t.nextTick(X,F),F.destroyed||(F[n]=!0))}e.exports={construct:A,destroyer:se,destroy:c,undestroy:E,errorOrDestroy:P}}}),or=le({"node_modules/readable-stream/lib/internal/streams/legacy.js"(i,e){ae();var{ArrayIsArray:t,ObjectSetPrototypeOf:r}=xe(),{EventEmitter:a}=Je();function l(n){a.call(this,n)}r(l.prototype,a.prototype),r(l,a),l.prototype.pipe=function(n,d){const u=this;function p(x){n.writable&&n.write(x)===!1&&u.pause&&u.pause()}u.on("data",p);function w(){u.readable&&u.resume&&u.resume()}n.on("drain",w),!n._isStdio&&(!d||d.end!==!1)&&(u.on("end",b),u.on("close",c));let _=!1;function b(){_||(_=!0,n.end())}function c(){_||(_=!0,typeof n.destroy=="function"&&n.destroy())}function O(x){T(),a.listenerCount(this,"error")===0&&this.emit("error",x)}f(u,"error",O),f(n,"error",O);function T(){u.removeListener("data",p),n.removeListener("drain",w),u.removeListener("end",b),u.removeListener("close",c),u.removeListener("error",O),n.removeListener("error",O),u.removeListener("end",T),u.removeListener("close",T),n.removeListener("close",T)}return u.on("end",T),u.on("close",T),n.on("close",T),n.emit("pipe",u),n};function f(n,d,u){if(typeof n.prependListener=="function")return n.prependListener(d,u);!n._events||!n._events[d]?n.on(d,u):t(n._events[d])?n._events[d].unshift(u):n._events[d]=[u,n._events[d]]}e.exports={Stream:l,prependListener:f}}}),Lt=le({"node_modules/readable-stream/lib/internal/streams/add-abort-signal.js"(i,e){ae();var{SymbolDispose:t}=xe(),{AbortError:r,codes:a}=Ne(),{isNodeStream:l,isWebStream:f,kControllerErrorFunction:n}=Xe(),d=et(),{ERR_INVALID_ARG_TYPE:u}=a,p,w=(_,b)=>{if(typeof _!="object"||!("aborted"in _))throw new u(b,"AbortSignal",_)};e.exports.addAbortSignal=function(b,c){if(w(b,"signal"),!l(c)&&!f(c))throw new u("stream",["ReadableStream","WritableStream","Stream"],c);return e.exports.addAbortSignalNoValidate(b,c)},e.exports.addAbortSignalNoValidate=function(_,b){if(typeof _!="object"||!("aborted"in _))return b;const c=l(b)?()=>{b.destroy(new r(void 0,{cause:_.reason}))}:()=>{b[n](new r(void 0,{cause:_.reason}))};if(_.aborted)c();else{p=p||je().addAbortListener;const O=p(_,c);d(b,O[t])}return b}}}),Gn=le({"node_modules/readable-stream/lib/internal/streams/buffer_list.js"(i,e){ae();var{StringPrototypeSlice:t,SymbolIterator:r,TypedArrayPrototypeSet:a,Uint8Array:l}=xe(),{Buffer:f}=Ue(),{inspect:n}=je();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(u){const p={data:u,next:null};this.length>0?this.tail.next=p:this.head=p,this.tail=p,++this.length}unshift(u){const p={data:u,next:this.head};this.length===0&&(this.tail=p),this.head=p,++this.length}shift(){if(this.length===0)return;const u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}clear(){this.head=this.tail=null,this.length=0}join(u){if(this.length===0)return"";let p=this.head,w=""+p.data;for(;(p=p.next)!==null;)w+=u+p.data;return w}concat(u){if(this.length===0)return f.alloc(0);const p=f.allocUnsafe(u>>>0);let w=this.head,_=0;for(;w;)a(p,w.data,_),_+=w.data.length,w=w.next;return p}consume(u,p){const w=this.head.data;if(u<w.length){const _=w.slice(0,u);return this.head.data=w.slice(u),_}return u===w.length?this.shift():p?this._getString(u):this._getBuffer(u)}first(){return this.head.data}*[r](){for(let u=this.head;u;u=u.next)yield u.data}_getString(u){let p="",w=this.head,_=0;do{const b=w.data;if(u>b.length)p+=b,u-=b.length;else{u===b.length?(p+=b,++_,w.next?this.head=w.next:this.head=this.tail=null):(p+=t(b,0,u),this.head=w,w.data=t(b,u));break}++_}while((w=w.next)!==null);return this.length-=_,p}_getBuffer(u){const p=f.allocUnsafe(u),w=u;let _=this.head,b=0;do{const c=_.data;if(u>c.length)a(p,c,w-u),u-=c.length;else{u===c.length?(a(p,c,w-u),++b,_.next?this.head=_.next:this.head=this.tail=null):(a(p,new l(c.buffer,c.byteOffset,u),w-u),this.head=_,_.data=c.slice(u));break}++b}while((_=_.next)!==null);return this.length-=b,p}[Symbol.for("nodejs.util.inspect.custom")](u,p){return n(this,{...p,depth:0,customInspect:!1})}}}}),kt=le({"node_modules/readable-stream/lib/internal/streams/state.js"(i,e){ae();var{MathFloor:t,NumberIsInteger:r}=xe(),{validateInteger:a}=Tt(),{ERR_INVALID_ARG_VALUE:l}=Ne().codes,f=16*1024,n=16;function d(_,b,c){return _.highWaterMark!=null?_.highWaterMark:b?_[c]:null}function u(_){return _?n:f}function p(_,b){a(b,"value",0),_?n=b:f=b}function w(_,b,c,O){const T=d(b,O,c);if(T!=null){if(!r(T)||T<0){const x=O?`options.${c}`:"options.highWaterMark";throw new l(x,T)}return t(T)}return u(_.objectMode)}e.exports={getHighWaterMark:w,getDefaultHighWaterMark:u,setDefaultHighWaterMark:p}}}),Vn=le({"node_modules/safe-buffer/index.js"(i,e){ae();var t=Ue(),r=t.Buffer;function a(f,n){for(var d in f)n[d]=f[d]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=t:(a(t,i),i.Buffer=l);function l(f,n,d){return r(f,n,d)}l.prototype=Object.create(r.prototype),a(r,l),l.from=function(f,n,d){if(typeof f=="number")throw new TypeError("Argument must not be a number");return r(f,n,d)},l.alloc=function(f,n,d){if(typeof f!="number")throw new TypeError("Argument must be a number");var u=r(f);return n!==void 0?typeof d=="string"?u.fill(n,d):u.fill(n):u.fill(0),u},l.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return r(f)},l.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(f)}}}),Jt=le({"node_modules/string_decoder/lib/string_decoder.js"(i){ae();var e=Vn().Buffer,t=e.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(h){if(!h)return"utf8";for(var E;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(E)return;h=(""+h).toLowerCase(),E=!0}}function a(h){var E=r(h);if(typeof E!="string"&&(e.isEncoding===t||!t(h)))throw new Error("Unknown encoding: "+h);return E||h}i.StringDecoder=l;function l(h){this.encoding=a(h);var E;switch(this.encoding){case"utf16le":this.text=_,this.end=b,E=4;break;case"utf8":this.fillLast=u,E=4;break;case"base64":this.text=c,this.end=O,E=3;break;default:this.write=T,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(E)}l.prototype.write=function(h){if(h.length===0)return"";var E,P;if(this.lastNeed){if(E=this.fillLast(h),E===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<h.length?E?E+this.text(h,P):this.text(h,P):E||""},l.prototype.end=w,l.prototype.text=p,l.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function f(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function n(h,E,P){var A=E.length-1;if(A<P)return 0;var B=f(E[A]);return B>=0?(B>0&&(h.lastNeed=B-1),B):--A<P||B===-2?0:(B=f(E[A]),B>=0?(B>0&&(h.lastNeed=B-2),B):--A<P||B===-2?0:(B=f(E[A]),B>=0?(B>0&&(B===2?B=0:h.lastNeed=B-3),B):0))}function d(h,E,P){if((E[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return h.lastNeed=2,""}}function u(h){var E=this.lastTotal-this.lastNeed,P=d(this,h);if(P!==void 0)return P;if(this.lastNeed<=h.length)return h.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,E,0,h.length),this.lastNeed-=h.length}function p(h,E){var P=n(this,h,E);if(!this.lastNeed)return h.toString("utf8",E);this.lastTotal=P;var A=h.length-(P-this.lastNeed);return h.copy(this.lastChar,0,A),h.toString("utf8",E,A)}function w(h){var E=h&&h.length?this.write(h):"";return this.lastNeed?E+"":E}function _(h,E){if((h.length-E)%2===0){var P=h.toString("utf16le",E);if(P){var A=P.charCodeAt(P.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",E,h.length-1)}function b(h){var E=h&&h.length?this.write(h):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,P)}return E}function c(h,E){var P=(h.length-E)%3;return P===0?h.toString("base64",E):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",E,h.length-P))}function O(h){var E=h&&h.length?this.write(h):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function T(h){return h.toString(this.encoding)}function x(h){return h&&h.length?this.write(h):""}}}),Fr=le({"node_modules/readable-stream/lib/internal/streams/from.js"(i,e){ae();var t=st(),{PromisePrototypeThen:r,SymbolAsyncIterator:a,SymbolIterator:l}=xe(),{Buffer:f}=Ue(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_NULL_VALUES:d}=Ne().codes;function u(p,w,_){let b;if(typeof w=="string"||w instanceof f)return new p({objectMode:!0,..._,read(){this.push(w),this.push(null)}});let c;if(w&&w[a])c=!0,b=w[a]();else if(w&&w[l])c=!1,b=w[l]();else throw new n("iterable",["Iterable"],w);const O=new p({objectMode:!0,highWaterMark:1,..._});let T=!1;O._read=function(){T||(T=!0,h())},O._destroy=function(E,P){r(x(E),()=>t.nextTick(P,E),A=>t.nextTick(P,A||E))};async function x(E){const P=E!=null,A=typeof b.throw=="function";if(P&&A){const{value:B,done:j}=await b.throw(E);if(await B,j)return}if(typeof b.return=="function"){const{value:B}=await b.return();await B}}async function h(){for(;;){try{const{value:E,done:P}=c?await b.next():b.next();if(P)O.push(null);else{const A=E&&typeof E.then=="function"?await E:E;if(A===null)throw T=!1,new d;if(O.push(A))continue;T=!1}}catch(E){O.destroy(E)}break}}return O}e.exports=u}}),jt=le({"node_modules/readable-stream/lib/internal/streams/readable.js"(i,e){ae();var t=st(),{ArrayPrototypeIndexOf:r,NumberIsInteger:a,NumberIsNaN:l,NumberParseInt:f,ObjectDefineProperties:n,ObjectKeys:d,ObjectSetPrototypeOf:u,Promise:p,SafeSet:w,SymbolAsyncDispose:_,SymbolAsyncIterator:b,Symbol:c}=xe();e.exports=oe,oe.ReadableState=de;var{EventEmitter:O}=Je(),{Stream:T,prependListener:x}=or(),{Buffer:h}=Ue(),{addAbortSignal:E}=Lt(),P=et(),A=je().debuglog("stream",I=>{A=I}),B=Gn(),j=ht(),{getHighWaterMark:G,getDefaultHighWaterMark:X}=kt(),{aggregateTwoErrors:J,codes:{ERR_INVALID_ARG_TYPE:se,ERR_METHOD_NOT_IMPLEMENTED:F,ERR_OUT_OF_RANGE:K,ERR_STREAM_PUSH_AFTER_EOF:Z,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:H},AbortError:fe}=Ne(),{validateObject:pe}=Tt(),we=c("kPaused"),{StringDecoder:_e}=Jt(),re=Fr();u(oe.prototype,T.prototype),u(oe,T);var he=()=>{},{errorOrDestroy:g}=j,D=1,z=2,V=4,ue=8,ye=16,U=32,N=64,k=128,$=256,ee=512,v=1024,m=2048,S=4096,M=8192,Y=16384,te=32768,C=65536,ce=1<<17,W=1<<18;function ne(I){return{enumerable:!1,get(){return(this.state&I)!==0},set(L){L?this.state|=I:this.state&=~I}}}n(de.prototype,{objectMode:ne(D),ended:ne(z),endEmitted:ne(V),reading:ne(ue),constructed:ne(ye),sync:ne(U),needReadable:ne(N),emittedReadable:ne(k),readableListening:ne($),resumeScheduled:ne(ee),errorEmitted:ne(v),emitClose:ne(m),autoDestroy:ne(S),destroyed:ne(M),closed:ne(Y),closeEmitted:ne(te),multiAwaitDrain:ne(C),readingMore:ne(ce),dataEmitted:ne(W)});function de(I,L,be){typeof be!="boolean"&&(be=L instanceof Ye()),this.state=m|S|ye|U,I&&I.objectMode&&(this.state|=D),be&&I&&I.readableObjectMode&&(this.state|=D),this.highWaterMark=I?G(this,I,"readableHighWaterMark",be):X(!1),this.buffer=new B,this.length=0,this.pipes=[],this.flowing=null,this[we]=null,I&&I.emitClose===!1&&(this.state&=~m),I&&I.autoDestroy===!1&&(this.state&=~S),this.errored=null,this.defaultEncoding=I&&I.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,I&&I.encoding&&(this.decoder=new _e(I.encoding),this.encoding=I.encoding)}function oe(I){if(!(this instanceof oe))return new oe(I);const L=this instanceof Ye();this._readableState=new de(I,this,L),I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy),typeof I.construct=="function"&&(this._construct=I.construct),I.signal&&!L&&E(I.signal,this)),T.call(this,I),j.construct(this,()=>{this._readableState.needReadable&&ie(this,this._readableState)})}oe.prototype.destroy=j.destroy,oe.prototype._undestroy=j.undestroy,oe.prototype._destroy=function(I,L){L(I)},oe.prototype[O.captureRejectionSymbol]=function(I){this.destroy(I)},oe.prototype[_]=function(){let I;return this.destroyed||(I=this.readableEnded?null:new fe,this.destroy(I)),new p((L,be)=>P(this,ge=>ge&&ge!==I?be(ge):L(null)))},oe.prototype.push=function(I,L){return Ee(this,I,L,!1)},oe.prototype.unshift=function(I,L){return Ee(this,I,L,!0)};function Ee(I,L,be,ge){A("readableAddChunk",L);const me=I._readableState;let Me;if((me.state&D)===0&&(typeof L=="string"?(be=be||me.defaultEncoding,me.encoding!==be&&(ge&&me.encoding?L=h.from(L,be).toString(me.encoding):(L=h.from(L,be),be=""))):L instanceof h?be="":T._isUint8Array(L)?(L=T._uint8ArrayToBuffer(L),be=""):L!=null&&(Me=new se("chunk",["string","Buffer","Uint8Array"],L))),Me)g(I,Me);else if(L===null)me.state&=~ue,R(I,me);else if((me.state&D)!==0||L&&L.length>0)if(ge)if((me.state&V)!==0)g(I,new H);else{if(me.destroyed||me.errored)return!1;Te(I,me,L,!0)}else if(me.ended)g(I,new Z);else{if(me.destroyed||me.errored)return!1;me.state&=~ue,me.decoder&&!be?(L=me.decoder.write(L),me.objectMode||L.length!==0?Te(I,me,L,!1):ie(I,me)):Te(I,me,L,!1)}else ge||(me.state&=~ue,ie(I,me));return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function Te(I,L,be,ge){L.flowing&&L.length===0&&!L.sync&&I.listenerCount("data")>0?((L.state&C)!==0?L.awaitDrainWriters.clear():L.awaitDrainWriters=null,L.dataEmitted=!0,I.emit("data",be)):(L.length+=L.objectMode?1:be.length,ge?L.buffer.unshift(be):L.buffer.push(be),(L.state&N)!==0&&q(I)),ie(I,L)}oe.prototype.isPaused=function(){const I=this._readableState;return I[we]===!0||I.flowing===!1},oe.prototype.setEncoding=function(I){const L=new _e(I);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;const be=this._readableState.buffer;let ge="";for(const me of be)ge+=L.write(me);return be.clear(),ge!==""&&be.push(ge),this._readableState.length=ge.length,this};var y=1073741824;function o(I){if(I>y)throw new K("size","<= 1GiB",I);return I--,I|=I>>>1,I|=I>>>2,I|=I>>>4,I|=I>>>8,I|=I>>>16,I++,I}function s(I,L){return I<=0||L.length===0&&L.ended?0:(L.state&D)!==0?1:l(I)?L.flowing&&L.length?L.buffer.first().length:L.length:I<=L.length?I:L.ended?L.length:0}oe.prototype.read=function(I){A("read",I),I===void 0?I=NaN:a(I)||(I=f(I,10));const L=this._readableState,be=I;if(I>L.highWaterMark&&(L.highWaterMark=o(I)),I!==0&&(L.state&=~k),I===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return A("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?Ut(this):q(this),null;if(I=s(I,L),I===0&&L.ended)return L.length===0&&Ut(this),null;let ge=(L.state&N)!==0;if(A("need readable",ge),(L.length===0||L.length-I<L.highWaterMark)&&(ge=!0,A("length less than watermark",ge)),L.ended||L.reading||L.destroyed||L.errored||!L.constructed)ge=!1,A("reading, ended or constructing",ge);else if(ge){A("do read"),L.state|=ue|U,L.length===0&&(L.state|=N);try{this._read(L.highWaterMark)}catch(Me){g(this,Me)}L.state&=~U,L.reading||(I=s(be,L))}let me;return I>0?me=br(I,L):me=null,me===null?(L.needReadable=L.length<=L.highWaterMark,I=0):(L.length-=I,L.multiAwaitDrain?L.awaitDrainWriters.clear():L.awaitDrainWriters=null),L.length===0&&(L.ended||(L.needReadable=!0),be!==I&&L.ended&&Ut(this)),me!==null&&!L.errorEmitted&&!L.closeEmitted&&(L.dataEmitted=!0,this.emit("data",me)),me};function R(I,L){if(A("onEofChunk"),!L.ended){if(L.decoder){const be=L.decoder.end();be&&be.length&&(L.buffer.push(be),L.length+=L.objectMode?1:be.length)}L.ended=!0,L.sync?q(I):(L.needReadable=!1,L.emittedReadable=!0,Q(I))}}function q(I){const L=I._readableState;A("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(A("emitReadable",L.flowing),L.emittedReadable=!0,t.nextTick(Q,I))}function Q(I){const L=I._readableState;A("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&!L.errored&&(L.length||L.ended)&&(I.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,pr(I)}function ie(I,L){!L.readingMore&&L.constructed&&(L.readingMore=!0,t.nextTick(Ae,I,L))}function Ae(I,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){const be=L.length;if(A("maybeReadMore read 0"),I.read(0),be===L.length)break}L.readingMore=!1}oe.prototype._read=function(I){throw new F("_read()")},oe.prototype.pipe=function(I,L){const be=this,ge=this._readableState;ge.pipes.length===1&&(ge.multiAwaitDrain||(ge.multiAwaitDrain=!0,ge.awaitDrainWriters=new w(ge.awaitDrainWriters?[ge.awaitDrainWriters]:[]))),ge.pipes.push(I),A("pipe count=%d opts=%j",ge.pipes.length,L);const Me=(!L||L.end!==!1)&&I!==t.stdout&&I!==t.stderr?wr:gt;ge.endEmitted?t.nextTick(Me):be.once("end",Me),I.on("unpipe",De);function De(nt,Ve){A("onunpipe"),nt===be&&Ve&&Ve.hasUnpiped===!1&&(Ve.hasUnpiped=!0,Ln())}function wr(){A("onend"),I.end()}let rt,_r=!1;function Ln(){A("cleanup"),I.removeListener("close",qt),I.removeListener("finish",$t),rt&&I.removeListener("drain",rt),I.removeListener("error",Wt),I.removeListener("unpipe",De),be.removeListener("end",wr),be.removeListener("end",gt),be.removeListener("data",vr),_r=!0,rt&&ge.awaitDrainWriters&&(!I._writableState||I._writableState.needDrain)&&rt()}function mr(){_r||(ge.pipes.length===1&&ge.pipes[0]===I?(A("false write response, pause",0),ge.awaitDrainWriters=I,ge.multiAwaitDrain=!1):ge.pipes.length>1&&ge.pipes.includes(I)&&(A("false write response, pause",ge.awaitDrainWriters.size),ge.awaitDrainWriters.add(I)),be.pause()),rt||(rt=Be(be,I),I.on("drain",rt))}be.on("data",vr);function vr(nt){A("ondata");const Ve=I.write(nt);A("dest.write",Ve),Ve===!1&&mr()}function Wt(nt){if(A("onerror",nt),gt(),I.removeListener("error",Wt),I.listenerCount("error")===0){const Ve=I._writableState||I._readableState;Ve&&!Ve.errorEmitted?g(I,nt):I.emit("error",nt)}}x(I,"error",Wt);function qt(){I.removeListener("finish",$t),gt()}I.once("close",qt);function $t(){A("onfinish"),I.removeListener("close",qt),gt()}I.once("finish",$t);function gt(){A("unpipe"),be.unpipe(I)}return I.emit("pipe",be),I.writableNeedDrain===!0?mr():ge.flowing||(A("pipe resume"),be.resume()),I};function Be(I,L){return function(){const ge=I._readableState;ge.awaitDrainWriters===L?(A("pipeOnDrain",1),ge.awaitDrainWriters=null):ge.multiAwaitDrain&&(A("pipeOnDrain",ge.awaitDrainWriters.size),ge.awaitDrainWriters.delete(L)),(!ge.awaitDrainWriters||ge.awaitDrainWriters.size===0)&&I.listenerCount("data")&&I.resume()}}oe.prototype.unpipe=function(I){const L=this._readableState,be={hasUnpiped:!1};if(L.pipes.length===0)return this;if(!I){const me=L.pipes;L.pipes=[],this.pause();for(let Me=0;Me<me.length;Me++)me[Me].emit("unpipe",this,{hasUnpiped:!1});return this}const ge=r(L.pipes,I);return ge===-1?this:(L.pipes.splice(ge,1),L.pipes.length===0&&this.pause(),I.emit("unpipe",this,be),this)},oe.prototype.on=function(I,L){const be=T.prototype.on.call(this,I,L),ge=this._readableState;return I==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):I==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,A("on readable",ge.length,ge.reading),ge.length?q(this):ge.reading||t.nextTick(Oe,this)),be},oe.prototype.addListener=oe.prototype.on,oe.prototype.removeListener=function(I,L){const be=T.prototype.removeListener.call(this,I,L);return I==="readable"&&t.nextTick(Ie,this),be},oe.prototype.off=oe.prototype.removeListener,oe.prototype.removeAllListeners=function(I){const L=T.prototype.removeAllListeners.apply(this,arguments);return(I==="readable"||I===void 0)&&t.nextTick(Ie,this),L};function Ie(I){const L=I._readableState;L.readableListening=I.listenerCount("readable")>0,L.resumeScheduled&&L[we]===!1?L.flowing=!0:I.listenerCount("data")>0?I.resume():L.readableListening||(L.flowing=null)}function Oe(I){A("readable nexttick read 0"),I.read(0)}oe.prototype.resume=function(){const I=this._readableState;return I.flowing||(A("resume"),I.flowing=!I.readableListening,Re(this,I)),I[we]=!1,this};function Re(I,L){L.resumeScheduled||(L.resumeScheduled=!0,t.nextTick(On,I,L))}function On(I,L){A("resume",L.reading),L.reading||I.read(0),L.resumeScheduled=!1,I.emit("resume"),pr(I),L.flowing&&!L.reading&&I.read(0)}oe.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[we]=!0,this};function pr(I){const L=I._readableState;for(A("flow",L.flowing);L.flowing&&I.read()!==null;);}oe.prototype.wrap=function(I){let L=!1;I.on("data",ge=>{!this.push(ge)&&I.pause&&(L=!0,I.pause())}),I.on("end",()=>{this.push(null)}),I.on("error",ge=>{g(this,ge)}),I.on("close",()=>{this.destroy()}),I.on("destroy",()=>{this.destroy()}),this._read=()=>{L&&I.resume&&(L=!1,I.resume())};const be=d(I);for(let ge=1;ge<be.length;ge++){const me=be[ge];this[me]===void 0&&typeof I[me]=="function"&&(this[me]=I[me].bind(I))}return this},oe.prototype[b]=function(){return yr(this)},oe.prototype.iterator=function(I){return I!==void 0&&pe(I,"options"),yr(this,I)};function yr(I,L){typeof I.read!="function"&&(I=oe.wrap(I,{objectMode:!0}));const be=xn(I,L);return be.stream=I,be}async function*xn(I,L){let be=he;function ge(De){this===I?(be(),be=he):be=De}I.on("readable",ge);let me;const Me=P(I,{writable:!1},De=>{me=De?J(me,De):null,be(),be=he});try{for(;;){const De=I.destroyed?null:I.read();if(De!==null)yield De;else{if(me)throw me;if(me===null)return;await new p(ge)}}}catch(De){throw me=J(me,De),me}finally{(me||L?.destroyOnReturn!==!1)&&(me===void 0||I._readableState.autoDestroy)?j.destroyer(I,null):(I.off("readable",ge),Me())}}n(oe.prototype,{readable:{__proto__:null,get(){const I=this._readableState;return!!I&&I.readable!==!1&&!I.destroyed&&!I.errorEmitted&&!I.endEmitted},set(I){this._readableState&&(this._readableState.readable=!!I)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(I){this._readableState&&(this._readableState.flowing=I)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(I){this._readableState&&(this._readableState.destroyed=I)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),n(de.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[we]!==!1},set(I){this[we]=!!I}}}),oe._fromList=br;function br(I,L){if(L.length===0)return null;let be;return L.objectMode?be=L.buffer.shift():!I||I>=L.length?(L.decoder?be=L.buffer.join(""):L.buffer.length===1?be=L.buffer.first():be=L.buffer.concat(L.length),L.buffer.clear()):be=L.buffer.consume(I,L.decoder),be}function Ut(I){const L=I._readableState;A("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,t.nextTick(Pn,L,I))}function Pn(I,L){if(A("endReadableNT",I.endEmitted,I.length),!I.errored&&!I.closeEmitted&&!I.endEmitted&&I.length===0){if(I.endEmitted=!0,L.emit("end"),L.writable&&L.allowHalfOpen===!1)t.nextTick(Mn,L);else if(I.autoDestroy){const be=L._writableState;(!be||be.autoDestroy&&(be.finished||be.writable===!1))&&L.destroy()}}}function Mn(I){I.writable&&!I.writableEnded&&!I.destroyed&&I.end()}oe.from=function(I,L){return re(oe,I,L)};var Ft;function gr(){return Ft===void 0&&(Ft={}),Ft}oe.fromWeb=function(I,L){return gr().newStreamReadableFromReadableStream(I,L)},oe.toWeb=function(I,L){return gr().newReadableStreamFromStreamReadable(I,L)},oe.wrap=function(I,L){var be,ge;return new oe({objectMode:(be=(ge=I.readableObjectMode)!==null&&ge!==void 0?ge:I.objectMode)!==null&&be!==void 0?be:!0,...L,destroy(me,Me){j.destroyer(I,me),Me(me)}}).wrap(I)}}}),ar=le({"node_modules/readable-stream/lib/internal/streams/writable.js"(i,e){ae();var t=st(),{ArrayPrototypeSlice:r,Error:a,FunctionPrototypeSymbolHasInstance:l,ObjectDefineProperty:f,ObjectDefineProperties:n,ObjectSetPrototypeOf:d,StringPrototypeToLowerCase:u,Symbol:p,SymbolHasInstance:w}=xe();e.exports=pe,pe.WritableState=H;var{EventEmitter:_}=Je(),b=or().Stream,{Buffer:c}=Ue(),O=ht(),{addAbortSignal:T}=Lt(),{getHighWaterMark:x,getDefaultHighWaterMark:h}=kt(),{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:P,ERR_MULTIPLE_CALLBACK:A,ERR_STREAM_CANNOT_PIPE:B,ERR_STREAM_DESTROYED:j,ERR_STREAM_ALREADY_FINISHED:G,ERR_STREAM_NULL_VALUES:X,ERR_STREAM_WRITE_AFTER_END:J,ERR_UNKNOWN_ENCODING:se}=Ne().codes,{errorOrDestroy:F}=O;d(pe.prototype,b.prototype),d(pe,b);function K(){}var Z=p("kOnFinished");function H(S,M,Y){typeof Y!="boolean"&&(Y=M instanceof Ye()),this.objectMode=!!(S&&S.objectMode),Y&&(this.objectMode=this.objectMode||!!(S&&S.writableObjectMode)),this.highWaterMark=S?x(this,S,"writableHighWaterMark",Y):h(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const te=!!(S&&S.decodeStrings===!1);this.decodeStrings=!te,this.defaultEncoding=S&&S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=g.bind(void 0,M),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,fe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!S||S.emitClose!==!1,this.autoDestroy=!S||S.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Z]=[]}function fe(S){S.buffered=[],S.bufferedIndex=0,S.allBuffers=!0,S.allNoop=!0}H.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},f(H.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function pe(S){const M=this instanceof Ye();if(!M&&!l(pe,this))return new pe(S);this._writableState=new H(S,this,M),S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final),typeof S.construct=="function"&&(this._construct=S.construct),S.signal&&T(S.signal,this)),b.call(this,S),O.construct(this,()=>{const Y=this._writableState;Y.writing||ue(this,Y),k(this,Y)})}f(pe,w,{__proto__:null,value:function(S){return l(this,S)?!0:this!==pe?!1:S&&S._writableState instanceof H}}),pe.prototype.pipe=function(){F(this,new B)};function we(S,M,Y,te){const C=S._writableState;if(typeof Y=="function")te=Y,Y=C.defaultEncoding;else{if(!Y)Y=C.defaultEncoding;else if(Y!=="buffer"&&!c.isEncoding(Y))throw new se(Y);typeof te!="function"&&(te=K)}if(M===null)throw new X;if(!C.objectMode)if(typeof M=="string")C.decodeStrings!==!1&&(M=c.from(M,Y),Y="buffer");else if(M instanceof c)Y="buffer";else if(b._isUint8Array(M))M=b._uint8ArrayToBuffer(M),Y="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],M);let ce;return C.ending?ce=new J:C.destroyed&&(ce=new j("write")),ce?(t.nextTick(te,ce),F(S,ce,!0),ce):(C.pendingcb++,_e(S,C,M,Y,te))}pe.prototype.write=function(S,M,Y){return we(this,S,M,Y)===!0},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){const S=this._writableState;S.corked&&(S.corked--,S.writing||ue(this,S))},pe.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=u(M)),!c.isEncoding(M))throw new se(M);return this._writableState.defaultEncoding=M,this};function _e(S,M,Y,te,C){const ce=M.objectMode?1:Y.length;M.length+=ce;const W=M.length<M.highWaterMark;return W||(M.needDrain=!0),M.writing||M.corked||M.errored||!M.constructed?(M.buffered.push({chunk:Y,encoding:te,callback:C}),M.allBuffers&&te!=="buffer"&&(M.allBuffers=!1),M.allNoop&&C!==K&&(M.allNoop=!1)):(M.writelen=ce,M.writecb=C,M.writing=!0,M.sync=!0,S._write(Y,te,M.onwrite),M.sync=!1),W&&!M.errored&&!M.destroyed}function re(S,M,Y,te,C,ce,W){M.writelen=te,M.writecb=W,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new j("write")):Y?S._writev(C,M.onwrite):S._write(C,ce,M.onwrite),M.sync=!1}function he(S,M,Y,te){--M.pendingcb,te(Y),V(M),F(S,Y)}function g(S,M){const Y=S._writableState,te=Y.sync,C=Y.writecb;if(typeof C!="function"){F(S,new A);return}Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0,M?(M.stack,Y.errored||(Y.errored=M),S._readableState&&!S._readableState.errored&&(S._readableState.errored=M),te?t.nextTick(he,S,Y,M,C):he(S,Y,M,C)):(Y.buffered.length>Y.bufferedIndex&&ue(S,Y),te?Y.afterWriteTickInfo!==null&&Y.afterWriteTickInfo.cb===C?Y.afterWriteTickInfo.count++:(Y.afterWriteTickInfo={count:1,cb:C,stream:S,state:Y},t.nextTick(D,Y.afterWriteTickInfo)):z(S,Y,1,C))}function D({stream:S,state:M,count:Y,cb:te}){return M.afterWriteTickInfo=null,z(S,M,Y,te)}function z(S,M,Y,te){for(!M.ending&&!S.destroyed&&M.length===0&&M.needDrain&&(M.needDrain=!1,S.emit("drain"));Y-- >0;)M.pendingcb--,te();M.destroyed&&V(M),k(S,M)}function V(S){if(S.writing)return;for(let C=S.bufferedIndex;C<S.buffered.length;++C){var M;const{chunk:ce,callback:W}=S.buffered[C],ne=S.objectMode?1:ce.length;S.length-=ne,W((M=S.errored)!==null&&M!==void 0?M:new j("write"))}const Y=S[Z].splice(0);for(let C=0;C<Y.length;C++){var te;Y[C]((te=S.errored)!==null&&te!==void 0?te:new j("end"))}fe(S)}function ue(S,M){if(M.corked||M.bufferProcessing||M.destroyed||!M.constructed)return;const{buffered:Y,bufferedIndex:te,objectMode:C}=M,ce=Y.length-te;if(!ce)return;let W=te;if(M.bufferProcessing=!0,ce>1&&S._writev){M.pendingcb-=ce-1;const ne=M.allNoop?K:oe=>{for(let Ee=W;Ee<Y.length;++Ee)Y[Ee].callback(oe)},de=M.allNoop&&W===0?Y:r(Y,W);de.allBuffers=M.allBuffers,re(S,M,!0,M.length,de,"",ne),fe(M)}else{do{const{chunk:ne,encoding:de,callback:oe}=Y[W];Y[W++]=null;const Ee=C?1:ne.length;re(S,M,!1,Ee,ne,de,oe)}while(W<Y.length&&!M.writing);W===Y.length?fe(M):W>256?(Y.splice(0,W),M.bufferedIndex=0):M.bufferedIndex=W}M.bufferProcessing=!1}pe.prototype._write=function(S,M,Y){if(this._writev)this._writev([{chunk:S,encoding:M}],Y);else throw new P("_write()")},pe.prototype._writev=null,pe.prototype.end=function(S,M,Y){const te=this._writableState;typeof S=="function"?(Y=S,S=null,M=null):typeof M=="function"&&(Y=M,M=null);let C;if(S!=null){const ce=we(this,S,M);ce instanceof a&&(C=ce)}return te.corked&&(te.corked=1,this.uncork()),C||(!te.errored&&!te.ending?(te.ending=!0,k(this,te,!0),te.ended=!0):te.finished?C=new G("end"):te.destroyed&&(C=new j("end"))),typeof Y=="function"&&(C||te.finished?t.nextTick(Y,C):te[Z].push(Y)),this};function ye(S){return S.ending&&!S.destroyed&&S.constructed&&S.length===0&&!S.errored&&S.buffered.length===0&&!S.finished&&!S.writing&&!S.errorEmitted&&!S.closeEmitted}function U(S,M){let Y=!1;function te(C){if(Y){F(S,C??A());return}if(Y=!0,M.pendingcb--,C){const ce=M[Z].splice(0);for(let W=0;W<ce.length;W++)ce[W](C);F(S,C,M.sync)}else ye(M)&&(M.prefinished=!0,S.emit("prefinish"),M.pendingcb++,t.nextTick($,S,M))}M.sync=!0,M.pendingcb++;try{S._final(te)}catch(C){te(C)}M.sync=!1}function N(S,M){!M.prefinished&&!M.finalCalled&&(typeof S._final=="function"&&!M.destroyed?(M.finalCalled=!0,U(S,M)):(M.prefinished=!0,S.emit("prefinish")))}function k(S,M,Y){ye(M)&&(N(S,M),M.pendingcb===0&&(Y?(M.pendingcb++,t.nextTick((te,C)=>{ye(C)?$(te,C):C.pendingcb--},S,M)):ye(M)&&(M.pendingcb++,$(S,M))))}function $(S,M){M.pendingcb--,M.finished=!0;const Y=M[Z].splice(0);for(let te=0;te<Y.length;te++)Y[te]();if(S.emit("finish"),M.autoDestroy){const te=S._readableState;(!te||te.autoDestroy&&(te.endEmitted||te.readable===!1))&&S.destroy()}}n(pe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(S){this._writableState&&(this._writableState.destroyed=S)}},writable:{__proto__:null,get(){const S=this._writableState;return!!S&&S.writable!==!1&&!S.destroyed&&!S.errored&&!S.ending&&!S.ended},set(S){this._writableState&&(this._writableState.writable=!!S)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const S=this._writableState;return S?!S.destroyed&&!S.ending&&S.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var ee=O.destroy;pe.prototype.destroy=function(S,M){const Y=this._writableState;return!Y.destroyed&&(Y.bufferedIndex<Y.buffered.length||Y[Z].length)&&t.nextTick(V,Y),ee.call(this,S,M),this},pe.prototype._undestroy=O.undestroy,pe.prototype._destroy=function(S,M){M(S)},pe.prototype[_.captureRejectionSymbol]=function(S){this.destroy(S)};var v;function m(){return v===void 0&&(v={}),v}pe.fromWeb=function(S,M){return m().newStreamWritableFromWritableStream(S,M)},pe.toWeb=function(S){return m().newWritableStreamFromStreamWritable(S)}}}),Hn=le({"node_modules/readable-stream/lib/internal/streams/duplexify.js"(i,e){ae();var t=st(),r=Ue(),{isReadable:a,isWritable:l,isIterable:f,isNodeStream:n,isReadableNodeStream:d,isWritableNodeStream:u,isDuplexNodeStream:p,isReadableStream:w,isWritableStream:_}=Xe(),b=et(),{AbortError:c,codes:{ERR_INVALID_ARG_TYPE:O,ERR_INVALID_RETURN_VALUE:T}}=Ne(),{destroyer:x}=ht(),h=Ye(),E=jt(),P=ar(),{createDeferredPromise:A}=je(),B=Fr(),j=globalThis.Blob||r.Blob,G=typeof j<"u"?function(H){return H instanceof j}:function(H){return!1},X=globalThis.AbortController||At().AbortController,{FunctionPrototypeCall:J}=xe(),se=class extends h{constructor(Z){super(Z),Z?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Z?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function Z(H,fe){if(p(H))return H;if(d(H))return K({readable:H});if(u(H))return K({writable:H});if(n(H))return K({writable:!1,readable:!1});if(w(H))return K({readable:E.fromWeb(H)});if(_(H))return K({writable:P.fromWeb(H)});if(typeof H=="function"){const{value:we,write:_e,final:re,destroy:he}=F(H);if(f(we))return B(se,we,{objectMode:!0,write:_e,final:re,destroy:he});const g=we?.then;if(typeof g=="function"){let D;const z=J(g,we,V=>{if(V!=null)throw new T("nully","body",V)},V=>{x(D,V)});return D=new se({objectMode:!0,readable:!1,write:_e,final(V){re(async()=>{try{await z,t.nextTick(V,null)}catch(ue){t.nextTick(V,ue)}})},destroy:he})}throw new T("Iterable, AsyncIterable or AsyncFunction",fe,we)}if(G(H))return Z(H.arrayBuffer());if(f(H))return B(se,H,{objectMode:!0,writable:!1});if(w(H?.readable)&&_(H?.writable))return se.fromWeb(H);if(typeof H?.writable=="object"||typeof H?.readable=="object"){const we=H!=null&&H.readable?d(H?.readable)?H?.readable:Z(H.readable):void 0,_e=H!=null&&H.writable?u(H?.writable)?H?.writable:Z(H.writable):void 0;return K({readable:we,writable:_e})}const pe=H?.then;if(typeof pe=="function"){let we;return J(pe,H,_e=>{_e!=null&&we.push(_e),we.push(null)},_e=>{x(we,_e)}),we=new se({objectMode:!0,writable:!1,read(){}})}throw new O(fe,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],H)};function F(Z){let{promise:H,resolve:fe}=A();const pe=new X,we=pe.signal;return{value:Z((async function*(){for(;;){const re=H;H=null;const{chunk:he,done:g,cb:D}=await re;if(t.nextTick(D),g)return;if(we.aborted)throw new c(void 0,{cause:we.reason});({promise:H,resolve:fe}=A()),yield he}})(),{signal:we}),write(re,he,g){const D=fe;fe=null,D({chunk:re,done:!1,cb:g})},final(re){const he=fe;fe=null,he({done:!0,cb:re})},destroy(re,he){pe.abort(),he(re)}}}function K(Z){const H=Z.readable&&typeof Z.readable.read!="function"?E.wrap(Z.readable):Z.readable,fe=Z.writable;let pe=!!a(H),we=!!l(fe),_e,re,he,g,D;function z(V){const ue=g;g=null,ue?ue(V):V&&D.destroy(V)}return D=new se({readableObjectMode:!!(H!=null&&H.readableObjectMode),writableObjectMode:!!(fe!=null&&fe.writableObjectMode),readable:pe,writable:we}),we&&(b(fe,V=>{we=!1,V&&x(H,V),z(V)}),D._write=function(V,ue,ye){fe.write(V,ue)?ye():_e=ye},D._final=function(V){fe.end(),re=V},fe.on("drain",function(){if(_e){const V=_e;_e=null,V()}}),fe.on("finish",function(){if(re){const V=re;re=null,V()}})),pe&&(b(H,V=>{pe=!1,V&&x(H,V),z(V)}),H.on("readable",function(){if(he){const V=he;he=null,V()}}),H.on("end",function(){D.push(null)}),D._read=function(){for(;;){const V=H.read();if(V===null){he=D._read;return}if(!D.push(V))return}}),D._destroy=function(V,ue){!V&&g!==null&&(V=new c),he=null,_e=null,re=null,g===null?ue(V):(g=ue,x(fe,V),x(H,V))},D}}}),Ye=le({"node_modules/readable-stream/lib/internal/streams/duplex.js"(i,e){ae();var{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:a,ObjectSetPrototypeOf:l}=xe();e.exports=d;var f=jt(),n=ar();l(d.prototype,f.prototype),l(d,f);{const _=a(n.prototype);for(let b=0;b<_.length;b++){const c=_[b];d.prototype[c]||(d.prototype[c]=n.prototype[c])}}function d(_){if(!(this instanceof d))return new d(_);f.call(this,_),n.call(this,_),_?(this.allowHalfOpen=_.allowHalfOpen!==!1,_.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),_.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(d.prototype,{writable:{__proto__:null,...r(n.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(n.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(n.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(n.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(n.prototype,"writableLength")},writableFinished:{__proto__:null,...r(n.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(n.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(n.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(n.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(_){this._readableState&&this._writableState&&(this._readableState.destroyed=_,this._writableState.destroyed=_)}}});var u;function p(){return u===void 0&&(u={}),u}d.fromWeb=function(_,b){return p().newStreamDuplexFromReadableWritablePair(_,b)},d.toWeb=function(_){return p().newReadableWritablePairFromDuplex(_)};var w;d.from=function(_){return w||(w=Hn()),w(_,"body")}}}),Wr=le({"node_modules/readable-stream/lib/internal/streams/transform.js"(i,e){ae();var{ObjectSetPrototypeOf:t,Symbol:r}=xe();e.exports=d;var{ERR_METHOD_NOT_IMPLEMENTED:a}=Ne().codes,l=Ye(),{getHighWaterMark:f}=kt();t(d.prototype,l.prototype),t(d,l);var n=r("kCallback");function d(w){if(!(this instanceof d))return new d(w);const _=w?f(this,w,"readableHighWaterMark",!0):null;_===0&&(w={...w,highWaterMark:null,readableHighWaterMark:_,writableHighWaterMark:w.writableHighWaterMark||0}),l.call(this,w),this._readableState.sync=!1,this[n]=null,w&&(typeof w.transform=="function"&&(this._transform=w.transform),typeof w.flush=="function"&&(this._flush=w.flush)),this.on("prefinish",p)}function u(w){typeof this._flush=="function"&&!this.destroyed?this._flush((_,b)=>{if(_){w?w(_):this.destroy(_);return}b!=null&&this.push(b),this.push(null),w&&w()}):(this.push(null),w&&w())}function p(){this._final!==u&&u.call(this)}d.prototype._final=u,d.prototype._transform=function(w,_,b){throw new a("_transform()")},d.prototype._write=function(w,_,b){const c=this._readableState,O=this._writableState,T=c.length;this._transform(w,_,(x,h)=>{if(x){b(x);return}h!=null&&this.push(h),O.ended||T===c.length||c.length<c.highWaterMark?b():this[n]=b})},d.prototype._read=function(){if(this[n]){const w=this[n];this[n]=null,w()}}}}),qr=le({"node_modules/readable-stream/lib/internal/streams/passthrough.js"(i,e){ae();var{ObjectSetPrototypeOf:t}=xe();e.exports=a;var r=Wr();t(a.prototype,r.prototype),t(a,r);function a(l){if(!(this instanceof a))return new a(l);r.call(this,l)}a.prototype._transform=function(l,f,n){n(null,l)}}}),sr=le({"node_modules/readable-stream/lib/internal/streams/pipeline.js"(i,e){ae();var t=st(),{ArrayIsArray:r,Promise:a,SymbolAsyncIterator:l,SymbolDispose:f}=xe(),n=et(),{once:d}=je(),u=ht(),p=Ye(),{aggregateTwoErrors:w,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:c,ERR_STREAM_DESTROYED:O,ERR_STREAM_PREMATURE_CLOSE:T},AbortError:x}=Ne(),{validateFunction:h,validateAbortSignal:E}=Tt(),{isIterable:P,isReadable:A,isReadableNodeStream:B,isNodeStream:j,isTransformStream:G,isWebStream:X,isReadableStream:J,isReadableFinished:se}=Xe(),F=globalThis.AbortController||At().AbortController,K,Z,H;function fe(V,ue,ye){let U=!1;V.on("close",()=>{U=!0});const N=n(V,{readable:ue,writable:ye},k=>{U=!k});return{destroy:k=>{U||(U=!0,u.destroyer(V,k||new O("pipe")))},cleanup:N}}function pe(V){return h(V[V.length-1],"streams[stream.length - 1]"),V.pop()}function we(V){if(P(V))return V;if(B(V))return _e(V);throw new _("val",["Readable","Iterable","AsyncIterable"],V)}async function*_e(V){Z||(Z=jt()),yield*Z.prototype[l].call(V)}async function re(V,ue,ye,{end:U}){let N,k=null;const $=m=>{if(m&&(N=m),k){const S=k;k=null,S()}},ee=()=>new a((m,S)=>{N?S(N):k=()=>{N?S(N):m()}});ue.on("drain",$);const v=n(ue,{readable:!1},$);try{ue.writableNeedDrain&&await ee();for await(const m of V)ue.write(m)||await ee();U&&(ue.end(),await ee()),ye()}catch(m){ye(N!==m?w(N,m):m)}finally{v(),ue.off("drain",$)}}async function he(V,ue,ye,{end:U}){G(ue)&&(ue=ue.writable);const N=ue.getWriter();try{for await(const k of V)await N.ready,N.write(k).catch(()=>{});await N.ready,U&&await N.close(),ye()}catch(k){try{await N.abort(k),ye(k)}catch($){ye($)}}}function g(...V){return D(V,d(pe(V)))}function D(V,ue,ye){if(V.length===1&&r(V[0])&&(V=V[0]),V.length<2)throw new c("streams");const U=new F,N=U.signal,k=ye?.signal,$=[];E(k,"options.signal");function ee(){C(new x)}H=H||je().addAbortListener;let v;k&&(v=H(k,ee));let m,S;const M=[];let Y=0;function te(de){C(de,--Y===0)}function C(de,oe){var Ee;if(de&&(!m||m.code==="ERR_STREAM_PREMATURE_CLOSE")&&(m=de),!(!m&&!oe)){for(;M.length;)M.shift()(m);(Ee=v)===null||Ee===void 0||Ee[f](),U.abort(),oe&&(m||$.forEach(Te=>Te()),t.nextTick(ue,m,S))}}let ce;for(let de=0;de<V.length;de++){const oe=V[de],Ee=de<V.length-1,Te=de>0,y=Ee||ye?.end!==!1,o=de===V.length-1;if(j(oe)){let s=function(R){R&&R.name!=="AbortError"&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"&&te(R)};if(y){const{destroy:R,cleanup:q}=fe(oe,Ee,Te);M.push(R),A(oe)&&o&&$.push(q)}oe.on("error",s),A(oe)&&o&&$.push(()=>{oe.removeListener("error",s)})}if(de===0)if(typeof oe=="function"){if(ce=oe({signal:N}),!P(ce))throw new b("Iterable, AsyncIterable or Stream","source",ce)}else P(oe)||B(oe)||G(oe)?ce=oe:ce=p.from(oe);else if(typeof oe=="function"){if(G(ce)){var W;ce=we((W=ce)===null||W===void 0?void 0:W.readable)}else ce=we(ce);if(ce=oe(ce,{signal:N}),Ee){if(!P(ce,!0))throw new b("AsyncIterable",`transform[${de-1}]`,ce)}else{var ne;K||(K=qr());const s=new K({objectMode:!0}),R=(ne=ce)===null||ne===void 0?void 0:ne.then;if(typeof R=="function")Y++,R.call(ce,ie=>{S=ie,ie!=null&&s.write(ie),y&&s.end(),t.nextTick(te)},ie=>{s.destroy(ie),t.nextTick(te,ie)});else if(P(ce,!0))Y++,re(ce,s,te,{end:y});else if(J(ce)||G(ce)){const ie=ce.readable||ce;Y++,re(ie,s,te,{end:y})}else throw new b("AsyncIterable or Promise","destination",ce);ce=s;const{destroy:q,cleanup:Q}=fe(ce,!1,!0);M.push(q),o&&$.push(Q)}}else if(j(oe)){if(B(ce)){Y+=2;const s=z(ce,oe,te,{end:y});A(oe)&&o&&$.push(s)}else if(G(ce)||J(ce)){const s=ce.readable||ce;Y++,re(s,oe,te,{end:y})}else if(P(ce))Y++,re(ce,oe,te,{end:y});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ce);ce=oe}else if(X(oe)){if(B(ce))Y++,he(we(ce),oe,te,{end:y});else if(J(ce)||P(ce))Y++,he(ce,oe,te,{end:y});else if(G(ce))Y++,he(ce.readable,oe,te,{end:y});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ce);ce=oe}else ce=p.from(oe)}return(N!=null&&N.aborted||k!=null&&k.aborted)&&t.nextTick(ee),ce}function z(V,ue,ye,{end:U}){let N=!1;if(ue.on("close",()=>{N||ye(new T)}),V.pipe(ue,{end:!1}),U){let k=function(){N=!0,ue.end()};se(V)?t.nextTick(k):V.once("end",k)}else ye();return n(V,{readable:!0,writable:!1},k=>{const $=V._readableState;k&&k.code==="ERR_STREAM_PREMATURE_CLOSE"&&$&&$.ended&&!$.errored&&!$.errorEmitted?V.once("end",ye).once("error",ye):ye(k)}),n(ue,{readable:!1,writable:!0},ye)}e.exports={pipelineImpl:D,pipeline:g}}}),$r=le({"node_modules/readable-stream/lib/internal/streams/compose.js"(i,e){ae();var{pipeline:t}=sr(),r=Ye(),{destroyer:a}=ht(),{isNodeStream:l,isReadable:f,isWritable:n,isWebStream:d,isTransformStream:u,isWritableStream:p,isReadableStream:w}=Xe(),{AbortError:_,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:c}}=Ne(),O=et();e.exports=function(...x){if(x.length===0)throw new c("streams");if(x.length===1)return r.from(x[0]);const h=[...x];if(typeof x[0]=="function"&&(x[0]=r.from(x[0])),typeof x[x.length-1]=="function"){const K=x.length-1;x[K]=r.from(x[K])}for(let K=0;K<x.length;++K)if(!(!l(x[K])&&!d(x[K]))){if(K<x.length-1&&!(f(x[K])||w(x[K])||u(x[K])))throw new b(`streams[${K}]`,h[K],"must be readable");if(K>0&&!(n(x[K])||p(x[K])||u(x[K])))throw new b(`streams[${K}]`,h[K],"must be writable")}let E,P,A,B,j;function G(K){const Z=B;B=null,Z?Z(K):K?j.destroy(K):!F&&!se&&j.destroy()}const X=x[0],J=t(x,G),se=!!(n(X)||p(X)||u(X)),F=!!(f(J)||w(J)||u(J));if(j=new r({writableObjectMode:!!(X!=null&&X.writableObjectMode),readableObjectMode:!!(J!=null&&J.readableObjectMode),writable:se,readable:F}),se){if(l(X))j._write=function(Z,H,fe){X.write(Z,H)?fe():E=fe},j._final=function(Z){X.end(),P=Z},X.on("drain",function(){if(E){const Z=E;E=null,Z()}});else if(d(X)){const H=(u(X)?X.writable:X).getWriter();j._write=async function(fe,pe,we){try{await H.ready,H.write(fe).catch(()=>{}),we()}catch(_e){we(_e)}},j._final=async function(fe){try{await H.ready,H.close().catch(()=>{}),P=fe}catch(pe){fe(pe)}}}const K=u(J)?J.readable:J;O(K,()=>{if(P){const Z=P;P=null,Z()}})}if(F){if(l(J))J.on("readable",function(){if(A){const K=A;A=null,K()}}),J.on("end",function(){j.push(null)}),j._read=function(){for(;;){const K=J.read();if(K===null){A=j._read;return}if(!j.push(K))return}};else if(d(J)){const Z=(u(J)?J.readable:J).getReader();j._read=async function(){for(;;)try{const{value:H,done:fe}=await Z.read();if(!j.push(H))return;if(fe){j.push(null);return}}catch{return}}}}return j._destroy=function(K,Z){!K&&B!==null&&(K=new _),A=null,E=null,P=null,B===null?Z(K):(B=Z,l(J)&&a(J,K))},j}}}),Kn=le({"node_modules/readable-stream/lib/internal/streams/operators.js"(i,e){ae();var t=globalThis.AbortController||At().AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:a,ERR_MISSING_ARGS:l,ERR_OUT_OF_RANGE:f},AbortError:n}=Ne(),{validateAbortSignal:d,validateInteger:u,validateObject:p}=Tt(),w=xe().Symbol("kWeak"),_=xe().Symbol("kResistStopPropagation"),{finished:b}=et(),c=$r(),{addAbortSignalNoValidate:O}=Lt(),{isWritable:T,isNodeStream:x}=Xe(),{deprecate:h}=je(),{ArrayPrototypePush:E,Boolean:P,MathFloor:A,Number:B,NumberIsNaN:j,Promise:G,PromiseReject:X,PromiseResolve:J,PromisePrototypeThen:se,Symbol:F}=xe(),K=F("kEmpty"),Z=F("kEof");function H(k,$){if($!=null&&p($,"options"),$?.signal!=null&&d($.signal,"options.signal"),x(k)&&!T(k))throw new r("stream",k,"must be writable");const ee=c(this,k);return $!=null&&$.signal&&O($.signal,ee),ee}function fe(k,$){if(typeof k!="function")throw new a("fn",["Function","AsyncFunction"],k);$!=null&&p($,"options"),$?.signal!=null&&d($.signal,"options.signal");let ee=1;$?.concurrency!=null&&(ee=A($.concurrency));let v=ee-1;return $?.highWaterMark!=null&&(v=A($.highWaterMark)),u(ee,"options.concurrency",1),u(v,"options.highWaterMark",0),v+=ee,(async function*(){const S=je().AbortSignalAny([$?.signal].filter(P)),M=this,Y=[],te={signal:S};let C,ce,W=!1,ne=0;function de(){W=!0,oe()}function oe(){ne-=1,Ee()}function Ee(){ce&&!W&&ne<ee&&Y.length<v&&(ce(),ce=null)}async function Te(){try{for await(let y of M){if(W)return;if(S.aborted)throw new n;try{if(y=k(y,te),y===K)continue;y=J(y)}catch(o){y=X(o)}ne+=1,se(y,oe,de),Y.push(y),C&&(C(),C=null),!W&&(Y.length>=v||ne>=ee)&&await new G(o=>{ce=o})}Y.push(Z)}catch(y){const o=X(y);se(o,oe,de),Y.push(o)}finally{W=!0,C&&(C(),C=null)}}Te();try{for(;;){for(;Y.length>0;){const y=await Y[0];if(y===Z)return;if(S.aborted)throw new n;y!==K&&(yield y),Y.shift(),Ee()}await new G(y=>{C=y})}}finally{W=!0,ce&&(ce(),ce=null)}}).call(this)}function pe(k=void 0){return k!=null&&p(k,"options"),k?.signal!=null&&d(k.signal,"options.signal"),(async function*(){let ee=0;for await(const m of this){var v;if(k!=null&&(v=k.signal)!==null&&v!==void 0&&v.aborted)throw new n({cause:k.signal.reason});yield[ee++,m]}}).call(this)}async function we(k,$=void 0){for await(const ee of g.call(this,k,$))return!0;return!1}async function _e(k,$=void 0){if(typeof k!="function")throw new a("fn",["Function","AsyncFunction"],k);return!await we.call(this,async(...ee)=>!await k(...ee),$)}async function re(k,$){for await(const ee of g.call(this,k,$))return ee}async function he(k,$){if(typeof k!="function")throw new a("fn",["Function","AsyncFunction"],k);async function ee(v,m){return await k(v,m),K}for await(const v of fe.call(this,ee,$));}function g(k,$){if(typeof k!="function")throw new a("fn",["Function","AsyncFunction"],k);async function ee(v,m){return await k(v,m)?v:K}return fe.call(this,ee,$)}var D=class extends l{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function z(k,$,ee){var v;if(typeof k!="function")throw new a("reducer",["Function","AsyncFunction"],k);ee!=null&&p(ee,"options"),ee?.signal!=null&&d(ee.signal,"options.signal");let m=arguments.length>1;if(ee!=null&&(v=ee.signal)!==null&&v!==void 0&&v.aborted){const C=new n(void 0,{cause:ee.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(C)),C}const S=new t,M=S.signal;if(ee!=null&&ee.signal){const C={once:!0,[w]:this,[_]:!0};ee.signal.addEventListener("abort",()=>S.abort(),C)}let Y=!1;try{for await(const C of this){var te;if(Y=!0,ee!=null&&(te=ee.signal)!==null&&te!==void 0&&te.aborted)throw new n;m?$=await k($,C,{signal:M}):($=C,m=!0)}if(!Y&&!m)throw new D}finally{S.abort()}return $}async function V(k){k!=null&&p(k,"options"),k?.signal!=null&&d(k.signal,"options.signal");const $=[];for await(const v of this){var ee;if(k!=null&&(ee=k.signal)!==null&&ee!==void 0&&ee.aborted)throw new n(void 0,{cause:k.signal.reason});E($,v)}return $}function ue(k,$){const ee=fe.call(this,k,$);return(async function*(){for await(const m of ee)yield*m}).call(this)}function ye(k){if(k=B(k),j(k))return 0;if(k<0)throw new f("number",">= 0",k);return k}function U(k,$=void 0){return $!=null&&p($,"options"),$?.signal!=null&&d($.signal,"options.signal"),k=ye(k),(async function*(){var v;if($!=null&&(v=$.signal)!==null&&v!==void 0&&v.aborted)throw new n;for await(const S of this){var m;if($!=null&&(m=$.signal)!==null&&m!==void 0&&m.aborted)throw new n;k--<=0&&(yield S)}}).call(this)}function N(k,$=void 0){return $!=null&&p($,"options"),$?.signal!=null&&d($.signal,"options.signal"),k=ye(k),(async function*(){var v;if($!=null&&(v=$.signal)!==null&&v!==void 0&&v.aborted)throw new n;for await(const S of this){var m;if($!=null&&(m=$.signal)!==null&&m!==void 0&&m.aborted)throw new n;if(k-- >0&&(yield S),k<=0)return}}).call(this)}e.exports.streamReturningOperators={asIndexedPairs:h(pe,"readable.asIndexedPairs will be removed in a future version."),drop:U,filter:g,flatMap:ue,map:fe,take:N,compose:H},e.exports.promiseReturningOperators={every:_e,forEach:he,reduce:z,toArray:V,some:we,find:re}}}),Gr=le({"node_modules/readable-stream/lib/stream/promises.js"(i,e){ae();var{ArrayPrototypePop:t,Promise:r}=xe(),{isIterable:a,isNodeStream:l,isWebStream:f}=Xe(),{pipelineImpl:n}=sr(),{finished:d}=et();Vr();function u(...p){return new r((w,_)=>{let b,c;const O=p[p.length-1];if(O&&typeof O=="object"&&!l(O)&&!a(O)&&!f(O)){const T=t(p);b=T.signal,c=T.end}n(p,(T,x)=>{T?_(T):w(x)},{signal:b,end:c})})}e.exports={finished:d,pipeline:u}}}),Vr=le({"node_modules/readable-stream/lib/stream.js"(i,e){ae();var{Buffer:t}=Ue(),{ObjectDefineProperty:r,ObjectKeys:a,ReflectApply:l}=xe(),{promisify:{custom:f}}=je(),{streamReturningOperators:n,promiseReturningOperators:d}=Kn(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=Ne(),p=$r(),{setDefaultHighWaterMark:w,getDefaultHighWaterMark:_}=kt(),{pipeline:b}=sr(),{destroyer:c}=ht(),O=et(),T=Gr(),x=Xe(),h=e.exports=or().Stream;h.isDestroyed=x.isDestroyed,h.isDisturbed=x.isDisturbed,h.isErrored=x.isErrored,h.isReadable=x.isReadable,h.isWritable=x.isWritable,h.Readable=jt();for(const P of a(n)){let A=function(...j){if(new.target)throw u();return h.Readable.from(l(B,this,j))};const B=n[P];r(A,"name",{__proto__:null,value:B.name}),r(A,"length",{__proto__:null,value:B.length}),r(h.Readable.prototype,P,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}for(const P of a(d)){let A=function(...j){if(new.target)throw u();return l(B,this,j)};const B=d[P];r(A,"name",{__proto__:null,value:B.name}),r(A,"length",{__proto__:null,value:B.length}),r(h.Readable.prototype,P,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}h.Writable=ar(),h.Duplex=Ye(),h.Transform=Wr(),h.PassThrough=qr(),h.pipeline=b;var{addAbortSignal:E}=Lt();h.addAbortSignal=E,h.finished=O,h.destroy=c,h.compose=p,h.setDefaultHighWaterMark=w,h.getDefaultHighWaterMark=_,r(h,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return T}}),r(b,f,{__proto__:null,enumerable:!0,get(){return T.pipeline}}),r(O,f,{__proto__:null,enumerable:!0,get(){return T.finished}}),h.Stream=h,h._isUint8Array=function(A){return A instanceof Uint8Array},h._uint8ArrayToBuffer=function(A){return t.from(A.buffer,A.byteOffset,A.byteLength)}}}),pt=le({"node_modules/readable-stream/lib/ours/index.js"(i,e){ae();var t=pt();if(t&&Se.env.READABLE_STREAM==="disable"){const r=t.promises;e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream}else{const r=Vr(),a=Gr(),l=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=l,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return a}}),e.exports.Stream=r.Stream}e.exports.default=e.exports}}),zn=le({"node_modules/wrappy/wrappy.js"(i,e){ae(),e.exports=t;function t(r,a){if(r&&a)return t(r)(a);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(f){l[f]=r[f]}),l;function l(){for(var f=new Array(arguments.length),n=0;n<f.length;n++)f[n]=arguments[n];var d=r.apply(this,f),u=f[f.length-1];return typeof d=="function"&&d!==u&&Object.keys(u).forEach(function(p){d[p]=u[p]}),d}}}}),Hr=le({"node_modules/once/once.js"(i,e){ae();var t=zn();e.exports=t(r),e.exports.strict=t(a),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return a(this)},configurable:!0})});function r(l){var f=function(){return f.called?f.value:(f.called=!0,f.value=l.apply(this,arguments))};return f.called=!1,f}function a(l){var f=function(){if(f.called)throw new Error(f.onceError);return f.called=!0,f.value=l.apply(this,arguments)},n=l.name||"Function wrapped with `once`";return f.onceError=n+" shouldn't be called more than once",f.called=!1,f}}}),Kr=le({"node_modules/end-of-stream/index.js"(i,e){ae();var t=Hr(),r=function(){},a=function(n){return n.setHeader&&typeof n.abort=="function"},l=function(n){return n.stdio&&Array.isArray(n.stdio)&&n.stdio.length===3},f=function(n,d,u){if(typeof d=="function")return f(n,null,d);d||(d={}),u=t(u||r);var p=n._writableState,w=n._readableState,_=d.readable||d.readable!==!1&&n.readable,b=d.writable||d.writable!==!1&&n.writable,c=!1,O=function(){n.writable||T()},T=function(){b=!1,_||u.call(n)},x=function(){_=!1,b||u.call(n)},h=function(j){u.call(n,j?new Error("exited with error code: "+j):null)},E=function(j){u.call(n,j)},P=function(){Se.nextTick(A)},A=function(){if(!c){if(_&&!(w&&w.ended&&!w.destroyed))return u.call(n,new Error("premature close"));if(b&&!(p&&p.ended&&!p.destroyed))return u.call(n,new Error("premature close"))}},B=function(){n.req.on("finish",T)};return a(n)?(n.on("complete",T),n.on("abort",P),n.req?B():n.on("request",B)):b&&!p&&(n.on("end",O),n.on("close",O)),l(n)&&n.on("exit",h),n.on("end",x),n.on("finish",T),d.error!==!1&&n.on("error",E),n.on("close",P),function(){c=!0,n.removeListener("complete",T),n.removeListener("abort",P),n.removeListener("request",B),n.req&&n.req.removeListener("finish",T),n.removeListener("end",O),n.removeListener("close",O),n.removeListener("finish",T),n.removeListener("exit",h),n.removeListener("end",x),n.removeListener("error",E),n.removeListener("close",P)}};e.exports=f}}),Yn=le({"(disabled):fs"(){ae()}}),Jn=le({"node_modules/pump/index.js"(i,e){ae();var t=Hr(),r=Kr(),a=Yn(),l=function(){},f=/^v?\.0/.test(Se.version),n=function(c){return typeof c=="function"},d=function(c){return!f||!a?!1:(c instanceof(a.ReadStream||l)||c instanceof(a.WriteStream||l))&&n(c.close)},u=function(c){return c.setHeader&&n(c.abort)},p=function(c,O,T,x){x=t(x);var h=!1;c.on("close",function(){h=!0}),r(c,{readable:O,writable:T},function(P){if(P)return x(P);h=!0,x()});var E=!1;return function(P){if(!h&&!E){if(E=!0,d(c))return c.close(l);if(u(c))return c.abort();if(n(c.destroy))return c.destroy();x(P||new Error("stream was destroyed"))}}},w=function(c){c()},_=function(c,O){return c.pipe(O)},b=function(){var c=Array.prototype.slice.call(arguments),O=n(c[c.length-1]||l)&&c.pop()||l;if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new Error("pump requires two streams per minimum");var T,x=c.map(function(h,E){var P=E<c.length-1,A=E>0;return p(h,P,A,function(B){T||(T=B),B&&x.forEach(w),!P&&(x.forEach(w),O(T))})});return c.reduce(_)};e.exports=b}}),tt=le({"node_modules/inherits/inherits_browser.js"(i,e){ae(),typeof Object.create=="function"?e.exports=function(r,a){a&&(r.super_=a,r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,a){if(a){r.super_=a;var l=function(){};l.prototype=a.prototype,r.prototype=new l,r.prototype.constructor=r}}}}),zr=le({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/stream-browser.js"(i,e){ae(),e.exports=Je().EventEmitter}}),Yr=le({"(disabled):node_modules/util/util.js"(){ae()}}),Xn=le({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/buffer_list.js"(i,e){ae();function t(T,x){var h=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);x&&(E=E.filter(function(P){return Object.getOwnPropertyDescriptor(T,P).enumerable})),h.push.apply(h,E)}return h}function r(T){for(var x=1;x<arguments.length;x++){var h=arguments[x]!=null?arguments[x]:{};x%2?t(Object(h),!0).forEach(function(E){a(T,E,h[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(h)):t(Object(h)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(h,E))})}return T}function a(T,x,h){return x=d(x),x in T?Object.defineProperty(T,x,{value:h,enumerable:!0,configurable:!0,writable:!0}):T[x]=h,T}function l(T,x){if(!(T instanceof x))throw new TypeError("Cannot call a class as a function")}function f(T,x){for(var h=0;h<x.length;h++){var E=x[h];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(T,d(E.key),E)}}function n(T,x,h){return x&&f(T.prototype,x),Object.defineProperty(T,"prototype",{writable:!1}),T}function d(T){var x=u(T,"string");return typeof x=="symbol"?x:String(x)}function u(T,x){if(typeof T!="object"||T===null)return T;var h=T[Symbol.toPrimitive];if(h!==void 0){var E=h.call(T,x);if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}var p=Ue(),w=p.Buffer,_=Yr(),b=_.inspect,c=b&&b.custom||"inspect";function O(T,x,h){w.prototype.copy.call(T,x,h)}e.exports=(function(){function T(){l(this,T),this.head=null,this.tail=null,this.length=0}return n(T,[{key:"push",value:function(h){var E={data:h,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length}},{key:"unshift",value:function(h){var E={data:h,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length}},{key:"shift",value:function(){if(this.length!==0){var h=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,h}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(h){if(this.length===0)return"";for(var E=this.head,P=""+E.data;E=E.next;)P+=h+E.data;return P}},{key:"concat",value:function(h){if(this.length===0)return w.alloc(0);for(var E=w.allocUnsafe(h>>>0),P=this.head,A=0;P;)O(P.data,E,A),A+=P.data.length,P=P.next;return E}},{key:"consume",value:function(h,E){var P;return h<this.head.data.length?(P=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):h===this.head.data.length?P=this.shift():P=E?this._getString(h):this._getBuffer(h),P}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(h){var E=this.head,P=1,A=E.data;for(h-=A.length;E=E.next;){var B=E.data,j=h>B.length?B.length:h;if(j===B.length?A+=B:A+=B.slice(0,h),h-=j,h===0){j===B.length?(++P,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=B.slice(j));break}++P}return this.length-=P,A}},{key:"_getBuffer",value:function(h){var E=w.allocUnsafe(h),P=this.head,A=1;for(P.data.copy(E),h-=P.data.length;P=P.next;){var B=P.data,j=h>B.length?B.length:h;if(B.copy(E,E.length-h,0,j),h-=j,h===0){j===B.length?(++A,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=B.slice(j));break}++A}return this.length-=A,E}},{key:c,value:function(h,E){return b(this,r(r({},E),{},{depth:0,customInspect:!1}))}}]),T})()}}),Jr=le({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/destroy.js"(i,e){ae();function t(d,u){var p=this,w=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return w||_?(u?u(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Se.nextTick(f,this,d)):Se.nextTick(f,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(b){!u&&b?p._writableState?p._writableState.errorEmitted?Se.nextTick(a,p):(p._writableState.errorEmitted=!0,Se.nextTick(r,p,b)):Se.nextTick(r,p,b):u?(Se.nextTick(a,p),u(b)):Se.nextTick(a,p)}),this)}function r(d,u){f(d,u),a(d)}function a(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function l(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(d,u){d.emit("error",u)}function n(d,u){var p=d._readableState,w=d._writableState;p&&p.autoDestroy||w&&w.autoDestroy?d.destroy(u):d.emit("error",u)}e.exports={destroy:t,undestroy:l,errorOrDestroy:n}}}),yt=le({"node_modules/duplexify/node_modules/readable-stream/errors-browser.js"(i,e){ae();function t(u,p){u.prototype=Object.create(p.prototype),u.prototype.constructor=u,u.__proto__=p}var r={};function a(u,p,w){w||(w=Error);function _(c,O,T){return typeof p=="string"?p:p(c,O,T)}var b=(function(c){t(O,c);function O(T,x,h){return c.call(this,_(T,x,h))||this}return O})(w);b.prototype.name=w.name,b.prototype.code=u,r[u]=b}function l(u,p){if(Array.isArray(u)){var w=u.length;return u=u.map(function(_){return String(_)}),w>2?"one of ".concat(p," ").concat(u.slice(0,w-1).join(", "),", or ")+u[w-1]:w===2?"one of ".concat(p," ").concat(u[0]," or ").concat(u[1]):"of ".concat(p," ").concat(u[0])}else return"of ".concat(p," ").concat(String(u))}function f(u,p,w){return u.substr(0,p.length)===p}function n(u,p,w){return(w===void 0||w>u.length)&&(w=u.length),u.substring(w-p.length,w)===p}function d(u,p,w){return typeof w!="number"&&(w=0),w+p.length>u.length?!1:u.indexOf(p,w)!==-1}a("ERR_INVALID_OPT_VALUE",function(u,p){return'The value "'+p+'" is invalid for option "'+u+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(u,p,w){var _;typeof p=="string"&&f(p,"not ")?(_="must not be",p=p.replace(/^not /,"")):_="must be";var b;if(n(u," argument"))b="The ".concat(u," ").concat(_," ").concat(l(p,"type"));else{var c=d(u,".")?"property":"argument";b='The "'.concat(u,'" ').concat(c," ").concat(_," ").concat(l(p,"type"))}return b+=". Received type ".concat(typeof w),b},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r}}),Xr=le({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/state.js"(i,e){ae();var t=yt().codes.ERR_INVALID_OPT_VALUE;function r(l,f,n){return l.highWaterMark!=null?l.highWaterMark:f?l[n]:null}function a(l,f,n,d){var u=r(f,d,n);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var p=d?n:"highWaterMark";throw new t(p,u)}return Math.floor(u)}return l.objectMode?16:16*1024}e.exports={getHighWaterMark:a}}}),Qn=le({"node_modules/util-deprecate/browser.js"(i,e){ae(),e.exports=t;function t(a,l){if(r("noDeprecation"))return a;var f=!1;function n(){if(!f){if(r("throwDeprecation"))throw new Error(l);r("traceDeprecation")?console.trace(l):console.warn(l),f=!0}return a.apply(this,arguments)}return n}function r(a){try{if(!ze.localStorage)return!1}catch{return!1}var l=ze.localStorage[a];return l==null?!1:String(l).toLowerCase()==="true"}}}),Qr=le({"node_modules/duplexify/node_modules/readable-stream/lib/_stream_writable.js"(i,e){ae(),e.exports=J;function t(U){var N=this;this.next=null,this.entry=null,this.finish=function(){ye(N,U)}}var r;J.WritableState=G;var a={deprecate:Qn()},l=zr(),f=Ue().Buffer,n=(typeof ze<"u"?ze:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function d(U){return f.from(U)}function u(U){return f.isBuffer(U)||U instanceof n}var p=Jr(),w=Xr(),_=w.getHighWaterMark,b=yt().codes,c=b.ERR_INVALID_ARG_TYPE,O=b.ERR_METHOD_NOT_IMPLEMENTED,T=b.ERR_MULTIPLE_CALLBACK,x=b.ERR_STREAM_CANNOT_PIPE,h=b.ERR_STREAM_DESTROYED,E=b.ERR_STREAM_NULL_VALUES,P=b.ERR_STREAM_WRITE_AFTER_END,A=b.ERR_UNKNOWN_ENCODING,B=p.errorOrDestroy;tt()(J,l);function j(){}function G(U,N,k){r=r||dt(),U=U||{},typeof k!="boolean"&&(k=N instanceof r),this.objectMode=!!U.objectMode,k&&(this.objectMode=this.objectMode||!!U.writableObjectMode),this.highWaterMark=_(this,U,"writableHighWaterMark",k),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=U.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=U.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ee){we(N,ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}G.prototype.getBuffer=function(){for(var N=this.bufferedRequest,k=[];N;)k.push(N),N=N.next;return k},(function(){try{Object.defineProperty(G.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var X;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(X=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(N){return X.call(this,N)?!0:this!==J?!1:N&&N._writableState instanceof G}})):X=function(N){return N instanceof this};function J(U){r=r||dt();var N=this instanceof r;if(!N&&!X.call(J,this))return new J(U);this._writableState=new G(U,this,N),this.writable=!0,U&&(typeof U.write=="function"&&(this._write=U.write),typeof U.writev=="function"&&(this._writev=U.writev),typeof U.destroy=="function"&&(this._destroy=U.destroy),typeof U.final=="function"&&(this._final=U.final)),l.call(this)}J.prototype.pipe=function(){B(this,new x)};function se(U,N){var k=new P;B(U,k),Se.nextTick(N,k)}function F(U,N,k,$){var ee;return k===null?ee=new E:typeof k!="string"&&!N.objectMode&&(ee=new c("chunk",["string","Buffer"],k)),ee?(B(U,ee),Se.nextTick($,ee),!1):!0}J.prototype.write=function(U,N,k){var $=this._writableState,ee=!1,v=!$.objectMode&&u(U);return v&&!f.isBuffer(U)&&(U=d(U)),typeof N=="function"&&(k=N,N=null),v?N="buffer":N||(N=$.defaultEncoding),typeof k!="function"&&(k=j),$.ending?se(this,k):(v||F(this,$,U,k))&&($.pendingcb++,ee=Z(this,$,v,U,N,k)),ee},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var U=this._writableState;U.corked&&(U.corked--,!U.writing&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&he(this,U))},J.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new A(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function K(U,N,k){return!U.objectMode&&U.decodeStrings!==!1&&typeof N=="string"&&(N=f.from(N,k)),N}Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Z(U,N,k,$,ee,v){if(!k){var m=K(N,$,ee);$!==m&&(k=!0,ee="buffer",$=m)}var S=N.objectMode?1:$.length;N.length+=S;var M=N.length<N.highWaterMark;if(M||(N.needDrain=!0),N.writing||N.corked){var Y=N.lastBufferedRequest;N.lastBufferedRequest={chunk:$,encoding:ee,isBuf:k,callback:v,next:null},Y?Y.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else H(U,N,!1,S,$,ee,v);return M}function H(U,N,k,$,ee,v,m){N.writelen=$,N.writecb=m,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new h("write")):k?U._writev(ee,N.onwrite):U._write(ee,v,N.onwrite),N.sync=!1}function fe(U,N,k,$,ee){--N.pendingcb,k?(Se.nextTick(ee,$),Se.nextTick(V,U,N),U._writableState.errorEmitted=!0,B(U,$)):(ee($),U._writableState.errorEmitted=!0,B(U,$),V(U,N))}function pe(U){U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0}function we(U,N){var k=U._writableState,$=k.sync,ee=k.writecb;if(typeof ee!="function")throw new T;if(pe(k),N)fe(U,k,$,N,ee);else{var v=g(k)||U.destroyed;!v&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&he(U,k),$?Se.nextTick(_e,U,k,v,ee):_e(U,k,v,ee)}}function _e(U,N,k,$){k||re(U,N),N.pendingcb--,$(),V(U,N)}function re(U,N){N.length===0&&N.needDrain&&(N.needDrain=!1,U.emit("drain"))}function he(U,N){N.bufferProcessing=!0;var k=N.bufferedRequest;if(U._writev&&k&&k.next){var $=N.bufferedRequestCount,ee=new Array($),v=N.corkedRequestsFree;v.entry=k;for(var m=0,S=!0;k;)ee[m]=k,k.isBuf||(S=!1),k=k.next,m+=1;ee.allBuffers=S,H(U,N,!0,N.length,ee,"",v.finish),N.pendingcb++,N.lastBufferedRequest=null,v.next?(N.corkedRequestsFree=v.next,v.next=null):N.corkedRequestsFree=new t(N),N.bufferedRequestCount=0}else{for(;k;){var M=k.chunk,Y=k.encoding,te=k.callback,C=N.objectMode?1:M.length;if(H(U,N,!1,C,M,Y,te),k=k.next,N.bufferedRequestCount--,N.writing)break}k===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=k,N.bufferProcessing=!1}J.prototype._write=function(U,N,k){k(new O("_write()"))},J.prototype._writev=null,J.prototype.end=function(U,N,k){var $=this._writableState;return typeof U=="function"?(k=U,U=null,N=null):typeof N=="function"&&(k=N,N=null),U!=null&&this.write(U,N),$.corked&&($.corked=1,this.uncork()),$.ending||ue(this,$,k),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function g(U){return U.ending&&U.length===0&&U.bufferedRequest===null&&!U.finished&&!U.writing}function D(U,N){U._final(function(k){N.pendingcb--,k&&B(U,k),N.prefinished=!0,U.emit("prefinish"),V(U,N)})}function z(U,N){!N.prefinished&&!N.finalCalled&&(typeof U._final=="function"&&!N.destroyed?(N.pendingcb++,N.finalCalled=!0,Se.nextTick(D,U,N)):(N.prefinished=!0,U.emit("prefinish")))}function V(U,N){var k=g(N);if(k&&(z(U,N),N.pendingcb===0&&(N.finished=!0,U.emit("finish"),N.autoDestroy))){var $=U._readableState;(!$||$.autoDestroy&&$.endEmitted)&&U.destroy()}return k}function ue(U,N,k){N.ending=!0,V(U,N),k&&(N.finished?Se.nextTick(k):U.once("finish",k)),N.ended=!0,U.writable=!1}function ye(U,N,k){var $=U.entry;for(U.entry=null;$;){var ee=$.callback;N.pendingcb--,ee(k),$=$.next}N.corkedRequestsFree.next=U}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),J.prototype.destroy=p.destroy,J.prototype._undestroy=p.undestroy,J.prototype._destroy=function(U,N){N(U)}}}),dt=le({"node_modules/duplexify/node_modules/readable-stream/lib/_stream_duplex.js"(i,e){ae();var t=Object.keys||function(w){var _=[];for(var b in w)_.push(b);return _};e.exports=d;var r=Zr(),a=Qr();for(tt()(d,r),l=t(a.prototype),n=0;n<l.length;n++)f=l[n],d.prototype[f]||(d.prototype[f]=a.prototype[f]);var l,f,n;function d(w){if(!(this instanceof d))return new d(w);r.call(this,w),a.call(this,w),this.allowHalfOpen=!0,w&&(w.readable===!1&&(this.readable=!1),w.writable===!1&&(this.writable=!1),w.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||Se.nextTick(p,this)}function p(w){w.end()}Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}})}}),lr=le({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(i,e){ae();var t=yt().codes.ERR_STREAM_PREMATURE_CLOSE;function r(n){var d=!1;return function(){if(!d){d=!0;for(var u=arguments.length,p=new Array(u),w=0;w<u;w++)p[w]=arguments[w];n.apply(this,p)}}}function a(){}function l(n){return n.setHeader&&typeof n.abort=="function"}function f(n,d,u){if(typeof d=="function")return f(n,null,d);d||(d={}),u=r(u||a);var p=d.readable||d.readable!==!1&&n.readable,w=d.writable||d.writable!==!1&&n.writable,_=function(){n.writable||c()},b=n._writableState&&n._writableState.finished,c=function(){w=!1,b=!0,p||u.call(n)},O=n._readableState&&n._readableState.endEmitted,T=function(){p=!1,O=!0,w||u.call(n)},x=function(A){u.call(n,A)},h=function(){var A;if(p&&!O)return(!n._readableState||!n._readableState.ended)&&(A=new t),u.call(n,A);if(w&&!b)return(!n._writableState||!n._writableState.ended)&&(A=new t),u.call(n,A)},E=function(){n.req.on("finish",c)};return l(n)?(n.on("complete",c),n.on("abort",h),n.req?E():n.on("request",E)):w&&!n._writableState&&(n.on("end",_),n.on("close",_)),n.on("end",T),n.on("finish",c),d.error!==!1&&n.on("error",x),n.on("close",h),function(){n.removeListener("complete",c),n.removeListener("abort",h),n.removeListener("request",E),n.req&&n.req.removeListener("finish",c),n.removeListener("end",_),n.removeListener("close",_),n.removeListener("finish",c),n.removeListener("end",T),n.removeListener("error",x),n.removeListener("close",h)}}e.exports=f}}),Zn=le({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/async_iterator.js"(i,e){ae();var t;function r(A,B,j){return B=a(B),B in A?Object.defineProperty(A,B,{value:j,enumerable:!0,configurable:!0,writable:!0}):A[B]=j,A}function a(A){var B=l(A,"string");return typeof B=="symbol"?B:String(B)}function l(A,B){if(typeof A!="object"||A===null)return A;var j=A[Symbol.toPrimitive];if(j!==void 0){var G=j.call(A,B);if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(A)}var f=lr(),n=Symbol("lastResolve"),d=Symbol("lastReject"),u=Symbol("error"),p=Symbol("ended"),w=Symbol("lastPromise"),_=Symbol("handlePromise"),b=Symbol("stream");function c(A,B){return{value:A,done:B}}function O(A){var B=A[n];if(B!==null){var j=A[b].read();j!==null&&(A[w]=null,A[n]=null,A[d]=null,B(c(j,!1)))}}function T(A){Se.nextTick(O,A)}function x(A,B){return function(j,G){A.then(function(){if(B[p]){j(c(void 0,!0));return}B[_](j,G)},G)}}var h=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[b]},next:function(){var B=this,j=this[u];if(j!==null)return Promise.reject(j);if(this[p])return Promise.resolve(c(void 0,!0));if(this[b].destroyed)return new Promise(function(se,F){Se.nextTick(function(){B[u]?F(B[u]):se(c(void 0,!0))})});var G=this[w],X;if(G)X=new Promise(x(G,this));else{var J=this[b].read();if(J!==null)return Promise.resolve(c(J,!1));X=new Promise(this[_])}return this[w]=X,X}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var B=this;return new Promise(function(j,G){B[b].destroy(null,function(X){if(X){G(X);return}j(c(void 0,!0))})})}),t),h),P=function(B){var j,G=Object.create(E,(j={},r(j,b,{value:B,writable:!0}),r(j,n,{value:null,writable:!0}),r(j,d,{value:null,writable:!0}),r(j,u,{value:null,writable:!0}),r(j,p,{value:B._readableState.endEmitted,writable:!0}),r(j,_,{value:function(J,se){var F=G[b].read();F?(G[w]=null,G[n]=null,G[d]=null,J(c(F,!1))):(G[n]=J,G[d]=se)},writable:!0}),j));return G[w]=null,f(B,function(X){if(X&&X.code!=="ERR_STREAM_PREMATURE_CLOSE"){var J=G[d];J!==null&&(G[w]=null,G[n]=null,G[d]=null,J(X)),G[u]=X;return}var se=G[n];se!==null&&(G[w]=null,G[n]=null,G[d]=null,se(c(void 0,!0))),G[p]=!0}),B.on("readable",T.bind(null,G)),G};e.exports=P}}),ei=le({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/from-browser.js"(i,e){ae(),e.exports=function(){throw new Error("Readable.from is not available in the browser")}}}),Zr=le({"node_modules/duplexify/node_modules/readable-stream/lib/_stream_readable.js"(i,e){ae(),e.exports=se;var t;se.ReadableState=J,Je().EventEmitter;var r=function(m,S){return m.listeners(S).length},a=zr(),l=Ue().Buffer,f=(typeof ze<"u"?ze:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function n(v){return l.from(v)}function d(v){return l.isBuffer(v)||v instanceof f}var u=Yr(),p;u&&u.debuglog?p=u.debuglog("stream"):p=function(){};var w=Xn(),_=Jr(),b=Xr(),c=b.getHighWaterMark,O=yt().codes,T=O.ERR_INVALID_ARG_TYPE,x=O.ERR_STREAM_PUSH_AFTER_EOF,h=O.ERR_METHOD_NOT_IMPLEMENTED,E=O.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,P,A,B;tt()(se,a);var j=_.errorOrDestroy,G=["error","close","destroy","pause","resume"];function X(v,m,S){if(typeof v.prependListener=="function")return v.prependListener(m,S);!v._events||!v._events[m]?v.on(m,S):Array.isArray(v._events[m])?v._events[m].unshift(S):v._events[m]=[S,v._events[m]]}function J(v,m,S){t=t||dt(),v=v||{},typeof S!="boolean"&&(S=m instanceof t),this.objectMode=!!v.objectMode,S&&(this.objectMode=this.objectMode||!!v.readableObjectMode),this.highWaterMark=c(this,v,"readableHighWaterMark",S),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=v.emitClose!==!1,this.autoDestroy=!!v.autoDestroy,this.destroyed=!1,this.defaultEncoding=v.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,v.encoding&&(P||(P=Jt().StringDecoder),this.decoder=new P(v.encoding),this.encoding=v.encoding)}function se(v){if(t=t||dt(),!(this instanceof se))return new se(v);var m=this instanceof t;this._readableState=new J(v,this,m),this.readable=!0,v&&(typeof v.read=="function"&&(this._read=v.read),typeof v.destroy=="function"&&(this._destroy=v.destroy)),a.call(this)}Object.defineProperty(se.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(m){this._readableState&&(this._readableState.destroyed=m)}}),se.prototype.destroy=_.destroy,se.prototype._undestroy=_.undestroy,se.prototype._destroy=function(v,m){m(v)},se.prototype.push=function(v,m){var S=this._readableState,M;return S.objectMode?M=!0:typeof v=="string"&&(m=m||S.defaultEncoding,m!==S.encoding&&(v=l.from(v,m),m=""),M=!0),F(this,v,m,!1,M)},se.prototype.unshift=function(v){return F(this,v,null,!0,!1)};function F(v,m,S,M,Y){p("readableAddChunk",m);var te=v._readableState;if(m===null)te.reading=!1,we(v,te);else{var C;if(Y||(C=Z(te,m)),C)j(v,C);else if(te.objectMode||m&&m.length>0)if(typeof m!="string"&&!te.objectMode&&Object.getPrototypeOf(m)!==l.prototype&&(m=n(m)),M)te.endEmitted?j(v,new E):K(v,te,m,!0);else if(te.ended)j(v,new x);else{if(te.destroyed)return!1;te.reading=!1,te.decoder&&!S?(m=te.decoder.write(m),te.objectMode||m.length!==0?K(v,te,m,!1):he(v,te)):K(v,te,m,!1)}else M||(te.reading=!1,he(v,te))}return!te.ended&&(te.length<te.highWaterMark||te.length===0)}function K(v,m,S,M){m.flowing&&m.length===0&&!m.sync?(m.awaitDrain=0,v.emit("data",S)):(m.length+=m.objectMode?1:S.length,M?m.buffer.unshift(S):m.buffer.push(S),m.needReadable&&_e(v)),he(v,m)}function Z(v,m){var S;return!d(m)&&typeof m!="string"&&m!==void 0&&!v.objectMode&&(S=new T("chunk",["string","Buffer","Uint8Array"],m)),S}se.prototype.isPaused=function(){return this._readableState.flowing===!1},se.prototype.setEncoding=function(v){P||(P=Jt().StringDecoder);var m=new P(v);this._readableState.decoder=m,this._readableState.encoding=this._readableState.decoder.encoding;for(var S=this._readableState.buffer.head,M="";S!==null;)M+=m.write(S.data),S=S.next;return this._readableState.buffer.clear(),M!==""&&this._readableState.buffer.push(M),this._readableState.length=M.length,this};var H=1073741824;function fe(v){return v>=H?v=H:(v--,v|=v>>>1,v|=v>>>2,v|=v>>>4,v|=v>>>8,v|=v>>>16,v++),v}function pe(v,m){return v<=0||m.length===0&&m.ended?0:m.objectMode?1:v!==v?m.flowing&&m.length?m.buffer.head.data.length:m.length:(v>m.highWaterMark&&(m.highWaterMark=fe(v)),v<=m.length?v:m.ended?m.length:(m.needReadable=!0,0))}se.prototype.read=function(v){p("read",v),v=parseInt(v,10);var m=this._readableState,S=v;if(v!==0&&(m.emittedReadable=!1),v===0&&m.needReadable&&((m.highWaterMark!==0?m.length>=m.highWaterMark:m.length>0)||m.ended))return p("read: emitReadable",m.length,m.ended),m.length===0&&m.ended?k(this):_e(this),null;if(v=pe(v,m),v===0&&m.ended)return m.length===0&&k(this),null;var M=m.needReadable;p("need readable",M),(m.length===0||m.length-v<m.highWaterMark)&&(M=!0,p("length less than watermark",M)),m.ended||m.reading?(M=!1,p("reading or ended",M)):M&&(p("do read"),m.reading=!0,m.sync=!0,m.length===0&&(m.needReadable=!0),this._read(m.highWaterMark),m.sync=!1,m.reading||(v=pe(S,m)));var Y;return v>0?Y=N(v,m):Y=null,Y===null?(m.needReadable=m.length<=m.highWaterMark,v=0):(m.length-=v,m.awaitDrain=0),m.length===0&&(m.ended||(m.needReadable=!0),S!==v&&m.ended&&k(this)),Y!==null&&this.emit("data",Y),Y};function we(v,m){if(p("onEofChunk"),!m.ended){if(m.decoder){var S=m.decoder.end();S&&S.length&&(m.buffer.push(S),m.length+=m.objectMode?1:S.length)}m.ended=!0,m.sync?_e(v):(m.needReadable=!1,m.emittedReadable||(m.emittedReadable=!0,re(v)))}}function _e(v){var m=v._readableState;p("emitReadable",m.needReadable,m.emittedReadable),m.needReadable=!1,m.emittedReadable||(p("emitReadable",m.flowing),m.emittedReadable=!0,Se.nextTick(re,v))}function re(v){var m=v._readableState;p("emitReadable_",m.destroyed,m.length,m.ended),!m.destroyed&&(m.length||m.ended)&&(v.emit("readable"),m.emittedReadable=!1),m.needReadable=!m.flowing&&!m.ended&&m.length<=m.highWaterMark,U(v)}function he(v,m){m.readingMore||(m.readingMore=!0,Se.nextTick(g,v,m))}function g(v,m){for(;!m.reading&&!m.ended&&(m.length<m.highWaterMark||m.flowing&&m.length===0);){var S=m.length;if(p("maybeReadMore read 0"),v.read(0),S===m.length)break}m.readingMore=!1}se.prototype._read=function(v){j(this,new h("_read()"))},se.prototype.pipe=function(v,m){var S=this,M=this._readableState;switch(M.pipesCount){case 0:M.pipes=v;break;case 1:M.pipes=[M.pipes,v];break;default:M.pipes.push(v);break}M.pipesCount+=1,p("pipe count=%d opts=%j",M.pipesCount,m);var Y=(!m||m.end!==!1)&&v!==Se.stdout&&v!==Se.stderr,te=Y?ce:o;M.endEmitted?Se.nextTick(te):S.once("end",te),v.on("unpipe",C);function C(s,R){p("onunpipe"),s===S&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,de())}function ce(){p("onend"),v.end()}var W=D(S);v.on("drain",W);var ne=!1;function de(){p("cleanup"),v.removeListener("close",Te),v.removeListener("finish",y),v.removeListener("drain",W),v.removeListener("error",Ee),v.removeListener("unpipe",C),S.removeListener("end",ce),S.removeListener("end",o),S.removeListener("data",oe),ne=!0,M.awaitDrain&&(!v._writableState||v._writableState.needDrain)&&W()}S.on("data",oe);function oe(s){p("ondata");var R=v.write(s);p("dest.write",R),R===!1&&((M.pipesCount===1&&M.pipes===v||M.pipesCount>1&&ee(M.pipes,v)!==-1)&&!ne&&(p("false write response, pause",M.awaitDrain),M.awaitDrain++),S.pause())}function Ee(s){p("onerror",s),o(),v.removeListener("error",Ee),r(v,"error")===0&&j(v,s)}X(v,"error",Ee);function Te(){v.removeListener("finish",y),o()}v.once("close",Te);function y(){p("onfinish"),v.removeListener("close",Te),o()}v.once("finish",y);function o(){p("unpipe"),S.unpipe(v)}return v.emit("pipe",S),M.flowing||(p("pipe resume"),S.resume()),v};function D(v){return function(){var S=v._readableState;p("pipeOnDrain",S.awaitDrain),S.awaitDrain&&S.awaitDrain--,S.awaitDrain===0&&r(v,"data")&&(S.flowing=!0,U(v))}}se.prototype.unpipe=function(v){var m=this._readableState,S={hasUnpiped:!1};if(m.pipesCount===0)return this;if(m.pipesCount===1)return v&&v!==m.pipes?this:(v||(v=m.pipes),m.pipes=null,m.pipesCount=0,m.flowing=!1,v&&v.emit("unpipe",this,S),this);if(!v){var M=m.pipes,Y=m.pipesCount;m.pipes=null,m.pipesCount=0,m.flowing=!1;for(var te=0;te<Y;te++)M[te].emit("unpipe",this,{hasUnpiped:!1});return this}var C=ee(m.pipes,v);return C===-1?this:(m.pipes.splice(C,1),m.pipesCount-=1,m.pipesCount===1&&(m.pipes=m.pipes[0]),v.emit("unpipe",this,S),this)},se.prototype.on=function(v,m){var S=a.prototype.on.call(this,v,m),M=this._readableState;return v==="data"?(M.readableListening=this.listenerCount("readable")>0,M.flowing!==!1&&this.resume()):v==="readable"&&!M.endEmitted&&!M.readableListening&&(M.readableListening=M.needReadable=!0,M.flowing=!1,M.emittedReadable=!1,p("on readable",M.length,M.reading),M.length?_e(this):M.reading||Se.nextTick(V,this)),S},se.prototype.addListener=se.prototype.on,se.prototype.removeListener=function(v,m){var S=a.prototype.removeListener.call(this,v,m);return v==="readable"&&Se.nextTick(z,this),S},se.prototype.removeAllListeners=function(v){var m=a.prototype.removeAllListeners.apply(this,arguments);return(v==="readable"||v===void 0)&&Se.nextTick(z,this),m};function z(v){var m=v._readableState;m.readableListening=v.listenerCount("readable")>0,m.resumeScheduled&&!m.paused?m.flowing=!0:v.listenerCount("data")>0&&v.resume()}function V(v){p("readable nexttick read 0"),v.read(0)}se.prototype.resume=function(){var v=this._readableState;return v.flowing||(p("resume"),v.flowing=!v.readableListening,ue(this,v)),v.paused=!1,this};function ue(v,m){m.resumeScheduled||(m.resumeScheduled=!0,Se.nextTick(ye,v,m))}function ye(v,m){p("resume",m.reading),m.reading||v.read(0),m.resumeScheduled=!1,v.emit("resume"),U(v),m.flowing&&!m.reading&&v.read(0)}se.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function U(v){var m=v._readableState;for(p("flow",m.flowing);m.flowing&&v.read()!==null;);}se.prototype.wrap=function(v){var m=this,S=this._readableState,M=!1;v.on("end",function(){if(p("wrapped end"),S.decoder&&!S.ended){var C=S.decoder.end();C&&C.length&&m.push(C)}m.push(null)}),v.on("data",function(C){if(p("wrapped data"),S.decoder&&(C=S.decoder.write(C)),!(S.objectMode&&C==null)&&!(!S.objectMode&&(!C||!C.length))){var ce=m.push(C);ce||(M=!0,v.pause())}});for(var Y in v)this[Y]===void 0&&typeof v[Y]=="function"&&(this[Y]=(function(ce){return function(){return v[ce].apply(v,arguments)}})(Y));for(var te=0;te<G.length;te++)v.on(G[te],this.emit.bind(this,G[te]));return this._read=function(C){p("wrapped _read",C),M&&(M=!1,v.resume())},this},typeof Symbol=="function"&&(se.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=Zn()),A(this)}),Object.defineProperty(se.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(se.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(se.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(m){this._readableState&&(this._readableState.flowing=m)}}),se._fromList=N,Object.defineProperty(se.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function N(v,m){if(m.length===0)return null;var S;return m.objectMode?S=m.buffer.shift():!v||v>=m.length?(m.decoder?S=m.buffer.join(""):m.buffer.length===1?S=m.buffer.first():S=m.buffer.concat(m.length),m.buffer.clear()):S=m.buffer.consume(v,m.decoder),S}function k(v){var m=v._readableState;p("endReadable",m.endEmitted),m.endEmitted||(m.ended=!0,Se.nextTick($,m,v))}function $(v,m){if(p("endReadableNT",v.endEmitted,v.length),!v.endEmitted&&v.length===0&&(v.endEmitted=!0,m.readable=!1,m.emit("end"),v.autoDestroy)){var S=m._writableState;(!S||S.autoDestroy&&S.finished)&&m.destroy()}}typeof Symbol=="function"&&(se.from=function(v,m){return B===void 0&&(B=ei()),B(se,v,m)});function ee(v,m){for(var S=0,M=v.length;S<M;S++)if(v[S]===m)return S;return-1}}}),en=le({"node_modules/duplexify/node_modules/readable-stream/lib/_stream_transform.js"(i,e){ae(),e.exports=u;var t=yt().codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,a=t.ERR_MULTIPLE_CALLBACK,l=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,f=t.ERR_TRANSFORM_WITH_LENGTH_0,n=dt();tt()(u,n);function d(_,b){var c=this._transformState;c.transforming=!1;var O=c.writecb;if(O===null)return this.emit("error",new a);c.writechunk=null,c.writecb=null,b!=null&&this.push(b),O(_);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function u(_){if(!(this instanceof u))return new u(_);n.call(this,_),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",p)}function p(){var _=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(b,c){w(_,b,c)}):w(this,null,null)}u.prototype.push=function(_,b){return this._transformState.needTransform=!1,n.prototype.push.call(this,_,b)},u.prototype._transform=function(_,b,c){c(new r("_transform()"))},u.prototype._write=function(_,b,c){var O=this._transformState;if(O.writecb=c,O.writechunk=_,O.writeencoding=b,!O.transforming){var T=this._readableState;(O.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},u.prototype._read=function(_){var b=this._transformState;b.writechunk!==null&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},u.prototype._destroy=function(_,b){n.prototype._destroy.call(this,_,function(c){b(c)})};function w(_,b,c){if(b)return _.emit("error",b);if(c!=null&&_.push(c),_._writableState.length)throw new f;if(_._transformState.transforming)throw new l;return _.push(null)}}}),ti=le({"node_modules/duplexify/node_modules/readable-stream/lib/_stream_passthrough.js"(i,e){ae(),e.exports=r;var t=en();tt()(r,t);function r(a){if(!(this instanceof r))return new r(a);t.call(this,a)}r.prototype._transform=function(a,l,f){f(null,a)}}}),ri=le({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/pipeline.js"(i,e){ae();var t;function r(c){var O=!1;return function(){O||(O=!0,c.apply(void 0,arguments))}}var a=yt().codes,l=a.ERR_MISSING_ARGS,f=a.ERR_STREAM_DESTROYED;function n(c){if(c)throw c}function d(c){return c.setHeader&&typeof c.abort=="function"}function u(c,O,T,x){x=r(x);var h=!1;c.on("close",function(){h=!0}),t===void 0&&(t=lr()),t(c,{readable:O,writable:T},function(P){if(P)return x(P);h=!0,x()});var E=!1;return function(P){if(!h&&!E){if(E=!0,d(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();x(P||new f("pipe"))}}}function p(c){c()}function w(c,O){return c.pipe(O)}function _(c){return!c.length||typeof c[c.length-1]!="function"?n:c.pop()}function b(){for(var c=arguments.length,O=new Array(c),T=0;T<c;T++)O[T]=arguments[T];var x=_(O);if(Array.isArray(O[0])&&(O=O[0]),O.length<2)throw new l("streams");var h,E=O.map(function(P,A){var B=A<O.length-1,j=A>0;return u(P,B,j,function(G){h||(h=G),G&&E.forEach(p),!B&&(E.forEach(p),x(h))})});return O.reduce(w)}e.exports=b}}),ni=le({"node_modules/duplexify/node_modules/readable-stream/readable-browser.js"(i,e){ae(),i=e.exports=Zr(),i.Stream=i,i.Readable=i,i.Writable=Qr(),i.Duplex=dt(),i.Transform=en(),i.PassThrough=ti(),i.finished=lr(),i.pipeline=ri()}}),ii=le({"node_modules/stream-shift/index.js"(i,e){ae(),e.exports=t;function t(a){var l=a._readableState;return l?l.objectMode||typeof a._duplexState=="number"?a.read():a.read(r(l)):null}function r(a){if(a.buffer.length){var l=a.bufferIndex||0;if(a.buffer.head)return a.buffer.head.data.length;if(a.buffer.length-l>0&&a.buffer[l])return a.buffer[l].length}return a.length}}}),oi=le({"node_modules/duplexify/index.js"(i,e){ae();var t=ni(),r=Kr(),a=tt(),l=ii(),f=ve.Buffer.from&&ve.Buffer.from!==Uint8Array.from?ve.Buffer.from([0]):new ve.Buffer([0]),n=function(c,O){c._corked?c.once("uncork",O):O()},d=function(c,O){c._autoDestroy&&c.destroy(O)},u=function(c,O){return function(T){T?d(c,T.message==="premature close"?null:T):O&&!c._ended&&c.end()}},p=function(c,O){if(!c||c._writableState&&c._writableState.finished)return O();if(c._writableState)return c.end(O);c.end(),O()},w=function(){},_=function(c){return new t.Readable({objectMode:!0,highWaterMark:16}).wrap(c)},b=function(c,O,T){if(!(this instanceof b))return new b(c,O,T);t.Duplex.call(this,T),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!T||T.autoDestroy!==!1,this._forwardDestroy=!T||T.destroy!==!1,this._forwardEnd=!T||T.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,c&&this.setWritable(c),O&&this.setReadable(O)};a(b,t.Duplex),b.obj=function(c,O,T){return T||(T={}),T.objectMode=!0,T.highWaterMark=16,new b(c,O,T)},b.prototype.cork=function(){++this._corked===1&&this.emit("cork")},b.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},b.prototype.setWritable=function(c){if(this._unwrite&&this._unwrite(),this.destroyed){c&&c.destroy&&c.destroy();return}if(c===null||c===!1){this.end();return}var O=this,T=r(c,{writable:!0,readable:!1},u(this,this._forwardEnd)),x=function(){var E=O._ondrain;O._ondrain=null,E&&E()},h=function(){O._writable.removeListener("drain",x),T()};this._unwrite&&Se.nextTick(x),this._writable=c,this._writable.on("drain",x),this._unwrite=h,this.uncork()},b.prototype.setReadable=function(c){if(this._unread&&this._unread(),this.destroyed){c&&c.destroy&&c.destroy();return}if(c===null||c===!1){this.push(null),this.resume();return}var O=this,T=r(c,{writable:!1,readable:!0},u(this)),x=function(){O._forward()},h=function(){O.push(null)},E=function(){O._readable2.removeListener("readable",x),O._readable2.removeListener("end",h),T()};this._drained=!0,this._readable=c,this._readable2=c._readableState?c:_(c),this._readable2.on("readable",x),this._readable2.on("end",h),this._unread=E,this._forward()},b.prototype._read=function(){this._drained=!0,this._forward()},b.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var c;this._drained&&(c=l(this._readable2))!==null;)this.destroyed||(this._drained=this.push(c));this._forwarding=!1}},b.prototype.destroy=function(c,O){if(O||(O=w),this.destroyed)return O(null);this.destroyed=!0;var T=this;Se.nextTick(function(){T._destroy(c),O(null)})},b.prototype._destroy=function(c){if(c){var O=this._ondrain;this._ondrain=null,O?O(c):this.emit("error",c)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},b.prototype._write=function(c,O,T){if(!this.destroyed){if(this._corked)return n(this,this._write.bind(this,c,O,T));if(c===f)return this._finish(T);if(!this._writable)return T();this._writable.write(c)===!1?this._ondrain=T:this.destroyed||T()}},b.prototype._finish=function(c){var O=this;this.emit("preend"),n(this,function(){p(O._forwardEnd&&O._writable,function(){O._writableState.prefinished===!1&&(O._writableState.prefinished=!0),O.emit("prefinish"),n(O,c)})})},b.prototype.end=function(c,O,T){return typeof c=="function"?this.end(null,null,c):typeof O=="function"?this.end(c,null,O):(this._ended=!0,c&&this.write(c),!this._writableState.ending&&!this._writableState.destroyed&&this.write(f),t.Writable.prototype.end.call(this,T))},e.exports=b}}),ai=le({"node_modules/pumpify/index.js"(i,e){ae();var t=Jn(),r=tt(),a=oi(),l=function(n){return n.length?Array.isArray(n[0])?n[0]:Array.prototype.slice.call(n):[]},f=function(n){var d=function(){var u=l(arguments);if(!(this instanceof d))return new d(u);a.call(this,null,null,n),u.length&&this.setPipeline(u)};return r(d,a),d.prototype.setPipeline=function(){var u=l(arguments),p=this,w=!1,_=u[0],b=u[u.length-1];b=b.readable?b:null,_=_.writable?_:null;var c=function(){u[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",c),this.on("prefinish",function(){w||p.cork()}),t(u,function(O){if(p.removeListener("close",c),O)return p.destroy(O.message==="premature close"?null:O);w=!0,p._autoDestroy===!1&&(p._autoDestroy=!0),p.uncork()}),this.destroyed)return c();this.setWritable(_),this.setReadable(b)},d};e.exports=f({autoDestroy:!1,destroy:!1}),e.exports.obj=f({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16}),e.exports.ctor=f}}),tn=le({"node_modules/has-symbols/shams.js"(i,e){ae(),e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},a=Symbol("test"),l=Object(a);if(typeof a=="string"||Object.prototype.toString.call(a)!=="[object Symbol]"||Object.prototype.toString.call(l)!=="[object Symbol]")return!1;var f=42;r[a]=f;for(var n in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var d=Object.getOwnPropertySymbols(r);if(d.length!==1||d[0]!==a||!Object.prototype.propertyIsEnumerable.call(r,a))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(r,a);if(u.value!==f||u.enumerable!==!0)return!1}return!0}}}),fr=le({"node_modules/has-tostringtag/shams.js"(i,e){ae();var t=tn();e.exports=function(){return t()&&!!Symbol.toStringTag}}}),rn=le({"node_modules/es-object-atoms/index.js"(i,e){ae(),e.exports=Object}}),si=le({"node_modules/es-errors/index.js"(i,e){ae(),e.exports=Error}}),li=le({"node_modules/es-errors/eval.js"(i,e){ae(),e.exports=EvalError}}),fi=le({"node_modules/es-errors/range.js"(i,e){ae(),e.exports=RangeError}}),ui=le({"node_modules/es-errors/ref.js"(i,e){ae(),e.exports=ReferenceError}}),nn=le({"node_modules/es-errors/syntax.js"(i,e){ae(),e.exports=SyntaxError}}),Bt=le({"node_modules/es-errors/type.js"(i,e){ae(),e.exports=TypeError}}),ci=le({"node_modules/es-errors/uri.js"(i,e){ae(),e.exports=URIError}}),di=le({"node_modules/math-intrinsics/abs.js"(i,e){ae(),e.exports=Math.abs}}),hi=le({"node_modules/math-intrinsics/floor.js"(i,e){ae(),e.exports=Math.floor}}),pi=le({"node_modules/math-intrinsics/max.js"(i,e){ae(),e.exports=Math.max}}),yi=le({"node_modules/math-intrinsics/min.js"(i,e){ae(),e.exports=Math.min}}),bi=le({"node_modules/math-intrinsics/pow.js"(i,e){ae(),e.exports=Math.pow}}),gi=le({"node_modules/math-intrinsics/round.js"(i,e){ae(),e.exports=Math.round}}),wi=le({"node_modules/math-intrinsics/isNaN.js"(i,e){ae(),e.exports=Number.isNaN||function(r){return r!==r}}}),_i=le({"node_modules/math-intrinsics/sign.js"(i,e){ae();var t=wi();e.exports=function(a){return t(a)||a===0?a:a<0?-1:1}}}),mi=le({"node_modules/gopd/gOPD.js"(i,e){ae(),e.exports=Object.getOwnPropertyDescriptor}}),Ot=le({"node_modules/gopd/index.js"(i,e){ae();var t=mi();if(t)try{t([],"length")}catch{t=null}e.exports=t}}),Nt=le({"node_modules/es-define-property/index.js"(i,e){ae();var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}e.exports=t}}),vi=le({"node_modules/has-symbols/index.js"(i,e){ae();var t=typeof Symbol<"u"&&Symbol,r=tn();e.exports=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()}}}),on=le({"node_modules/get-proto/Reflect.getPrototypeOf.js"(i,e){ae(),e.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null}}),an=le({"node_modules/get-proto/Object.getPrototypeOf.js"(i,e){ae();var t=rn();e.exports=t.getPrototypeOf||null}}),Ei=le({"node_modules/function-bind/implementation.js"(i,e){ae();var t="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,a=Math.max,l="[object Function]",f=function(p,w){for(var _=[],b=0;b<p.length;b+=1)_[b]=p[b];for(var c=0;c<w.length;c+=1)_[c+p.length]=w[c];return _},n=function(p,w){for(var _=[],b=w,c=0;b<p.length;b+=1,c+=1)_[c]=p[b];return _},d=function(u,p){for(var w="",_=0;_<u.length;_+=1)w+=u[_],_+1<u.length&&(w+=p);return w};e.exports=function(p){var w=this;if(typeof w!="function"||r.apply(w)!==l)throw new TypeError(t+w);for(var _=n(arguments,1),b,c=function(){if(this instanceof b){var E=w.apply(this,f(_,arguments));return Object(E)===E?E:this}return w.apply(p,f(_,arguments))},O=a(0,w.length-_.length),T=[],x=0;x<O;x++)T[x]="$"+x;if(b=Function("binder","return function ("+d(T,",")+"){ return binder.apply(this,arguments); }")(c),w.prototype){var h=function(){};h.prototype=w.prototype,b.prototype=new h,h.prototype=null}return b}}}),xt=le({"node_modules/function-bind/index.js"(i,e){ae();var t=Ei();e.exports=Function.prototype.bind||t}}),ur=le({"node_modules/call-bind-apply-helpers/functionCall.js"(i,e){ae(),e.exports=Function.prototype.call}}),sn=le({"node_modules/call-bind-apply-helpers/functionApply.js"(i,e){ae(),e.exports=Function.prototype.apply}}),Si=le({"node_modules/call-bind-apply-helpers/reflectApply.js"(i,e){ae(),e.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply}}),Ai=le({"node_modules/call-bind-apply-helpers/actualApply.js"(i,e){ae();var t=xt(),r=sn(),a=ur(),l=Si();e.exports=l||t.call(a,r)}}),Ri=le({"node_modules/call-bind-apply-helpers/index.js"(i,e){ae();var t=xt(),r=Bt(),a=ur(),l=Ai();e.exports=function(n){if(n.length<1||typeof n[0]!="function")throw new r("a function is required");return l(t,a,n)}}}),Ii=le({"node_modules/dunder-proto/get.js"(i,e){ae();var t=Ri(),r=Ot(),a;try{a=[].__proto__===Array.prototype}catch(d){if(!d||typeof d!="object"||!("code"in d)||d.code!=="ERR_PROTO_ACCESS")throw d}var l=!!a&&r&&r(Object.prototype,"__proto__"),f=Object,n=f.getPrototypeOf;e.exports=l&&typeof l.get=="function"?t([l.get]):typeof n=="function"?(function(u){return n(u==null?u:f(u))}):!1}}),Ti=le({"node_modules/get-proto/index.js"(i,e){ae();var t=on(),r=an(),a=Ii();e.exports=t?function(f){return t(f)}:r?function(f){if(!f||typeof f!="object"&&typeof f!="function")throw new TypeError("getProto: not an object");return r(f)}:a?function(f){return a(f)}:null}}),Bi=le({"node_modules/hasown/index.js"(i,e){ae();var t=Function.prototype.call,r=Object.prototype.hasOwnProperty,a=xt();e.exports=a.call(t,r)}}),cr=le({"node_modules/get-intrinsic/index.js"(i,e){ae();var t,r=rn(),a=si(),l=li(),f=fi(),n=ui(),d=nn(),u=Bt(),p=ci(),w=di(),_=hi(),b=pi(),c=yi(),O=bi(),T=gi(),x=_i(),h=Function,E=function($){try{return h('"use strict"; return ('+$+").constructor;")()}catch{}},P=Ot(),A=Nt(),B=function(){throw new u},j=P?(function(){try{return arguments.callee,B}catch{try{return P(arguments,"callee").get}catch{return B}}})():B,G=vi()(),X=Ti(),J=an(),se=on(),F=sn(),K=ur(),Z={},H=typeof Uint8Array>"u"||!X?t:X(Uint8Array),fe={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":G&&X?X([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":Z,"%AsyncGenerator%":Z,"%AsyncGeneratorFunction%":Z,"%AsyncIteratorPrototype%":Z,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":l,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":Z,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":G&&X?X(X([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!G||!X?t:X(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":r,"%Object.getOwnPropertyDescriptor%":P,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":f,"%ReferenceError%":n,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!G||!X?t:X(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":G&&X?X(""[Symbol.iterator]()):t,"%Symbol%":G?Symbol:t,"%SyntaxError%":d,"%ThrowTypeError%":j,"%TypedArray%":H,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":K,"%Function.prototype.apply%":F,"%Object.defineProperty%":A,"%Object.getPrototypeOf%":J,"%Math.abs%":w,"%Math.floor%":_,"%Math.max%":b,"%Math.min%":c,"%Math.pow%":O,"%Math.round%":T,"%Math.sign%":x,"%Reflect.getPrototypeOf%":se};if(X)try{null.error}catch($){pe=X(X($)),fe["%Error.prototype%"]=pe}var pe,we=function $(ee){var v;if(ee==="%AsyncFunction%")v=E("async function () {}");else if(ee==="%GeneratorFunction%")v=E("function* () {}");else if(ee==="%AsyncGeneratorFunction%")v=E("async function* () {}");else if(ee==="%AsyncGenerator%"){var m=$("%AsyncGeneratorFunction%");m&&(v=m.prototype)}else if(ee==="%AsyncIteratorPrototype%"){var S=$("%AsyncGenerator%");S&&X&&(v=X(S.prototype))}return fe[ee]=v,v},_e={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},re=xt(),he=Bi(),g=re.call(K,Array.prototype.concat),D=re.call(F,Array.prototype.splice),z=re.call(K,String.prototype.replace),V=re.call(K,String.prototype.slice),ue=re.call(K,RegExp.prototype.exec),ye=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U=/\\(\\)?/g,N=function(ee){var v=V(ee,0,1),m=V(ee,-1);if(v==="%"&&m!=="%")throw new d("invalid intrinsic syntax, expected closing `%`");if(m==="%"&&v!=="%")throw new d("invalid intrinsic syntax, expected opening `%`");var S=[];return z(ee,ye,function(M,Y,te,C){S[S.length]=te?z(C,U,"$1"):Y||M}),S},k=function(ee,v){var m=ee,S;if(he(_e,m)&&(S=_e[m],m="%"+S[0]+"%"),he(fe,m)){var M=fe[m];if(M===Z&&(M=we(m)),typeof M>"u"&&!v)throw new u("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:S,name:m,value:M}}throw new d("intrinsic "+ee+" does not exist!")};e.exports=function(ee,v){if(typeof ee!="string"||ee.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof v!="boolean")throw new u('"allowMissing" argument must be a boolean');if(ue(/^%?[^%]*%?$/,ee)===null)throw new d("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var m=N(ee),S=m.length>0?m[0]:"",M=k("%"+S+"%",v),Y=M.name,te=M.value,C=!1,ce=M.alias;ce&&(S=ce[0],D(m,g([0,1],ce)));for(var W=1,ne=!0;W<m.length;W+=1){var de=m[W],oe=V(de,0,1),Ee=V(de,-1);if((oe==='"'||oe==="'"||oe==="`"||Ee==='"'||Ee==="'"||Ee==="`")&&oe!==Ee)throw new d("property names with quotes must have matching quotes");if((de==="constructor"||!ne)&&(C=!0),S+="."+de,Y="%"+S+"%",he(fe,Y))te=fe[Y];else if(te!=null){if(!(de in te)){if(!v)throw new u("base intrinsic for "+ee+" exists, but the property is not available.");return}if(P&&W+1>=m.length){var Te=P(te,de);ne=!!Te,ne&&"get"in Te&&!("originalValue"in Te.get)?te=Te.get:te=te[de]}else ne=he(te,de),te=te[de];ne&&!C&&(fe[Y]=te)}}return te}}}),Oi=le({"node_modules/define-data-property/index.js"(i,e){ae();var t=Nt(),r=nn(),a=Bt(),l=Ot();e.exports=function(n,d,u){if(!n||typeof n!="object"&&typeof n!="function")throw new a("`obj` must be an object or a function`");if(typeof d!="string"&&typeof d!="symbol")throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new a("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,w=arguments.length>4?arguments[4]:null,_=arguments.length>5?arguments[5]:null,b=arguments.length>6?arguments[6]:!1,c=!!l&&l(n,d);if(t)t(n,d,{configurable:_===null&&c?c.configurable:!_,enumerable:p===null&&c?c.enumerable:!p,value:u,writable:w===null&&c?c.writable:!w});else if(b||!p&&!w&&!_)n[d]=u;else throw new r("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}}),xi=le({"node_modules/has-property-descriptors/index.js"(i,e){ae();var t=Nt(),r=function(){return!!t};r.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},e.exports=r}}),Pi=le({"node_modules/set-function-length/index.js"(i,e){ae();var t=cr(),r=Oi(),a=xi()(),l=Ot(),f=Bt(),n=t("%Math.floor%");e.exports=function(u,p){if(typeof u!="function")throw new f("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||n(p)!==p)throw new f("`length` must be a positive 32-bit integer");var w=arguments.length>2&&!!arguments[2],_=!0,b=!0;if("length"in u&&l){var c=l(u,"length");c&&!c.configurable&&(_=!1),c&&!c.writable&&(b=!1)}return(_||b||!w)&&(a?r(u,"length",p,!0,!0):r(u,"length",p)),u}}}),ln=le({"node_modules/call-bind/index.js"(i,e){ae();var t=xt(),r=cr(),a=Pi(),l=Bt(),f=r("%Function.prototype.apply%"),n=r("%Function.prototype.call%"),d=r("%Reflect.apply%",!0)||t.call(n,f),u=Nt(),p=r("%Math.max%");e.exports=function(b){if(typeof b!="function")throw new l("a function is required");var c=d(t,n,arguments);return a(c,1+p(0,b.length-(arguments.length-1)),!0)};var w=function(){return d(t,f,arguments)};u?u(e.exports,"apply",{value:w}):e.exports.apply=w}}),fn=le({"node_modules/call-bind/callBound.js"(i,e){ae();var t=cr(),r=ln(),a=r(t("String.prototype.indexOf"));e.exports=function(f,n){var d=t(f,!!n);return typeof d=="function"&&a(f,".prototype.")>-1?r(d):d}}}),Mi=le({"node_modules/is-arguments/index.js"(i,e){ae();var t=fr()(),r=fn(),a=r("Object.prototype.toString"),l=function(u){return t&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:a(u)==="[object Arguments]"},f=function(u){return l(u)?!0:u!==null&&typeof u=="object"&&typeof u.length=="number"&&u.length>=0&&a(u)!=="[object Array]"&&a(u.callee)==="[object Function]"},n=(function(){return l(arguments)})();l.isLegacyArguments=f,e.exports=n?l:f}}),Li=le({"node_modules/is-generator-function/index.js"(i,e){ae();var t=Object.prototype.toString,r=Function.prototype.toString,a=/^\s*(?:function)?\*/,l=fr()(),f=Object.getPrototypeOf,n=function(){if(!l)return!1;try{return Function("return function*() {}")()}catch{}},d;e.exports=function(p){if(typeof p!="function")return!1;if(a.test(r.call(p)))return!0;if(!l){var w=t.call(p);return w==="[object GeneratorFunction]"}if(!f)return!1;if(typeof d>"u"){var _=n();d=_?f(_):!1}return f(p)===d}}}),ki=le({"node_modules/is-callable/index.js"(i,e){ae();var t=Function.prototype.toString,r=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,a,l;if(typeof r=="function"&&typeof Object.defineProperty=="function")try{a=Object.defineProperty({},"length",{get:function(){throw l}}),l={},r(function(){throw 42},null,a)}catch(P){P!==l&&(r=null)}else r=null;var f=/^\s*class\b/,n=function(A){try{var B=t.call(A);return f.test(B)}catch{return!1}},d=function(A){try{return n(A)?!1:(t.call(A),!0)}catch{return!1}},u=Object.prototype.toString,p="[object Object]",w="[object Function]",_="[object GeneratorFunction]",b="[object HTMLAllCollection]",c="[object HTML document.all class]",O="[object HTMLCollection]",T=typeof Symbol=="function"&&!!Symbol.toStringTag,x=!(0 in[,]),h=function(){return!1};typeof document=="object"&&(E=document.all,u.call(E)===u.call(document.all)&&(h=function(A){if((x||!A)&&(typeof A>"u"||typeof A=="object"))try{var B=u.call(A);return(B===b||B===c||B===O||B===p)&&A("")==null}catch{}return!1}));var E;e.exports=r?function(A){if(h(A))return!0;if(!A||typeof A!="function"&&typeof A!="object")return!1;try{r(A,null,a)}catch(B){if(B!==l)return!1}return!n(A)&&d(A)}:function(A){if(h(A))return!0;if(!A||typeof A!="function"&&typeof A!="object")return!1;if(T)return d(A);if(n(A))return!1;var B=u.call(A);return B!==w&&B!==_&&!/^\[object HTML/.test(B)?!1:d(A)}}}),ji=le({"node_modules/for-each/index.js"(i,e){ae();var t=ki(),r=Object.prototype.toString,a=Object.prototype.hasOwnProperty,l=function(p,w,_){for(var b=0,c=p.length;b<c;b++)a.call(p,b)&&(_==null?w(p[b],b,p):w.call(_,p[b],b,p))},f=function(p,w,_){for(var b=0,c=p.length;b<c;b++)_==null?w(p.charAt(b),b,p):w.call(_,p.charAt(b),b,p)},n=function(p,w,_){for(var b in p)a.call(p,b)&&(_==null?w(p[b],b,p):w.call(_,p[b],b,p))},d=function(p,w,_){if(!t(w))throw new TypeError("iterator must be a function");var b;arguments.length>=3&&(b=_),r.call(p)==="[object Array]"?l(p,w,b):typeof p=="string"?f(p,w,b):n(p,w,b)};e.exports=d}}),Ni=le({"node_modules/possible-typed-array-names/index.js"(i,e){ae(),e.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]}}),Di=le({"node_modules/available-typed-arrays/index.js"(i,e){ae();var t=Ni(),r=typeof globalThis>"u"?ze:globalThis;e.exports=function(){for(var l=[],f=0;f<t.length;f++)typeof r[t[f]]=="function"&&(l[l.length]=t[f]);return l}}}),un=le({"node_modules/which-typed-array/index.js"(i,e){ae();var t=ji(),r=Di(),a=ln(),l=fn(),f=Ot(),n=l("Object.prototype.toString"),d=fr()(),u=typeof globalThis>"u"?ze:globalThis,p=r(),w=l("String.prototype.slice"),_=Object.getPrototypeOf,b=l("Array.prototype.indexOf",!0)||function(h,E){for(var P=0;P<h.length;P+=1)if(h[P]===E)return P;return-1},c={__proto__:null};d&&f&&_?t(p,function(x){var h=new u[x];if(Symbol.toStringTag in h){var E=_(h),P=f(E,Symbol.toStringTag);if(!P){var A=_(E);P=f(A,Symbol.toStringTag)}c["$"+x]=a(P.get)}}):t(p,function(x){var h=new u[x],E=h.slice||h.set;E&&(c["$"+x]=a(E))});var O=function(h){var E=!1;return t(c,function(P,A){if(!E)try{"$"+P(h)===A&&(E=w(A,1))}catch{}}),E},T=function(h){var E=!1;return t(c,function(P,A){if(!E)try{P(h),E=w(A,1)}catch{}}),E};e.exports=function(h){if(!h||typeof h!="object")return!1;if(!d){var E=w(n(h),8,-1);return b(p,E)>-1?E:E!=="Object"?!1:T(h)}return f?O(h):null}}}),Ci=le({"node_modules/is-typed-array/index.js"(i,e){ae();var t=un();e.exports=function(a){return!!t(a)}}}),Ui=le({"node_modules/util/support/types.js"(i){ae();var e=Mi(),t=Li(),r=un(),a=Ci();function l(C){return C.call.bind(C)}var f=typeof BigInt<"u",n=typeof Symbol<"u",d=l(Object.prototype.toString),u=l(Number.prototype.valueOf),p=l(String.prototype.valueOf),w=l(Boolean.prototype.valueOf);f&&(_=l(BigInt.prototype.valueOf));var _;n&&(b=l(Symbol.prototype.valueOf));var b;function c(C,ce){if(typeof C!="object")return!1;try{return ce(C),!0}catch{return!1}}i.isArgumentsObject=e,i.isGeneratorFunction=t,i.isTypedArray=a;function O(C){return typeof Promise<"u"&&C instanceof Promise||C!==null&&typeof C=="object"&&typeof C.then=="function"&&typeof C.catch=="function"}i.isPromise=O;function T(C){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(C):a(C)||D(C)}i.isArrayBufferView=T;function x(C){return r(C)==="Uint8Array"}i.isUint8Array=x;function h(C){return r(C)==="Uint8ClampedArray"}i.isUint8ClampedArray=h;function E(C){return r(C)==="Uint16Array"}i.isUint16Array=E;function P(C){return r(C)==="Uint32Array"}i.isUint32Array=P;function A(C){return r(C)==="Int8Array"}i.isInt8Array=A;function B(C){return r(C)==="Int16Array"}i.isInt16Array=B;function j(C){return r(C)==="Int32Array"}i.isInt32Array=j;function G(C){return r(C)==="Float32Array"}i.isFloat32Array=G;function X(C){return r(C)==="Float64Array"}i.isFloat64Array=X;function J(C){return r(C)==="BigInt64Array"}i.isBigInt64Array=J;function se(C){return r(C)==="BigUint64Array"}i.isBigUint64Array=se;function F(C){return d(C)==="[object Map]"}F.working=typeof Map<"u"&&F(new Map);function K(C){return typeof Map>"u"?!1:F.working?F(C):C instanceof Map}i.isMap=K;function Z(C){return d(C)==="[object Set]"}Z.working=typeof Set<"u"&&Z(new Set);function H(C){return typeof Set>"u"?!1:Z.working?Z(C):C instanceof Set}i.isSet=H;function fe(C){return d(C)==="[object WeakMap]"}fe.working=typeof WeakMap<"u"&&fe(new WeakMap);function pe(C){return typeof WeakMap>"u"?!1:fe.working?fe(C):C instanceof WeakMap}i.isWeakMap=pe;function we(C){return d(C)==="[object WeakSet]"}we.working=typeof WeakSet<"u"&&we(new WeakSet);function _e(C){return we(C)}i.isWeakSet=_e;function re(C){return d(C)==="[object ArrayBuffer]"}re.working=typeof ArrayBuffer<"u"&&re(new ArrayBuffer);function he(C){return typeof ArrayBuffer>"u"?!1:re.working?re(C):C instanceof ArrayBuffer}i.isArrayBuffer=he;function g(C){return d(C)==="[object DataView]"}g.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&g(new DataView(new ArrayBuffer(1),0,1));function D(C){return typeof DataView>"u"?!1:g.working?g(C):C instanceof DataView}i.isDataView=D;var z=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function V(C){return d(C)==="[object SharedArrayBuffer]"}function ue(C){return typeof z>"u"?!1:(typeof V.working>"u"&&(V.working=V(new z)),V.working?V(C):C instanceof z)}i.isSharedArrayBuffer=ue;function ye(C){return d(C)==="[object AsyncFunction]"}i.isAsyncFunction=ye;function U(C){return d(C)==="[object Map Iterator]"}i.isMapIterator=U;function N(C){return d(C)==="[object Set Iterator]"}i.isSetIterator=N;function k(C){return d(C)==="[object Generator]"}i.isGeneratorObject=k;function $(C){return d(C)==="[object WebAssembly.Module]"}i.isWebAssemblyCompiledModule=$;function ee(C){return c(C,u)}i.isNumberObject=ee;function v(C){return c(C,p)}i.isStringObject=v;function m(C){return c(C,w)}i.isBooleanObject=m;function S(C){return f&&c(C,_)}i.isBigIntObject=S;function M(C){return n&&c(C,b)}i.isSymbolObject=M;function Y(C){return ee(C)||v(C)||m(C)||S(C)||M(C)}i.isBoxedPrimitive=Y;function te(C){return typeof Uint8Array<"u"&&(he(C)||ue(C))}i.isAnyArrayBuffer=te,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(C){Object.defineProperty(i,C,{enumerable:!1,value:function(){throw new Error(C+" is not supported in userland")}})})}}),Fi=le({"node_modules/util/support/isBufferBrowser.js"(i,e){ae(),e.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}}}),Wi=le({"node_modules/util/util.js"(i){ae();var e=Object.getOwnPropertyDescriptors||function(D){for(var z=Object.keys(D),V={},ue=0;ue<z.length;ue++)V[z[ue]]=Object.getOwnPropertyDescriptor(D,z[ue]);return V},t=/%[sdj%]/g;i.format=function(g){if(!A(g)){for(var D=[],z=0;z<arguments.length;z++)D.push(f(arguments[z]));return D.join(" ")}for(var z=1,V=arguments,ue=V.length,ye=String(g).replace(t,function(N){if(N==="%%")return"%";if(z>=ue)return N;switch(N){case"%s":return String(V[z++]);case"%d":return Number(V[z++]);case"%j":try{return JSON.stringify(V[z++])}catch{return"[Circular]"}default:return N}}),U=V[z];z<ue;U=V[++z])h(U)||!X(U)?ye+=" "+U:ye+=" "+f(U);return ye},i.deprecate=function(g,D){if(typeof Se<"u"&&Se.noDeprecation===!0)return g;if(typeof Se>"u")return function(){return i.deprecate(g,D).apply(this,arguments)};var z=!1;function V(){if(!z){if(Se.throwDeprecation)throw new Error(D);Se.traceDeprecation?console.trace(D):console.error(D),z=!0}return g.apply(this,arguments)}return V};var r={},a=/^$/;Se.env.NODE_DEBUG&&(l=Se.env.NODE_DEBUG,l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i"));var l;i.debuglog=function(g){if(g=g.toUpperCase(),!r[g])if(a.test(g)){var D=Se.pid;r[g]=function(){var z=i.format.apply(i,arguments);console.error("%s %d: %s",g,D,z)}}else r[g]=function(){};return r[g]};function f(g,D){var z={seen:[],stylize:d};return arguments.length>=3&&(z.depth=arguments[2]),arguments.length>=4&&(z.colors=arguments[3]),x(D)?z.showHidden=D:D&&i._extend(z,D),j(z.showHidden)&&(z.showHidden=!1),j(z.depth)&&(z.depth=2),j(z.colors)&&(z.colors=!1),j(z.customInspect)&&(z.customInspect=!0),z.colors&&(z.stylize=n),p(z,g,z.depth)}i.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function n(g,D){var z=f.styles[D];return z?"\x1B["+f.colors[z][0]+"m"+g+"\x1B["+f.colors[z][1]+"m":g}function d(g,D){return g}function u(g){var D={};return g.forEach(function(z,V){D[z]=!0}),D}function p(g,D,z){if(g.customInspect&&D&&F(D.inspect)&&D.inspect!==i.inspect&&!(D.constructor&&D.constructor.prototype===D)){var V=D.inspect(z,g);return A(V)||(V=p(g,V,z)),V}var ue=w(g,D);if(ue)return ue;var ye=Object.keys(D),U=u(ye);if(g.showHidden&&(ye=Object.getOwnPropertyNames(D)),se(D)&&(ye.indexOf("message")>=0||ye.indexOf("description")>=0))return _(D);if(ye.length===0){if(F(D)){var N=D.name?": "+D.name:"";return g.stylize("[Function"+N+"]","special")}if(G(D))return g.stylize(RegExp.prototype.toString.call(D),"regexp");if(J(D))return g.stylize(Date.prototype.toString.call(D),"date");if(se(D))return _(D)}var k="",$=!1,ee=["{","}"];if(T(D)&&($=!0,ee=["[","]"]),F(D)){var v=D.name?": "+D.name:"";k=" [Function"+v+"]"}if(G(D)&&(k=" "+RegExp.prototype.toString.call(D)),J(D)&&(k=" "+Date.prototype.toUTCString.call(D)),se(D)&&(k=" "+_(D)),ye.length===0&&(!$||D.length==0))return ee[0]+k+ee[1];if(z<0)return G(D)?g.stylize(RegExp.prototype.toString.call(D),"regexp"):g.stylize("[Object]","special");g.seen.push(D);var m;return $?m=b(g,D,z,U,ye):m=ye.map(function(S){return c(g,D,z,U,S,$)}),g.seen.pop(),O(m,k,ee)}function w(g,D){if(j(D))return g.stylize("undefined","undefined");if(A(D)){var z="'"+JSON.stringify(D).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return g.stylize(z,"string")}if(P(D))return g.stylize(""+D,"number");if(x(D))return g.stylize(""+D,"boolean");if(h(D))return g.stylize("null","null")}function _(g){return"["+Error.prototype.toString.call(g)+"]"}function b(g,D,z,V,ue){for(var ye=[],U=0,N=D.length;U<N;++U)we(D,String(U))?ye.push(c(g,D,z,V,String(U),!0)):ye.push("");return ue.forEach(function(k){k.match(/^\d+$/)||ye.push(c(g,D,z,V,k,!0))}),ye}function c(g,D,z,V,ue,ye){var U,N,k;if(k=Object.getOwnPropertyDescriptor(D,ue)||{value:D[ue]},k.get?k.set?N=g.stylize("[Getter/Setter]","special"):N=g.stylize("[Getter]","special"):k.set&&(N=g.stylize("[Setter]","special")),we(V,ue)||(U="["+ue+"]"),N||(g.seen.indexOf(k.value)<0?(h(z)?N=p(g,k.value,null):N=p(g,k.value,z-1),N.indexOf(`
`)>-1&&(ye?N=N.split(`
`).map(function($){return"  "+$}).join(`
`).slice(2):N=`
`+N.split(`
`).map(function($){return"   "+$}).join(`
`))):N=g.stylize("[Circular]","special")),j(U)){if(ye&&ue.match(/^\d+$/))return N;U=JSON.stringify(""+ue),U.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(U=U.slice(1,-1),U=g.stylize(U,"name")):(U=U.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),U=g.stylize(U,"string"))}return U+": "+N}function O(g,D,z){var V=g.reduce(function(ue,ye){return ye.indexOf(`
`)>=0,ue+ye.replace(/\u001b\[\d\d?m/g,"").length+1},0);return V>60?z[0]+(D===""?"":D+`
 `)+" "+g.join(`,
  `)+" "+z[1]:z[0]+D+" "+g.join(", ")+" "+z[1]}i.types=Ui();function T(g){return Array.isArray(g)}i.isArray=T;function x(g){return typeof g=="boolean"}i.isBoolean=x;function h(g){return g===null}i.isNull=h;function E(g){return g==null}i.isNullOrUndefined=E;function P(g){return typeof g=="number"}i.isNumber=P;function A(g){return typeof g=="string"}i.isString=A;function B(g){return typeof g=="symbol"}i.isSymbol=B;function j(g){return g===void 0}i.isUndefined=j;function G(g){return X(g)&&Z(g)==="[object RegExp]"}i.isRegExp=G,i.types.isRegExp=G;function X(g){return typeof g=="object"&&g!==null}i.isObject=X;function J(g){return X(g)&&Z(g)==="[object Date]"}i.isDate=J,i.types.isDate=J;function se(g){return X(g)&&(Z(g)==="[object Error]"||g instanceof Error)}i.isError=se,i.types.isNativeError=se;function F(g){return typeof g=="function"}i.isFunction=F;function K(g){return g===null||typeof g=="boolean"||typeof g=="number"||typeof g=="string"||typeof g=="symbol"||typeof g>"u"}i.isPrimitive=K,i.isBuffer=Fi();function Z(g){return Object.prototype.toString.call(g)}function H(g){return g<10?"0"+g.toString(10):g.toString(10)}var fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function pe(){var g=new Date,D=[H(g.getHours()),H(g.getMinutes()),H(g.getSeconds())].join(":");return[g.getDate(),fe[g.getMonth()],D].join(" ")}i.log=function(){console.log("%s - %s",pe(),i.format.apply(i,arguments))},i.inherits=tt(),i._extend=function(g,D){if(!D||!X(D))return g;for(var z=Object.keys(D),V=z.length;V--;)g[z[V]]=D[z[V]];return g};function we(g,D){return Object.prototype.hasOwnProperty.call(g,D)}var _e=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;i.promisify=function(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');if(_e&&D[_e]){var z=D[_e];if(typeof z!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(z,_e,{value:z,enumerable:!1,writable:!1,configurable:!0}),z}function z(){for(var V,ue,ye=new Promise(function(k,$){V=k,ue=$}),U=[],N=0;N<arguments.length;N++)U.push(arguments[N]);U.push(function(k,$){k?ue(k):V($)});try{D.apply(this,U)}catch(k){ue(k)}return ye}return Object.setPrototypeOf(z,Object.getPrototypeOf(D)),_e&&Object.defineProperty(z,_e,{value:z,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(z,e(D))},i.promisify.custom=_e;function re(g,D){if(!g){var z=new Error("Promise was rejected with a falsy value");z.reason=g,g=z}return D(g)}function he(g){if(typeof g!="function")throw new TypeError('The "original" argument must be of type Function');function D(){for(var z=[],V=0;V<arguments.length;V++)z.push(arguments[V]);var ue=z.pop();if(typeof ue!="function")throw new TypeError("The last argument must be of type Function");var ye=this,U=function(){return ue.apply(ye,arguments)};g.apply(this,z).then(function(N){Se.nextTick(U.bind(null,null,N))},function(N){Se.nextTick(re.bind(null,N,U))})}return Object.setPrototypeOf(D,Object.getPrototypeOf(g)),Object.defineProperties(D,e(g)),D}i.callbackify=he}}),qi=le({"node_modules/stream-skip/index.js"(i,e){ae();var t=pt(),r=Wi(),a=t.Transform;function l(f){if(!(this instanceof l))return new l(f);this._toSkip=f.skip,a.call(this,f)}r.inherits(l,a),l.prototype._transform=function(f,n,d){this._toSkip==0?this.push(f):this._toSkip>f.length?this._toSkip-=f.length:(this._toSkip!==f.length&&this.push(f.slice(this._toSkip)),this._toSkip=0),d()},e.exports=l}});ae();ae();var cn=Ge(pt()),dn=Ge(ai());ae();var hn=Ge(pt());function pn(i,e){const t=[];let r;i.on("data",a=>t.push(a)),i.on("end",()=>{r||(r=!0,e(null,ve.Buffer.concat(t)))}),i.on("error",a=>{r||(r=!0,e(a))})}function yn(i){let e;return new hn.Transform({transform(t,r,a){e&&(t=ve.Buffer.concat([e,t]));const l=Math.floor(t.length/i)*i;l?t.length>l?(e=t.slice(l),this.push(t.slice(0,l))):(e=void 0,this.push(t)):e=e?ve.Buffer.concat([e,t]):t,a()},flush(t){e&&this.push(e),t()}})}function $i(i,e){const t=[];let r=0;return new hn.Transform({transform(a,l,f){t.push(a),r+=a.length,f()},flush(a){e(r);function l(){for(;t.length;)if(!i.write(t.shift()))return i.once("drain",l);i.end(),a()}l()}})}function ke(i){let e;const t=new Promise((r,a)=>{e=(l,f)=>{l?a(l):r(f)}});return i&&t.then(r=>i(null,r),i),[e,t]}ae();ae();var dr=class{constructor(i){this._tables[0][0][0]||this._precompute();let e,t,r,a,l;const f=this._tables[0][4],n=this._tables[1],d=i.length;let u=1;if(d!==4&&d!==6&&d!==8)throw new Error("invalid aes key size");for(this._key=[a=i.slice(0),l=[]],e=d;e<4*d+28;e++)r=a[e-1],(e%d===0||d===8&&e%d===4)&&(r=f[r>>>24]<<24^f[r>>16&255]<<16^f[r>>8&255]<<8^f[r&255],e%d===0&&(r=r<<8^r>>>24^u<<24,u=u<<1^(u>>7)*283)),a[e]=a[e-d]^r;for(t=0;e;t++,e--)r=a[t&3?e:e-4],e<=4||t<4?l[t]=r:l[t]=n[0][f[r>>>24]]^n[1][f[r>>16&255]]^n[2][f[r>>8&255]]^n[3][f[r&255]]}encrypt(i){return this._crypt(i,0)}decrypt(i){return this._crypt(i,1)}_precompute(){const i=this._tables[0],e=this._tables[1],t=i[4],r=e[4];let a,l,f;const n=[],d=[];let u,p,w,_,b,c;for(a=0;a<256;a++)d[(n[a]=a<<1^(a>>7)*283)^a]=a;for(l=f=0;!t[l];l^=u||1,f=d[f]||1)for(_=f^f<<1^f<<2^f<<3^f<<4,_=_>>8^_&255^99,t[l]=_,r[_]=l,w=n[p=n[u=n[l]]],c=w*16843009^p*65537^u*257^l*16843008,b=n[_]*257^_*16843008,a=0;a<4;a++)i[a][l]=b=b<<24^b>>>8,e[a][_]=c=c<<24^c>>>8;for(a=0;a<5;a++)i[a]=i[a].slice(0),e[a]=e[a].slice(0)}_crypt(i,e){if(i.length!==4)throw new Error("invalid aes block size");const t=this._key[e];let r=i[0]^t[0],a=i[e?3:1]^t[1],l=i[2]^t[2],f=i[e?1:3]^t[3],n,d,u;const p=t.length/4-2;let w,_=4;const b=[0,0,0,0],c=this._tables[e],O=c[0],T=c[1],x=c[2],h=c[3],E=c[4];for(w=0;w<p;w++)n=O[r>>>24]^T[a>>16&255]^x[l>>8&255]^h[f&255]^t[_],d=O[a>>>24]^T[l>>16&255]^x[f>>8&255]^h[r&255]^t[_+1],u=O[l>>>24]^T[f>>16&255]^x[r>>8&255]^h[a&255]^t[_+2],f=O[f>>>24]^T[r>>16&255]^x[a>>8&255]^h[l&255]^t[_+3],_+=4,r=n,a=d,l=u;for(w=0;w<4;w++)b[e?3&-w:w]=E[r>>>24]<<24^E[a>>16&255]<<16^E[l>>8&255]<<8^E[f&255]^t[_++],n=r,r=a,a=l,l=f,f=n;return b}};dr.prototype._tables=[[[],[],[],[],[]],[[],[],[],[],[]]];function Gi(i){let e,t,r,a=[2479122403,2108737444,3518906241,22203222];const l=ve.Buffer.alloc(Math.ceil(i.length/4)*4);for(l.set(i,0),r=65536;r--;)for(t=0;t<i.length;t+=16){const n=[0,0,0,0];for(e=0;e<16;e+=4)e+t<i.length&&(n[e/4]=l.readInt32BE(e+t));a=new dr(n).encrypt(a)}const f=ve.Buffer.allocUnsafe(16);for(e=0;e<4;e++)f.writeInt32BE(a[e],e*4);return f}function Vi(i,e,t){const r=ve.Buffer.from(e.s,"base64"),a=1e5,l="SHA-512";Promise.resolve().then(()=>globalThis.crypto.subtle.importKey("raw",i,"PBKDF2",!1,["deriveKey","deriveBits"])).then(f=>globalThis.crypto.subtle.deriveBits({name:"PBKDF2",salt:r,iterations:a,hash:{name:l}},f,256)).then(f=>{t(null,ve.Buffer.from(f))}).catch(t)}var qe=class{constructor(i){if(i.length!==16)throw Error("Wrong key length. Key must be 128bit.");const e=[];for(let t=0;t<4;t++)e[t]=i.readInt32BE(t*4);this.aes=new dr(e)}encryptCBC(i){let e=[0,0,0,0];const t=Array(4);let r,a;for(r=0;r<i.length;r+=16){for(a=0;a<4;a++)t[a]=i.readUInt32BE(r+a*4)^e[a];for(e=this.aes.encrypt(t),a=0;a<4;a++)i.writeInt32BE(e[a],r+a*4)}}decryptCBC(i){let e=[0,0,0,0],t=Array(4),r=Array(4),a,l;for(a=0;a<i.length;a+=16){for(l=0;l<4;l++)t[l]=i.readUInt32BE(a+l*4);for(r=t,t=this.aes.decrypt(t),l=0;l<4;l++)i.writeInt32BE(t[l]^e[l],a+l*4);e=r}}stringhash(i){let e=[0,0,0,0];for(let r=0;r<i.length;r+=4)if(i.length-r<4){const a=i.length-r;e[r/4&3]^=i.readIntBE(r,a)<<(4-a)*8}else e[r/4&3]^=i.readInt32BE(r);for(let r=16384;r--;)e=this.aes.encrypt(e);const t=ve.Buffer.allocUnsafe(8);return t.writeInt32BE(e[0],0),t.writeInt32BE(e[2],4),t}encryptECB(i){let e=[];for(let t=0;t<i.length;t+=16)e[0]=i.readInt32BE(t),e[1]=i.readInt32BE(t+4),e[2]=i.readInt32BE(t+8),e[3]=i.readInt32BE(t+12),e=this.aes.encrypt(e),i.writeInt32BE(e[0],t),i.writeInt32BE(e[1],t+4),i.writeInt32BE(e[2],t+8),i.writeInt32BE(e[3],t+12);return i}decryptECB(i){let e=[];for(let t=0;t<i.length;t+=16)e[0]=i.readInt32BE(t),e[1]=i.readInt32BE(t+4),e[2]=i.readInt32BE(t+8),e[3]=i.readInt32BE(t+12),e=this.aes.decrypt(e),i.writeInt32BE(e[0],t),i.writeInt32BE(e[1],t+4),i.writeInt32BE(e[2],t+8),i.writeInt32BE(e[3],t+12);return i}},bn=class{constructor(i,e,t=0){this.aes=i,this.nonce=e.slice(0,8),this.increment=131072,this.posNext=this.increment,this.pos=0,this.ctr=ve.Buffer.alloc(16),this.nonce.copy(this.ctr,0),this.incrementCTR(t/16)}encrypt(i){for(let e=0;e<i.length;e+=16){const t=this.aes.encryptECB(ve.Buffer.from(this.ctr));for(let r=0;r<16;r++)i[e+r]^=t[r];this.incrementCTR()}return i}decrypt(i){for(let e=0;e<i.length;e+=16){const t=this.aes.encryptECB(ve.Buffer.from(this.ctr));for(let r=0;r<16;r++)i[e+r]^=t[r];this.incrementCTR()}return i}incrementCTR(i=1){const e=this.ctr;let t=15,r;for(;i!==0;)r=(i+e[t])%256,i=Math.floor((i+e[t])/256),e[t]=r,t-=1,t<0&&(t=15)}},gn=class{constructor(i,e,t=0){this.aes=i,this.nonce=e.slice(0,8),this.increment=131072,this.posNext=this.increment,this.pos=0,this.mac=ve.Buffer.alloc(16),this.nonce.copy(this.mac,0),this.nonce.copy(this.mac,8),this.macs=[]}condense(){this.mac&&(this.macs.push(this.mac),this.mac=void 0);const i=ve.Buffer.alloc(16);for(let t=0;t<this.macs.length;t++){for(let r=0;r<16;r++)i[r]^=this.macs[t][r];this.aes.encryptECB(i)}const e=ve.Buffer.allocUnsafe(8);return e.writeInt32BE(i.readInt32BE(0)^i.readInt32BE(4),0),e.writeInt32BE(i.readInt32BE(8)^i.readInt32BE(12),4),e}update(i){for(let e=0;e<i.length;e+=16){for(let t=0;t<16;t++)this.mac[t]^=i[e+t];this.aes.encryptECB(this.mac),this.checkBounding()}}checkBounding(){this.pos+=16,this.pos>=this.posNext&&(this.macs.push(ve.Buffer.from(this.mac)),this.nonce.copy(this.mac,0),this.nonce.copy(this.mac,8),this.increment<1048576&&(this.increment+=131072),this.posNext+=this.increment)}};function Fe(i){return typeof i=="string"?Dt(i):i}function Pe(i){return i.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Dt(i){return ve.Buffer.from(i,"base64")}function ot(i){return new qe(wn(i).slice(0,16))}function Hi(i,e={}){const t=e.start||0;if(t!==0)throw Error("Encryption cannot start midstream otherwise MAC verification will fail.");i=Fe(i),i||(i=globalThis.crypto.getRandomValues(new Uint8Array(24))),i instanceof ve.Buffer||(i=ve.Buffer.from(i));let r=new cn.Transform({transform(n,d,u){f.update(n);const p=l.encrypt(n);u(null,ve.Buffer.from(p))},flush(n){r.mac=f.condense(),r.key=zi(i,r.mac),n()}});if(i.length!==24)throw Error("Wrong key length. Key must be 192bit.");const a=new qe(i.slice(0,16)),l=new bn(a,i.slice(16),t),f=new gn(a,i.slice(16));return r=(0,dn.default)(yn(16),r),r}function Ki(i,e={}){const t=e.start||0;if(t!==0&&(e.disableVerification=!0),t%16!==0)throw Error("start argument of megaDecrypt must be a multiple of 16");i=Fe(i),i instanceof ve.Buffer||(i=ve.Buffer.from(i));const r=ot(i),a=new bn(r,i.slice(16),t),l=!e.disableVerification&&new gn(r,i.slice(16));let f=new cn.Transform({transform(n,d,u){const p=a.decrypt(n);l&&l.update(p),u(null,ve.Buffer.from(p))},flush(n){if(l&&(f.mac=l.condense()),!e.disableVerification&&!f.mac.equals(i.slice(24))){n(Error("MAC verification failed"));return}n()}});return f=(0,dn.default)(yn(16),f),f}function wn(i){const e=ve.Buffer.alloc(32);i.copy(e);for(let t=0;t<16;t++)e.writeUInt8(e.readUInt8(t)^e.readUInt8(16+t,!0),t);return e}function zi(i,e){const t=ve.Buffer.alloc(32);i.copy(t),e.copy(t,24);for(let r=0;r<16;r++)t.writeUInt8(t.readUInt8(r)^t.readUInt8(16+r),r);return t}function Yi(i,e){if(i.length!==e.length)return!1;const t=i.length;let r=0;for(let a=0;a<t;a++)r|=i[a]^e[a];return r===0}async function Ji(i){const[e,t,,r]=i.split(":");if(Number(e)!==1)throw Error("hashcash challenge is not version 1");const l=Number(t),f=((l&63)<<1)+1,n=(l>>6)*7+3,d=f<<n,u=Dt(r),p=ve.Buffer.alloc(4+262144*48);for(let w=0;w<262144;w++)p.set(u,4+w*48);for(;;){if(new DataView(await globalThis.crypto.subtle.digest("SHA-256",p)).getUint32(0)<=d)return`1:${r}:${Pe(p.slice(0,4))}`;let _=0;for(;p[_]++,!p[_++];);}}ae();ae();var He={},$e=28,_n=1<<$e,Le=_n-1,Qe=$e>>1,vt=(1<<Qe)-1,Xi=Math.log(2);function Rt(i){const e=[];for(;i-- >0;)e[i]=0;return e}function It(i){let e=i.length;if(i[e-1])return i;for(;e>1&&i[e-1]===0;)e--;return i.slice(0,e)}function Qi(i){let e=1,t;return(t=i>>>16)!==0&&(i=t,e+=16),(t=i>>8)!==0&&(i=t,e+=8),(t=i>>4)!==0&&(i=t,e+=4),(t=i>>2)!==0&&(i=t,e+=2),(t=i>>1)!==0&&(i=t,e+=1),e}function mn(i,e){const t=i.length,r=e.length;if(t<r)return mn(e,i);const a=[];let l=0,f=0;for(;f<r;f++)l+=i[f]+e[f],a[f]=l&Le,l>>>=$e;for(;f<t;f++)l+=i[f],a[f]=l&Le,l>>>=$e;return l&&(a[f]=l),a}function Ce(i,e){const t=i.length,r=e.length;if(r>t)return[];if(r===t){if(e[r-1]>i[r-1])return[];if(r===1)return[i[0]-e[0]]}const a=[];let l=0,f;for(f=0;f<r;f++)l+=i[f]-e[f],a[f]=l&Le,l>>=$e;for(;f<t;f++)l+=i[f],a[f]=l&Le,l>>=$e;return l?[]:It(a)}function Xt(i,e,t,r,a){const l=t&vt,f=t>>Qe,n=r&vt,d=r>>Qe,u=f*n+d*l,p=l*n+((u&vt)<<Qe)+i[e]+a;return i[e]=p&Le,a=f*d+(u>>Qe)+(p>>$e),a}function Zi(i){const e=i.length,t=2*e,r=Rt(t);let a=0,l,f;for(l=0;l<e;l++){for(a=Xt(r,2*l,i[l],i[l],0),f=l+1;f<e;f++)a=Xt(r,l+f,2*i[f],i[l],a);r[l+e]=a}return It(r)}function Ze(i,e){const t=i.length,r=e.length,a=Rt(t+r-1);let l,f,n;for(f=0;f<r;f++){for(l=0,n=0;n<t;n++)l=Xt(a,f+n,i[n],e[f],l);a[f+t]=l}return It(a)}function wt(i,e,t){let r=0;for(;e>=0&&t-- >0;)r=r*_n+i[e--];return r}function vn(i,e){let t=i.length-1;const r=e.length-1;let a=t-r,l,f,n,d;if(t<r||t===r&&(i[t]<e[t]||t>0&&i[t]===e[t]&&i[t-1]<e[t-1]))return He.q=[0],He.mod=i,He;if(t===r&&wt(i,r,2)/wt(e,r,2)<4){for(l=i.concat(),f=0;n=Ce(l,e),n.length!==0;)l=n,f++;return He.q=[f],He.mod=l,He}const u=Math.floor(Math.log(e[r])/Xi)+1,p=$e-u;l=i.concat();const w=e.concat();if(p){for(d=r;d>0;d--)w[d]=w[d]<<p&Le|w[d-1]>>u;for(w[0]=w[0]<<p&Le,l[t]&(Le<<u&Le)&&(l[++t]=0,a++),d=t;d>0;d--)l[d]=l[d]<<p&Le|l[d-1]>>u;l[0]=l[0]<<p&Le}let _;const b=Rt(a+1);let c=Rt(a).concat(w);for(;_=Ce(l,c),_.length!==0;)b[a]++,l=_;const O=w[r],T=wt(w,r,2);let x;for(d=t;d>r;d--){x=d-r-1,d>=l.length?b[x]=1:l[d]===O?b[x]=Le:b[x]=Math.floor(wt(l,d,2)/O);const h=wt(l,d,3);for(;b[x]*T>h;)b[x]--;c=c.slice(1),_=Ce(l,Ze([b[x]],c)),_.length===0&&(b[x]--,_=Ce(l,Ze([b[x]],c))),l=_}if(p){for(d=0;d<l.length-1;d++)l[d]=l[d]>>p|l[d+1]<<u&Le;l[l.length-1]>>=p}return He.q=It(b),He.mod=It(l),He}function eo(i,e){let t=0,r;for(let a=i.length-1;a>=0;a--)r=i[a],t=((r>>Qe)+(t<<Qe))%e,t=((r&vt)+(t<<Qe))%e;return t}function ft(i,e){if(e.length===1){if(i.length===1)return[i[0]%e[0]];if(e[0]<vt)return[eo(i,e[0])]}return vn(i,e).mod}function Et(i,e,t){const r=i.length-(e.length<<1);if(r>0)return Et(i.slice(0,r).concat(Et(i.slice(r),e,t)),e,t);const a=e.length+1,l=e.length-1;let f;const n=Ze(i.slice(l),t).slice(a),d=i.slice(0,a),u=Ze(n,e).slice(0,a);let p=Ce(d,u);p.length===0&&(d[a]=1,p=Ce(d,u));for(let w=0;f=Ce(p,e),f.length!==0;w++)if(p=f,w>=3)return Et(p,e,t);return p}function Sr(i,e,t){let r=i.concat(),a=e.length-1,l=t.length*2,f=Rt(l+1);for(f[l]=1,f=vn(f,t).q,l=Qi(e[a])-2;a>=0;a--){for(;l>=0;l-=1)r=Et(Zi(r),t,f),e[a]&1<<l&&(r=Et(Ze(r,i),t,f));l=$e-1}return r}function to(i,e,t,r,a){const l=Sr(ft(i,t),ft(e,Ce(t,[1])),t),f=Sr(ft(i,r),ft(e,Ce(r,[1])),r);let n=Ce(f,l);return n.length===0?(n=Ce(l,f),n=ft(Ze(n,a),r),n=Ce(r,n)):n=ft(Ze(n,a),r),mn(Ze(n,t),l)}function En(i){let e=1;const t=[0];let r=0,a=256,l=i.length,f;if(l<2)return 0;const n=(l-2)*8,d=i.charCodeAt(0)*256+i.charCodeAt(1);if(d>n||d<n-8)return 0;for(let u=0;u<n;u++)(a<<=1)>255&&(a=1,f=i.charCodeAt(--l)),e>Le&&(e=1,t[++r]=0),f&a&&(t[r]|=e),e<<=1;return t}function ro(i){let e=1,t=0;const r=[0];let a=1,l=0;const f=i.length*$e;let n="",d;for(d=0;d<f;d++)i[t]&e&&(r[l]|=a),(a<<=1)>255&&(a=1,r[++l]=0),(e<<=1)>Le&&(e=1,t++);for(;l>=0&&r[l]===0;)l--;for(d=0;d<=l;d++)n=String.fromCharCode(r[d])+n;return n}function no(i){const e=[];for(let t=0;t<4;t++){const r=(i[0]*256+i[1]+7>>3)+2;if(e[t]=En(i.toString("binary").substr(0,r)),typeof e[t]=="number"){if(t!==4||i.length>=16)return!1;break}i=i.slice(r)}return e}function Ar(i,e){const t=En(i.toString("binary")),r=ro(to(t,e[2],e[0],e[1],e[3]));return ve.Buffer.from(r,"binary")}ae();var io=Ge(Je());ae();var Qt=4,Rr={1:"EINTERNAL (-1): An internal error has occurred. Please submit a bug report, detailing the exact circumstances in which this error occurred.",2:"EARGS (-2): You have passed invalid arguments to this command.",3:"EAGAIN (-3): A temporary congestion or server malfunction prevented your request from being processed. No data was altered. Retried "+Qt+" times.",4:"ERATELIMIT (-4): You have exceeded your command weight per time quota. Please wait a few seconds, then try again (this should never happen in sane real-life applications).",5:"EFAILED (-5): The upload failed. Please restart it from scratch.",6:"ETOOMANY (-6): Too many concurrent IP addresses are accessing this upload target URL.",7:"ERANGE (-7): The upload file packet is out of range or not starting and ending on a chunk boundary.",8:"EEXPIRED (-8): The upload target URL you are trying to access has expired. Please request a fresh one.",9:"ENOENT (-9): Object (typically, node or user) not found. Wrong password?",10:"ECIRCULAR (-10): Circular linkage attempted",11:"EACCESS (-11): Access violation (e.g., trying to write to a read-only share)",12:"EEXIST (-12): Trying to create an object that already exists",13:"EINCOMPLETE (-13): Trying to access an incomplete resource",14:"EKEY (-14): A decryption operation failed (never returned by the API)",15:"ESID (-15): Invalid or expired user session, please relogin",16:"EBLOCKED (-16): User blocked",17:"EOVERQUOTA (-17): Request over quota",18:"ETEMPUNAVAIL (-18): Resource temporarily not available, please try again later",19:"ETOOMANYCONNECTIONS (-19)",24:"EGOINGOVERQUOTA (-24)",25:"EROLLEDBACK (-25)",26:"EMFAREQUIRED (-26): Multi-Factor Authentication Required",27:"EMASTERONLY (-27)",28:"EBUSINESSPASTDUE (-28)",29:"EPAYWALL (-29): ODQ paywall state",400:"ETOOERR (-400)",401:"ESHAREROVERQUOTA (-401)"},oo="https://g.api.mega.co.nz/",ao=null,so=null,lo=class We extends io.EventEmitter{constructor(e,t={}){super(),this.keepalive=e,this.counterId=Math.random().toString().substr(2,10),this.gateway=t.gateway||oo;const r="1.3.8",a=We.getShouldAvoidUA();this.userAgent=t.userAgent===null||a?null:`${t.userAgent||""} megajs/${r}`.trim(),this.httpAgent=t.httpAgent||ao,this.httpsAgent=t.httpsAgent||so,this.fetch=t.fetch||this.defaultFetch.bind(this),this.closed=!1}async defaultFetch(e,t){if(t||(t={}),t.agent||(t.agent=r=>r.protocol==="http:"?this.httpAgent:this.httpsAgent),this.userAgent&&(t.headers||(t.headers={}),t.headers["user-agent"]||(t.headers["user-agent"]=this.userAgent)),!We.fetchModule)if(typeof globalThis.fetch=="function")We.fetchModule=globalThis.fetch.bind(globalThis);else throw Error("globalThis.fetch not found!");return We.fetchModule(e,t)}request(e,t,r=0){const a=e.a==="sml";if(this.closed&&!a)throw Error("API is closed");const[l,f]=ke(t);typeof e._hashcash!="string"&&this.counterId++;const n={id:this.counterId.toString()};this.sid&&(n.sid=this.sid),typeof e._querystring=="object"&&(Object.assign(n,e._querystring),delete e._querystring);const d={"Content-Type":"application/json"};return typeof e._hashcash=="string"&&(d["X-Hashcash"]=e._hashcash,delete e._hashcash),this.fetch(`${this.gateway}cs?${new URLSearchParams(n)}`,{method:"POST",headers:d,body:JSON.stringify([e])}).then(async u=>{const p=u.headers.get("X-Hashcash");return p?(e._hashcash=await Ji(p),-3):Ir(u)}).then(u=>{if(this.closed&&!a)return;if(!u)return l(Error("Empty response"));u.length&&(u=u[0]);let p;if(typeof u=="number"&&u<0){if(u===-3&&r<Qt)return setTimeout(()=>{this.request(e,l,r+1)},Math.pow(2,r+1)*1e3);p=Error(Rr[-u])}else this.keepalive&&u&&u.sn&&this.pull(u.sn);l(p,u)}).catch(u=>{l(u)}),f}pull(e,t=0){const r=new AbortController,a=We.handleForceHttps()?1:0;this.sn=r,this.fetch(`${this.gateway}sc?${new URLSearchParams({sn:e,ssl:a,sid:this.sid})}`,{method:"POST",signal:r.signal}).then(Ir).then(l=>{if(this.sn=void 0,!this.closed){if(typeof l=="number"&&l<0){if(l===-3&&t<Qt)return setTimeout(()=>{this.pull(e,t+1)},Math.pow(2,t+1)*1e3);this.emit("error",Error(Rr[-l]))}l.w?this.wait(l.w,e):l.sn&&(l.a&&this.emit("sc",l.a),this.pull(l.sn))}}).catch(fo).catch(l=>{this.emit("error",l)})}wait(e,t){const r=new AbortController;this.sn=r,this.fetch(e,{method:"POST",signal:r.signal}).catch(()=>{}).then(()=>{this.sn=void 0,this.pull(t)})}close(){this.sn&&this.sn.abort(),this.closed=!0}static getGlobalApi(){return We.globalApi||(We.globalApi=new We),We.globalApi}static handleForceHttps(e){return e??!!globalThis.isSecureContext}static getShouldAvoidUA(){return!!globalThis.navigator}};function Ir(i){if(i.statusText==="Server Too Busy")return-3;if(!i.ok)throw Error(`Server returned error: ${i.statusText}`);return i.json()}function fo(i){if(i.name!=="AbortError")throw i}var ct=lo,uo=Ge(Je());ae();ae();var co=Ge(Je()),ho=Ge(pt()),po=Ge(qi()),yo=class it extends co.EventEmitter{constructor(e){if(super(),this.checkConstructorArgument(e.downloadId),this.checkConstructorArgument(e.key),this.checkConstructorArgument(e.loadedFile),this.downloadId=e.downloadId,this.key=e.key?Fe(e.key):null,this.type=e.directory?1:0,this.directory=!!e.directory,this.directory&&!this.children&&(this.children=[]),this.api=e.api||ct.getGlobalApi(),!(this.api instanceof ct))throw Error("api must be a instance of API");this.loadedFile=e.loadedFile}get createdAt(){if(typeof this.timestamp<"u")return this.timestamp*1e3}checkConstructorArgument(e){if(typeof e=="string"&&!/^[\w-]+$/.test(e))throw Error(`Invalid argument: "${e}"`)}loadMetadata(e,t){if(this.size=t.s||0,this.timestamp=t.ts||0,this.type=t.t,this.directory=!!t.t,this.owner=t.u,this.name=null,this.directory&&!this.children&&(this.children=[]),!e||!t.k)return;const r=t.k.split(":");this.key=Fe(r[r.length-1]),this.key.length<=32?e.decryptECB(this.key):this.storage?this.key=this.storage.decryptRsaKey(this.key).slice(0,this.directory?16:32):this.key=null,t.a&&this.decryptAttributes(t.a)}decryptAttributes(e){if(!this.key)return this;e=Dt(e),ot(this.key).decryptCBC(e);const t=it.unpackAttributes(e);t&&this.parseAttributes(t)}parseAttributes(e){this.attributes=e,this.name=e.n,this.label=Sn[e.lbl||0],this.favorited=!!e.fav}loadAttributes(e){const[t,r]=ke(e),a=this.directory?{a:"f",c:1,ca:1,r:1,_querystring:{n:this.downloadId}}:{a:"g",p:this.downloadId};return this.api.request(a,(l,f)=>{if(l)return t(l);if(this.directory){const n=Object.create(null),d=f.f,u=d.find(w=>w.k&&w.h===w.k.split(":")[0]),p=this.key?new qe(this.key):null;this.nodeId=u.h,this.timestamp=u.ts,n[u.h]=this;for(const w of d){if(w===u)continue;const _=new it(w,this.storage);_.loadMetadata(p,w),_.downloadId=[this.downloadId,w.h],n[w.h]=_}for(const w of d){const _=n[w.p];if(_){const b=n[w.h];_.children.push(b),b.parent=_}}if(this.loadMetadata(p,u),this.key&&!this.attributes)return t(Error("Attributes could not be decrypted with provided key."));if(this.loadedFile){const w=n[this.loadedFile];typeof w>"u"?t(Error("Node (file or folder) not found in folder")):t(null,w)}else t(null,this)}else{if(this.size=f.s,this.decryptAttributes(f.at),this.key&&!this.attributes)return t(Error("Attributes could not be decrypted with provided key."));t(null,this)}}),r}download(e,t){typeof e=="function"&&(t=e,e={}),e||(e={});const r=e.start||0,a=e.returnCiphertext?r:r-r%16;let l=e.end||null;const f=e.maxConnections||4,n=e.initialChunkSize||128*1024,d=e.chunkSizeIncrement||128*1024,u=e.maxChunkSize||1024*1024,w={a:"g",g:1,ssl:ct.handleForceHttps(e.forceHttps)?2:0};if(this.nodeId?w.n=this.nodeId:Array.isArray(this.downloadId)?(w._querystring={n:this.downloadId[0]},w.n=this.downloadId[1]):w.p=this.downloadId,this.directory)throw Error("Can't download: folder download isn't supported");if(!this.key&&!e.returnCiphertext)throw Error("Can't download: key isn't defined");const _=this.key&&!e.returnCiphertext?Ki(this.key,{start:a,disableVerification:a!==0||l!==null}):new ho.PassThrough,b=a===r?_:_.pipe(new po.default({skip:r-a})),c=e.handleRetries||it.defaultHandleRetries;return this.api.request(w,(O,T)=>{if(O)return b.emit("error",O);if(typeof T.g!="string"||T.g.substr(0,4)!=="http")return b.emit("error",Error("MEGA servers returned an invalid response, maybe caused by rate limit"));if(T.s===0)return b.end();if(l||(l=T.s-1),r>l)return b.emit("error",Error("You can't download past the end of the file."));function x(F){if(F.status!==200){if(F.status===509){const K=F.headers.get("x-mega-time-left"),Z=Error("Bandwidth limit reached: "+K+" seconds until it resets");Z.timeLimit=K,b.emit("error",Z);return}b.emit("error",Error("MEGA returned a "+F.status+" status code"))}}function h(F){b.emit("error",F)}let E=0;if(b.on("data",F=>{E+=F.length,b.emit("progress",{bytesLoaded:E,bytesTotal:T.s})}),f===1){const F=new AbortController;b.on("close",()=>{F.abort()}),this.api.fetch(T.g+"/"+a+"-"+l,{signal:F.signal}).then(K=>{x(K);const Z=K.body;if(Z)if(Z.pipe)K.body.pipe(_);else if(Z.getReader){const H=Z.getReader(),fe=({done:pe,value:we})=>{if(pe)_.end();else return _.write(we),H.read().then(fe)};H.read().then(fe)}else throw Error("Single connection streaming not supported by fetch");else throw Error("Missing response body")}).catch(h);return}const P={};let A=0,B=0,j=!1,G=a,X=n;b.on("error",()=>{j=!0}),b.on("close",()=>{j=!0});const J=()=>{if(G>l){j=!0,A===B&&_.end();return}const F=G,K=Math.min(l,F+X-1),Z=A++;let H=0;const fe=()=>{H++,this.api.fetch(T.g+"/"+F+"-"+K).then(pe=>(x(pe),pe.arrayBuffer())).then(pe=>{const we=ve.Buffer.from(pe);P[Z]=we,B===Z&&se()},pe=>{c(H,pe,we=>{we?h(we):fe()})})};fe(),G=K+1,X<u&&(X=X+d)},se=()=>{let F;for(;;){const K=P[B];if(!K||(F=!_.write(K),delete P[B],B++,F))break}j&&A===B&&_.end(),F?_.once("drain",se):J()};for(let F=0;F<f;F++)J()}),t&&pn(b,t),b}downloadBuffer(e,t){const[r,a]=ke(t);return this.download(e,r),a}link(e,t){arguments.length===1&&typeof e=="function"&&(t=e,e={noKey:!1});const[r,a]=ke(t);typeof e=="boolean"&&(e={noKey:e});let l=`https://mega.nz/${this.directory?"folder":"file"}/${this.downloadId}`;return!e.noKey&&this.key&&(l+=`#${Pe(this.key)}`),!e.noKey&&this.loadedFile&&(l+=`/file/${this.loadedFile}`),r(null,l),a}find(e,t){if(!this.children)throw Error("You can only call .find on directories");if(typeof e=="string"){const r=e;e=a=>a.name===r}else if(Array.isArray(e)){const r=e;e=a=>r.includes(a.name)}if(typeof e!="function")throw Error("Query must be a file matching function, an array of valid file names or a string with a file name");return this.children.reduce((r,a)=>r||(e(a)?a:a.children&&t?a.find(e,t):null),null)}filter(e,t){if(!this.children)throw Error("You can only call .filter on directories");if(typeof e=="string"){const r=e;e=a=>a.name===r}else if(Array.isArray(e)){const r=e;e=a=>r.includes(a.name)}if(typeof e!="function")throw Error("Query must be a file matching function, an array of valid file names or a string with a file name");return this.children.reduce((r,a)=>(e(a)&&r.push(a),a.children&&t?r.concat(a.filter(e,t)):r),[])}navigate(e){if(!this.children)throw Error("You can only call .navigate on directories");if(typeof e=="string")e=e.split("/");else if(!Array.isArray(e))throw Error("Query must be an array or a string");return e.reduce((t,r)=>t&&t.children&&t.children.find(a=>a.name===r),this)}static fromURL(e,t={}){if(typeof e=="object")return new it(e);const r=new URL(e);if(r.hostname!=="mega.nz"&&r.hostname!=="mega.co.nz")throw Error("Invalid URL: wrong hostname");if(!r.hash)throw Error("Invalid URL: no hash");if(r.pathname.match(/\/(file|folder)\//)!==null){const a=r.hash.substr(1).split("/file/"),l=r.pathname.substring(r.pathname.lastIndexOf("/")+1,r.pathname.length+1),f=a[0];if(l&&!f||!l&&f)throw Error("Invalid URL: too few arguments");return new it({downloadId:l,key:f,directory:r.pathname.indexOf("/folder/")>=0,loadedFile:a[1],...t})}else{const a=r.hash.split("!");if(a[0]!=="#"&&a[0]!=="#F")throw Error("Invalid URL: format not recognized");if(a.length<=1)throw Error("Invalid URL: too few arguments");if(a.length>=(a[0]==="#"?4:5))throw Error("Invalid URL: too many arguments");return new it({downloadId:a[1],key:a[2],directory:a[0]==="#F",loadedFile:a[3],...t})}}static unpackAttributes(e){let t=0;for(;t<e.length&&e.readUInt8(t);)t++;if(e=e.slice(0,t).toString(),e.substr(0,6)==='MEGA{"')try{return JSON.parse(e.substr(4))}catch{}}static defaultHandleRetries(e,t,r){e>8?r(t):setTimeout(r,1e3*Math.pow(2,e))}},Sn=["","red","orange","yellow","green","blue","purple","grey"],Ke=yo,Tr=Ge(pt()),Br={},bo=class mt extends Ke{constructor(e,t){if(super(e),this.storage=t,this.api=t.api,this.nodeId=e.h,this.timestamp=e.ts,this.type=e.t,this.directory=!!this.type,this.directory&&!this.children&&(this.children=[]),e.k){const r=e.k.split("/");let a=t.aes;for(const l of r){const f=l.split(":")[0];if(f===t.user){e.k=l;break}const n=t.shareKeys[f];if(n){e.k=l,a=Br[f],a||(a=Br[f]=new qe(n));break}}this.loadMetadata(a,e)}}loadAttributes(){throw Error("This is not needed for files loaded from logged in sessions")}mkdir(e,t){if(!this.directory)throw Error("node isn't a directory");const[r,a]=ke(t);if(typeof e=="string"&&(e={name:e}),e.attributes||(e.attributes={}),e.name&&(e.attributes.n=e.name),!e.attributes.n)throw Error("file name is required");if(e.target||(e.target=this),e.key||(e.key=ve.Buffer.from(globalThis.crypto.getRandomValues(new Uint8Array(16)))),e.key.length!==16)throw Error("wrong key length, must be 128bit");const l=e.key,f=mt.packAttributes(e.attributes);ot(l).encryptCBC(f);const n=ve.Buffer.from(l);this.storage.aes.encryptECB(n);const d={a:"p",t:e.target.nodeId?e.target.nodeId:e.target,n:[{h:"xxxxxxxx",t:1,a:Pe(f),k:Pe(n)}]},u=St(this.storage.shareKeys,this);return u.length>0&&(d.cr=Pt(this.storage,[{nodeId:"xxxxxxxx",key:l}],u)),this.api.request(d,(p,w)=>{if(p)return r(p);const _=this.storage._importFile(w.f[0]);this.storage.emit("add",_),r(null,_)}),a}upload(e,t,r){if(!this.directory)throw Error("node is not a directory");arguments.length===2&&typeof t=="function"&&([r,t]=[t,null]);const[a,l]=ke(r);if(typeof e=="string"&&(e={name:e}),e.attributes||(e.attributes={}),e.name&&(e.attributes.n=e.name),!e.attributes.n)throw Error("File name is required.");if(!(typeof e.size=="number"&&e.size>=0)&&!(t&&typeof t.pipe!="function"&&typeof t.length=="number")&&!e.allowUploadBuffering)throw Error("Specify a file size or set allowUploadBuffering to true");e.target||(e.target=this);let f,n=Fe(e.key);n||(n=globalThis.crypto.getRandomValues(new Uint8Array(24))),n instanceof ve.Buffer||(n=ve.Buffer.from(n));const d=e.uploadCiphertext?32:24;if(n.length!==d)throw Error("Wrong key length. Key must be 192bit");e.uploadCiphertext&&(f=n,n=wn(n).slice(0,24)),e.key=n;const u=[],p=(b,c,O,T)=>{if(b)return _(b);if(!O||O.length===0){_(Error("Server returned a invalid response while uploading"));return}const x=Number(O.toString());if(x<0){_(Error("Server returned error "+x+" while uploading"));return}if(u[c]=O,c===0&&!f&&(f=T.key),e.thumbnailImage&&!u[1]||e.previewImage&&!u[2]||!u[0])return;const h=mt.packAttributes(e.attributes);ot(f).encryptCBC(h);const E=ve.Buffer.from(f);this.storage.aes.encryptECB(E);const P={h:Pe(u[0]),t:0,a:Pe(h),k:Pe(E)};u.length!==1&&(P.fa=u.slice(1).map((j,G)=>G+"*"+Pe(j)).filter(j=>j).join("/"));const A={a:"p",t:e.target.nodeId?e.target.nodeId:e.target,n:[P]},B=St(this.storage.shareKeys,this);B.length>0&&(A.cr=Pt(this.storage,[{nodeId:P.h,key:f}],B)),this.api.request(A,(j,G)=>{if(j)return _(j);const X=this.storage._importFile(G.f[0]);this.storage.emit("add",X),w.emit("complete",X),a&&a(null,X)})};e.thumbnailImage&&this._uploadAttribute(e,e.thumbnailImage,1,p),e.previewImage&&this._uploadAttribute(e,e.previewImage,2,p);const w=this._upload(e,t,0,p);function _(b){w.listenerCount("error")?w.emit("error",b):a(b)}return w.complete=l,w}_upload(e,t,r,a){const l=e.uploadCiphertext?new Tr.PassThrough:Hi(e.key);let f=l,n=e.size;return t&&typeof t.pipe!="function"&&(n=t.length,f.end(t)),n!=null?(n===0&&l.end(),this._uploadWithSize(f,n,l,r,e,a)):f=$i(f,d=>{this._uploadWithSize(f,d,l,r,e,a)}),t&&typeof t.pipe=="function"&&t.pipe(f),f}_uploadAttribute(e,t,r,a){const l=(f,n)=>{if(f)return a(f);const d=n.length,u=Math.ceil(d/16)*16-d;u!==0&&(n=ve.Buffer.concat([n,ve.Buffer.alloc(u)])),(e.handle?ot(e.key):new qe(e.key.slice(0,16))).encryptCBC(n);const w=new Tr.PassThrough;w.end(n),this._uploadWithSize(w,n.length,w,r,e,a)};if(t instanceof ve.Buffer){l(null,t);return}pn(t,l)}_uploadWithSize(e,t,r,a,l,f){const n=ct.handleForceHttps(l.forceHttps)?2:0,d=a===0?{a:"u",ssl:n,s:t,ms:0,r:0,e:0,v:2}:{a:"ufa",ssl:n,s:t};l.handle&&(d.h=l.handle);const u=a===0?l.initialChunkSize||128*1024:t,p=l.chunkSizeIncrement||128*1024,w=l.maxChunkSize||1024*1024,_=l.maxConnections||4,b=l.handleRetries||Ke.defaultHandleRetries;let c=u,O=0,T=!1,x=0,h,E,P,A,B,j=0;const G=()=>{A=Math.min(c,t-x),E=ve.Buffer.alloc(A),O++,c<w&&(c+=p),B=0,h&&(h.copy(E),B=Math.min(h.length,A),h=h.length>A?h.slice(A):null),B===A?X():(T=!0,se())},X=()=>{const F=x,K=E;let Z=0;const H=()=>{Z++,this.api.fetch(P+"/"+(a===0?F:a-1),{method:"POST",body:K,headers:{"content-length":K.length}}).then(fe=>{if(fe.status!==200)throw Error("MEGA returned a "+fe.status+" status code");return fe.arrayBuffer()}).then(fe=>{j+=K.length,e.emit("progress",{bytesLoaded:J,bytesUploaded:j,bytesTotal:t});const pe=ve.Buffer.from(fe);pe.length>0?(r.end(),Se.nextTick(()=>{f(null,a,pe,r)})):x<t&&!T&&G()},fe=>{b(Z,fe,pe=>{pe?e.emit("error",pe):H()})})};H(),E=null,x+=A,x<t&&!T&&O<_&&G()};let J=0;const se=()=>{for(;;){const F=r.read();if(F===null){r.once("readable",se);break}if(J+=F.length,F.copy(E,B),B+=F.length,B>=A){T=!1,h=F.slice(F.length-(B-A)),X();break}}};r.on("end",()=>{t&&J!==t&&e.emit("error",Error("Specified data size does not match: "+t+" !== "+J))}),this.api.request(d,(F,K)=>{if(F)return f(F);P=K.p,G()})}uploadAttribute(e,t,r){const[a,l]=ke(r);if(typeof e=="string"&&(e=["thumbnail","preview"].indexOf(e)),e!==0&&e!==1)throw Error("Invalid attribute type");return this._uploadAttribute({key:this.key,handle:this.nodeId},t,e+1,(f,n,d,u)=>{if(f)return a(f);const p={a:"pfa",n:this.nodeId,fa:e+"*"+Pe(d)};this.api.request(p,(w,_)=>{if(w)return a(w);a(null,this)})}),l}delete(e,t){return typeof e=="function"&&(t=e,e=void 0),typeof e>"u"&&(e=this.parent===this.storage.trash),e?this.api.request({a:"d",n:this.nodeId},t):this.moveTo(this.storage.trash,t)}moveTo(e,t){if(typeof e=="string"&&(e=this.storage.files[e]),!(e instanceof Ke))throw Error("target must be a folder or a nodeId");const r={a:"m",n:this.nodeId,t:e.nodeId},a=St(this.storage.shareKeys,e);return a.length>0&&(r.cr=Pt(this.storage,[this],a)),this.api.request(r,t)}setAttributes(e,t){const[r,a]=ke(t);Object.assign(this.attributes,e);const l=mt.packAttributes(this.attributes);return ot(this.key).encryptCBC(l),this.api.request({a:"a",n:this.nodeId,at:Pe(l)},f=>{this.parseAttributes(this.attributes),r(f)}),a}rename(e,t){return this.setAttributes({n:e},t)}setLabel(e,t){if(typeof e=="string"&&(e=Sn.indexOf(e)),typeof e!="number"||Math.floor(e)!==e||e<0||e>7)throw Error("label must be a integer between 0 and 7 or a valid label name");return this.setAttributes({lbl:e},t)}setFavorite(e,t){return this.setAttributes({fav:e?1:0},t)}link(e,t){arguments.length===1&&typeof e=="function"&&(t=e,e={noKey:!1}),typeof e=="boolean"&&(e={noKey:e}),e||(e={});const r=e.__folderKey;if(this.directory&&!r)return this.shareFolder(e,t);const[a,l]=ke(t);return this.api.request({a:"l",n:this.nodeId},(f,n)=>{if(f)return a(f);let d=`https://mega.nz/${r?"folder":"file"}/${n}`;!e.noKey&&this.key&&(d+=`#${Pe(r||this.key)}`),a(null,d)}),l}shareFolder(e,t){if(!this.directory)throw Error("node isn't a folder");const r=this.nodeId,a=this.storage.shareKeys[r];if(a)return this.link(Object.assign({__folderKey:a},e),t);let l=Fe(e.key);l||(l=globalThis.crypto.getRandomValues(new Uint8Array(16))),l instanceof ve.Buffer||(l=ve.Buffer.from(l));const[f,n]=ke(t);if(l.length!==16)return f(Error("share key must be 16 byte / 22 characters")),n;this.storage.shareKeys[r]=l;const d=ve.Buffer.from(r+r);this.storage.aes.encryptECB(d);const u={a:"s2",n:r,s:[{u:"EXP",r:0}],ok:Pe(this.storage.aes.encryptECB(ve.Buffer.from(l))),ha:Pe(d),cr:Pt(this.storage,this)};return this.api.request(u,p=>{if(p)return f(p);this.link(Object.assign({__folderKey:l},e),f)}),n}unshare(e){return this.directory?this.unshareFolder(e):this.api.request({a:"l",n:this.nodeId,d:1},e)}unshareFolder(e){if(!this.directory)throw Error("node isn't a folder");return delete this.storage.shareKeys[this.nodeId],this.api.request({a:"s2",n:this.nodeId,s:[{u:"EXP",r:""}]},e)}importFile(e,t){const[r,a]=ke(t);if(!this.directory)throw Error("importFile can only be called on directories");if(typeof e=="string"&&(e=Ke.fromURL(e)),!(e instanceof Ke))throw Error("First argument of importFile should be a File or a URL string");if(!e.key)return r(Error("Can't import files without encryption keys")),a;const l=(f,n)=>{if(f)return r(f);const d=mt.packAttributes(n.attributes);ot(n.key).encryptCBC(d);const u=Array.isArray(n.downloadId)?n.downloadId[1]:n.downloadId,p={a:"p",t:this.nodeId,n:[{ph:u,t:0,a:Pe(d),k:Pe(this.storage.aes.encryptECB(n.key))}]};this.api.request(p,(w,_)=>{if(w)return r(w);const b=this.storage._importFile(_.f[0]);this.storage.emit("add",b),r(null,b)})};return e.attributes?l(null,e):e.loadAttributes(l),a}static packAttributes(e){let t=JSON.stringify(e);t=ve.Buffer.from(`MEGA${t}`);const r=ve.Buffer.alloc(Math.ceil(t.length/16)*16);return t.copy(r),r}};function Pt(i,e,t){const r=i.shareKeys;Array.isArray(e)||(e=An(e)),t||(t=e.map(l=>St(r,l)).reduce((l,f)=>l.concat(f)).filter((l,f,n)=>f===n.indexOf(l)));const a=[t,e.map(l=>l.nodeId),[]];for(let l=t.length;l--;){const f=new qe(r[t[l]]);for(let n=e.length;n--;){const d=ve.Buffer.from(e[n].key);d&&(d.length===32||d.length===16)&&a[2].push(l,n,Pe(f.encryptECB(d)))}}return a}function An(i){return[i].concat((i.children||[]).map(An).reduce((e,t)=>e.concat(t),[]))}function St(i,e){const t=e.nodeId,r=e.parent,a=[];return i[t]&&a.push(t),r?a.concat(St(i,r)):a}var go=bo;(class Rn extends uo.EventEmitter{constructor(e,t){super(),arguments.length===1&&typeof e=="function"&&(t=e,e={});const[r,a]=ke(t);this.ready=a,e.keepalive=e.keepalive===void 0?!0:!!e.keepalive,e.autoload=e.autoload===void 0?!0:!!e.autoload,e.autologin=e.autologin===void 0?!0:!!e.autologin,this.api=new ct(e.keepalive,e),this.files={},this.options=e,this.status="closed",e.autologin?this.login(r):Se.nextTick(()=>{r(null,this)})}login(e){const[t,r]=ke(e);if(typeof this.options.email!="string")return Se.nextTick(()=>{t(Error("starting a session without credentials isn't supported"))}),r;const a=()=>{this.status="ready",t(null,this),this.emit("ready",this)},l=u=>{this.api.request({a:"ug"},(p,w)=>{if(p)return u(p);this.name=w.name,this.user=w.u,this.options.autoload?this.reload(!0,_=>{if(_)return u(_);a()}):a()})};this.email=this.options.email.toLowerCase();const f=()=>{const u=Gi(ve.Buffer.from(this.options.password)),p=new qe(u),w=Pe(p.stringhash(ve.Buffer.from(this.email))),_={a:"us",user:this.email,uh:w};d(_,p)},n=u=>{Vi(ve.Buffer.from(this.options.password),u,(p,w)=>{if(p)return t(p);const _=new qe(w.slice(0,16)),b=Pe(w.slice(16)),c={a:"us",user:this.email,uh:b};d(c,_)})},d=(u,p)=>{delete this.options.password,this.options.secondFactorCode&&(u.mfa=this.options.secondFactorCode.toString()),this.api.request(u,(w,_)=>{if(w)return t(w);this.key=Fe(_.k),p.decryptECB(this.key),this.aes=new qe(this.key);const b=Fe(_.csid),c=this.aes.decryptECB(Fe(_.privk)),O=no(c);if(!O)throw Error("invalid credentials");const T=Pe(Ar(b,O).slice(0,43));this.api.sid=this.sid=T,this.RSAPrivateKey=O,l(t)})};return this.api.request({a:"us0",user:this.email},(u,p)=>{if(u)return t(u);if(p.v===1)return f();if(p.v===2)return n(p);t(Error("Account version not supported"))}),this.status="connecting",r}reload(e,t){typeof e=="function"&&([e,t]=[t,e]);const[r,a]=ke(t);return this.status==="connecting"&&!e?(this.once("ready",()=>{this.reload(e,r)}),a):(this.mounts=[],this.api.request({a:"f",c:1},(l,f)=>{if(l)return r(l);this.shareKeys=f.ok.reduce((n,d)=>{const u=d.h,p=this.aes.encryptECB(ve.Buffer.from(u+u));return Yi(Fe(d.ha),p)&&(n[u]=this.aes.decryptECB(Fe(d.k))),n},{});for(let n of f.f)if(n=this._importFile(n),f.ph!==void 0&&(n.shareId=f.ph.find(d=>d.h===n.nodeId)?.ph,n.shared=!!n.shareId,n.shared)){n.shareURL=`https://mega.nz/${n.directory?"folder":"file"}/${n.shareId}`;const d=n.directory?this.shareKeys[n.nodeId]:n.key;d&&(n.shareURL+="#"+Pe(d))}r(null,this.mounts)}),this.api.on("sc",l=>{const f={};l.forEach(n=>{if(n.a==="u"){const d=this.files[n.n];d&&(d.timestamp=n.ts,d.decryptAttributes(n.at),d.emit("update"),this.emit("update",d))}else n.a==="d"?f[n.n]=!0:n.a==="t"&&n.t.f.forEach(d=>{const u=this.files[d.h];if(u){delete f[d.h];const p=u.parent;if(p.nodeId===d.p)return;p.children.splice(p.children.indexOf(u),1),u.parent=this.files[d.p],u.parent.children.push(u),u.emit("move",p),this.emit("move",u,p)}else this.emit("add",this._importFile(d))})}),Object.keys(f).forEach(n=>{const d=this.files[n],u=d.parent;u.children.splice(u.children.indexOf(d),1),this.emit("delete",d),d.emit("delete")})}),a)}_importFile(e){if(!this.files[e.h]){const t=this.files[e.h]=new go(e,this);if(e.t===wo&&(this.root=t,t.name="Cloud Drive"),e.t===mo&&(this.trash=t,t.name="Rubbish Bin"),e.t===_o&&(this.inbox=t,t.name="Inbox"),e.t>1&&this.mounts.push(t),e.p){const r=this.files[e.p];r&&(r.children.push(t),t.parent=r)}}return this.files[e.h]}mkdir(e,t){if(this.status!=="ready")throw Error("storage is not ready");return this.root.mkdir(e,t)}upload(e,t,r){if(this.status!=="ready")throw Error("storage is not ready");return this.root.upload(e,t,r)}find(e,t){if(this.status!=="ready")throw Error("storage is not ready");return this.root.find(e,t)}filter(e,t){if(this.status!=="ready")throw Error("storage is not ready");return this.root.filter(e,t)}navigate(e,t){if(this.status!=="ready")throw Error("storage is not ready");return this.root.navigate(e,t)}close(e){return this.status="closed",this.api.close(),this.api.request({a:"sml"},e)}getAccountInfo(e){const[t,r]=ke(e);return this.api.request({a:"uq",strg:1,xfer:1,pro:1},(a,l)=>{a&&t(a);const f={};f.type=l.utype,f.spaceUsed=l.cstrg,f.spaceTotal=l.mstrg,f.downloadBandwidthTotal=l.mxfer||Math.pow(1024,5)*10,f.downloadBandwidthUsed=l.caxfer||0,f.sharedBandwidthUsed=l.csxfer||0,f.sharedBandwidthLimit=l.srvratio,t(null,f)}),r}toJSON(){return{key:Pe(this.key),sid:this.sid,name:this.name,user:this.user,options:this.options}}static fromJSON(e){const t=new Rn(Object.assign(e.options,{autoload:!1,autologin:!1}));return t.key=Dt(e.key),t.aes=new qe(t.key),t.api.sid=t.sid=e.sid,t.name=e.name,t.user=e.user,t}decryptRsaKey(e){return Ar(e,this.RSAPrivateKey)}});var wo=2,_o=3,mo=4;const Zt=(i,e)=>e.some(t=>i instanceof t);let Or,xr;function vo(){return Or||(Or=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Eo(){return xr||(xr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const er=new WeakMap,Vt=new WeakMap,Ct=new WeakMap;function So(i){const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",f)},l=()=>{t(at(i.result)),a()},f=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",f)});return Ct.set(e,i),e}function Ao(i){if(er.has(i))return;const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",f),i.removeEventListener("abort",f)},l=()=>{t(),a()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",f),i.addEventListener("abort",f)});er.set(i,e)}let tr={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return er.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return at(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function In(i){tr=i(tr)}function Ro(i){return Eo().includes(i)?function(...e){return i.apply(rr(this),e),at(this.request)}:function(...e){return at(i.apply(rr(this),e))}}function Io(i){return typeof i=="function"?Ro(i):(i instanceof IDBTransaction&&Ao(i),Zt(i,vo())?new Proxy(i,tr):i)}function at(i){if(i instanceof IDBRequest)return So(i);if(Vt.has(i))return Vt.get(i);const e=Io(i);return e!==i&&(Vt.set(i,e),Ct.set(e,i)),e}const rr=i=>Ct.get(i);function To(i,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const f=indexedDB.open(i,e),n=at(f);return r&&f.addEventListener("upgradeneeded",d=>{r(at(f.result),d.oldVersion,d.newVersion,at(f.transaction),d)}),t&&f.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),n.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),n}const Bo=["get","getKey","getAll","getAllKeys","count"],Oo=["put","add","delete","clear"],Ht=new Map;function Pr(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Ht.get(e))return Ht.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=Oo.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Bo.includes(t)))return;const l=async function(f,...n){const d=this.transaction(f,a?"readwrite":"readonly");let u=d.store;return r&&(u=u.index(n.shift())),(await Promise.all([u[t](...n),a&&d.done]))[0]};return Ht.set(e,l),l}In(i=>({...i,get:(e,t,r)=>Pr(e,t)||i.get(e,t,r),has:(e,t)=>!!Pr(e,t)||i.has(e,t)}));const xo=["continue","continuePrimaryKey","advance"],Mr={},nr=new WeakMap,Tn=new WeakMap,Po={get(i,e){if(!xo.includes(e))return i[e];let t=Mr[e];return t||(t=Mr[e]=function(...r){nr.set(this,Tn.get(this)[e](...r))}),t}};async function*Mo(...i){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...i)),!e)return;e=e;const t=new Proxy(e,Po);for(Tn.set(t,e),Ct.set(t,rr(e));e;)yield t,e=await(nr.get(t)||e.continue()),nr.delete(t)}function Lr(i,e){return e===Symbol.asyncIterator&&Zt(i,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&Zt(i,[IDBIndex,IDBObjectStore])}In(i=>({...i,get(e,t,r){return Lr(e,t)?Mo:i.get(e,t,r)},has(e,t){return Lr(e,t)||i.has(e,t)}}));let Kt=null;async function lt(){const i=await To("music",3,{upgrade(e,t,r,a,l){Kt=t,t<1&&(e.createObjectStore("album",{keyPath:"folderName"}),e.createObjectStore("image",{keyPath:"id"}),e.createObjectStore("song",{keyPath:"id"})),t<2&&e.createObjectStore("albumFolder")}});return Kt&&Kt<3&&await i.clear("song"),i}async function Lo(){const i=await lt(),e=await i.getAll("album"),t=await i.get("albumFolder","german")??[],r=await i.get("albumFolder","russian")??[],a=await i.get("albumFolder","instrumental")??[],l=await i.get("albumFolder","geistlicheLieder")??[],f=await i.get("albumFolder","russianBook")??[];return i.close(),{german:e.filter(n=>t.includes(n.folderName)),russian:e.filter(n=>r.includes(n.folderName)),instrumental:e.filter(n=>a.includes(n.folderName)),geistlicheLieder:e.find(n=>l.includes(n.folderName)),russianBook:e.find(n=>f.includes(n.folderName))}}async function ko(i){const e=await lt(),t=e.transaction(["album","albumFolder"],"readwrite"),r=t.objectStore("albumFolder");r.clear(),r.put(i.german.map(f=>f.folderName),"german"),r.put(i.russian.map(f=>f.folderName),"russian"),r.put(i.instrumental.map(f=>f.folderName),"instrumental"),r.put([i.geistlicheLieder.folderName],"geistlicheLieder"),r.put([i.russianBook.folderName],"russianBook");const a=t.objectStore("album");a.clear();const l=[];for(const f of i.german)l.push(a.put(f));for(const f of i.russian)l.push(a.put(f));for(const f of i.instrumental)l.push(a.put(f));l.push(a.put(i.geistlicheLieder)),l.push(a.put(i.russianBook)),await Promise.all(l),t.commit(),e.close()}const kr={};async function Jo(i){const e=bt(i);let t=kr[e];if(!t){const r=await jo(i);t=URL.createObjectURL(r),kr[e]=t}return t}async function jo(i){const e=bt(i),t=await lt(),r=await t.get("image",e);if(t.close(),r)return r.blob;const a=await new Ke({key:i.key,downloadId:i.downloadId}).downloadBuffer({end:i.fileSize}),l=new Blob([a]);return No(i,l),l}async function No(i,e){const r={id:bt(i),blob:e},a=await lt();await a.add("image",r),a.close()}var zt={};async function Do(i){const e=bt(i),t=await lt(),r=await t.get("song",e);if(t.close(),r)return r.blob;try{return zt[i.downloadId]==null&&(zt[i.downloadId]=Co(i,e)),zt[i.downloadId]}catch(a){throw a}}async function Co(i,e){const t=await new Ke({key:i.key,downloadId:i.downloadId}).downloadBuffer({end:i.fileSize}),r=new Blob([t],{type:"audio/mpeg"});return Uo(i,r),Cr.update(a=>a.includes(e)?a:[...a,e]),r}async function Uo(i,e){const r={id:bt(i),name:i.name,blob:e},a=await lt();await a.add("song",r),a.close()}async function Fo(){const i=await lt(),e=await i.getAllKeys("song");return i.close(),e}function bt(i){return JSON.stringify(i.downloadId)}const _t={GERMAN_SONGS_URL:"https://mega.nz/folder/b6RACRQI#jDnUGMJCQLF57D0WKd9Vmg",RUSSIAN_SONGS_URL:"https://mega.nz/folder/lExABJSB#kqZ2hZTf2Wg9tdsVIkbIIQ",INSTRUMENTAL_SONGS_URL:"https://mega.nz/folder/N08k2ILC#BNbDNDWmXDXbFIY412V1qA",GEISTLICHE_LIEDER_URL:"https://mega.nz/folder/Dm5x2LRZ#OLhiAvvoX4qZTZGDLPn0SQ",RUSSIAN_BOOK:"https://mega.nz/folder/3zIxQbpT#pwb_r_7oq0ZRnerldK4sLA"};function Xo(i){return i.german.flatMap(e=>e.musics).concat(i.russian.flatMap(e=>e.musics)).concat(i.instrumental.flatMap(e=>e.musics)).concat(i.geistlicheLieder?.musics.map(e=>({...e,name:e.name.split("_",2)[1]}))??[]).concat(i.russianBook?.musics.map(e=>({...e,name:e.name.split("-",2)[1].trimStart()}))??[])}async function Wo(){return{german:await Yt(_t.GERMAN_SONGS_URL),russian:await Yt(_t.RUSSIAN_SONGS_URL),instrumental:await Yt(_t.INSTRUMENTAL_SONGS_URL),geistlicheLieder:await jr(_t.GEISTLICHE_LIEDER_URL),russianBook:await jr(_t.RUSSIAN_BOOK)}}async function Yt(i){const e=Ke.fromURL(i);return await e.loadAttributes(),e.children.filter(t=>t.directory).map(Bn)}async function jr(i){const e=Ke.fromURL(i);return await e.loadAttributes(),Bn(e)}function Bn(i){const e=i.children.find(t=>t.name?.endsWith(".jpg"));return{name:i.name.split("(")[0].trim(),folderName:i.name,image:e?{key:e.key,downloadId:e.downloadId,fileSize:e.size}:null,musics:i.children.filter(t=>t.name.endsWith(".mp3")||t.name.endsWith(".webm")||t.name.endsWith(".mp4")).map(t=>({name:t.name.substring(0,t.name.lastIndexOf(".")).trim(),link:{key:t.key,downloadId:t.downloadId,fileSize:t.size}}))}}async function ut(i,e,t){try{const r=e[t];Gt.update(l=>({...l,isLoading:!0,src:null,album:i,song:r,playPrevious:t>0?()=>ut(i,e,t-1):null,playNext:t<e.length-1?()=>ut(i,e,t+1):null,playRandom:()=>ut(i,e,Nr(e.length))}));const a=await Do({name:r.name,...r.link});Gt.update(l=>(l.src!=null&&URL.revokeObjectURL(l.src),{...l,isLoading:!1,src:URL.createObjectURL(a),album:i,song:r,playPrevious:t>0?()=>ut(i,e,t-1):null,playNext:t<e.length-1?()=>ut(i,e,t+1):null,playRandom:()=>ut(i,e,Nr(e.length))}))}catch{Gt.update(r=>({...r,isLoading:!1,fileLink:null,src:null}))}}function Nr(i){return Math.floor(Math.random()*i)}const hr="music/favorites";function qo(){Mt.set(localStorage.getItem(hr)??"")}async function $o(){Cr.set(await Fo())}function Go(){let i=kn(Mt);return i==null&&(i=localStorage.getItem(hr)??"",Mt.set(i)),i}function Qo(i){const e=`;${bt(i)};`,t=Go();let r;t?.includes(e)??!1?r=t.replace(e,""):r=t+e,localStorage.setItem(hr,r),Mt.set(r)}let Dr=!1;async function Zo(){if(Dr)return;jn()&&(ct.getGlobalApi().userAgent=null),qo(),await $o();const i=await Lo();if(Er.set(i),navigator.onLine){const e=Wo().then(async t=>{Er.set(t),await ko(t)});i.geistlicheLieder==null&&i.german.length===0&&i.instrumental.length===0&&i.russian.length===0&&i.russianBook==null&&await e}Dr=!0}export{bt as a,Do as b,Xo as c,Jo as g,Zo as i,ut as p,Qo as t};
