import{g as jn}from"./index.CHZgtsRV.js";import{i as Dn}from"./common.BBZgiPtT.js";import{o as qr,f as xt,c as Br,d as $t}from"./store.BdJHKpEb.js";var Cn=Object.create,Lt=Object.defineProperty,Un=Object.getOwnPropertyDescriptor,sr=Object.getOwnPropertyNames,Fn=Object.getPrototypeOf,Wn=Object.prototype.hasOwnProperty,$r=(i,e)=>function(){return i&&(e=(0,i[sr(i)[0]])(i=0)),e},he=(i,e)=>function(){return e||(0,i[sr(i)[0]])((e={exports:{}}).exports,e),e.exports},qn=(i,e)=>{for(var t in e)Lt(i,t,{get:e[t],enumerable:!0})},Gr=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of sr(e))!Wn.call(i,a)&&a!==t&&Lt(i,a,{get:()=>e[a],enumerable:!(r=Un(e,a))||r.enumerable});return i},Ue=(i,e,t)=>(t=i!=null?Cn(Fn(i)):{},Gr(Lt(t,"default",{value:i,enumerable:!0}),i)),Rt=i=>Gr(Lt({},"__esModule",{value:!0}),i),$n=he({"node_modules/base64-js/index.js"(i){fe(),i.byteLength=c,i.toByteArray=y,i.fromByteArray=b;var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(l=0,f=a.length;l<f;++l)e[l]=a[l],t[a.charCodeAt(l)]=l;var l,f;t[45]=62,t[95]=63;function n(d){var P=d.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=d.indexOf("=");T===-1&&(T=P);var A=T===P?0:4-T%4;return[T,A]}function c(d){var P=n(d),T=P[0],A=P[1];return(T+A)*3/4-A}function u(d,P,T){return(P+T)*3/4-T}function y(d){var P,T=n(d),A=T[0],h=T[1],E=new r(u(d,A,h)),x=0,S=h>0?A-4:A,O;for(O=0;O<S;O+=4)P=t[d.charCodeAt(O)]<<18|t[d.charCodeAt(O+1)]<<12|t[d.charCodeAt(O+2)]<<6|t[d.charCodeAt(O+3)],E[x++]=P>>16&255,E[x++]=P>>8&255,E[x++]=P&255;return h===2&&(P=t[d.charCodeAt(O)]<<2|t[d.charCodeAt(O+1)]>>4,E[x++]=P&255),h===1&&(P=t[d.charCodeAt(O)]<<10|t[d.charCodeAt(O+1)]<<4|t[d.charCodeAt(O+2)]>>2,E[x++]=P>>8&255,E[x++]=P&255),E}function g(d){return e[d>>18&63]+e[d>>12&63]+e[d>>6&63]+e[d&63]}function _(d,P,T){for(var A,h=[],E=P;E<T;E+=3)A=(d[E]<<16&16711680)+(d[E+1]<<8&65280)+(d[E+2]&255),h.push(g(A));return h.join("")}function b(d){for(var P,T=d.length,A=T%3,h=[],E=16383,x=0,S=T-A;x<S;x+=E)h.push(_(d,x,x+E>S?S:x+E));return A===1?(P=d[T-1],h.push(e[P>>2]+e[P<<4&63]+"==")):A===2&&(P=(d[T-2]<<8)+d[T-1],h.push(e[P>>10]+e[P>>4&63]+e[P<<2&63]+"=")),h.join("")}}}),Gn=he({"node_modules/ieee754/index.js"(i){fe(),i.read=function(e,t,r,a,l){var f,n,c=l*8-a-1,u=(1<<c)-1,y=u>>1,g=-7,_=r?l-1:0,b=r?-1:1,d=e[t+_];for(_+=b,f=d&(1<<-g)-1,d>>=-g,g+=c;g>0;f=f*256+e[t+_],_+=b,g-=8);for(n=f&(1<<-g)-1,f>>=-g,g+=a;g>0;n=n*256+e[t+_],_+=b,g-=8);if(f===0)f=1-y;else{if(f===u)return n?NaN:(d?-1:1)*(1/0);n=n+Math.pow(2,a),f=f-y}return(d?-1:1)*n*Math.pow(2,f-a)},i.write=function(e,t,r,a,l,f){var n,c,u,y=f*8-l-1,g=(1<<y)-1,_=g>>1,b=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=a?0:f-1,P=a?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,n=g):(n=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-n))<1&&(n--,u*=2),n+_>=1?t+=b/u:t+=b*Math.pow(2,1-_),t*u>=2&&(n++,u/=2),n+_>=g?(c=0,n=g):n+_>=1?(c=(t*u-1)*Math.pow(2,l),n=n+_):(c=t*Math.pow(2,_-1)*Math.pow(2,l),n=0));l>=8;e[r+d]=c&255,d+=P,c/=256,l-=8);for(n=n<<l|c,y+=l;y>0;e[r+d]=n&255,d+=P,n/=256,y-=8);e[r+d-P]|=T*128}}}),Fe=he({"node_modules/buffer/index.js"(i){fe();var e=$n(),t=Gn(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=n,i.SlowBuffer=h,i.INSPECT_MAX_BYTES=50;var a=2147483647;i.kMaxLength=a,n.TYPED_ARRAY_SUPPORT=l(),!n.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const w=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(w,o),w.foo()===42}catch{return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}});function f(w){if(w>a)throw new RangeError('The value "'+w+'" is invalid for option "size"');const o=new Uint8Array(w);return Object.setPrototypeOf(o,n.prototype),o}function n(w,o,s){if(typeof w=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(w)}return c(w,o,s)}n.poolSize=8192;function c(w,o,s){if(typeof w=="string")return _(w,o);if(ArrayBuffer.isView(w))return d(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(ie(w,ArrayBuffer)||w&&ie(w.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ie(w,SharedArrayBuffer)||w&&ie(w.buffer,SharedArrayBuffer)))return P(w,o,s);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=w.valueOf&&w.valueOf();if(I!=null&&I!==w)return n.from(I,o,s);const q=T(w);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return n.from(w[Symbol.toPrimitive]("string"),o,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}n.from=function(w,o,s){return c(w,o,s)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function u(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function y(w,o,s){return u(w),w<=0?f(w):o!==void 0?typeof s=="string"?f(w).fill(o,s):f(w).fill(o):f(w)}n.alloc=function(w,o,s){return y(w,o,s)};function g(w){return u(w),f(w<0?0:A(w)|0)}n.allocUnsafe=function(w){return g(w)},n.allocUnsafeSlow=function(w){return g(w)};function _(w,o){if((typeof o!="string"||o==="")&&(o="utf8"),!n.isEncoding(o))throw new TypeError("Unknown encoding: "+o);const s=E(w,o)|0;let I=f(s);const q=I.write(w,o);return q!==s&&(I=I.slice(0,q)),I}function b(w){const o=w.length<0?0:A(w.length)|0,s=f(o);for(let I=0;I<o;I+=1)s[I]=w[I]&255;return s}function d(w){if(ie(w,Uint8Array)){const o=new Uint8Array(w);return P(o.buffer,o.byteOffset,o.byteLength)}return b(w)}function P(w,o,s){if(o<0||w.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<o+(s||0))throw new RangeError('"length" is outside of buffer bounds');let I;return o===void 0&&s===void 0?I=new Uint8Array(w):s===void 0?I=new Uint8Array(w,o):I=new Uint8Array(w,o,s),Object.setPrototypeOf(I,n.prototype),I}function T(w){if(n.isBuffer(w)){const o=A(w.length)|0,s=f(o);return s.length===0||w.copy(s,0,0,o),s}if(w.length!==void 0)return typeof w.length!="number"||ye(w.length)?f(0):b(w);if(w.type==="Buffer"&&Array.isArray(w.data))return b(w.data)}function A(w){if(w>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return w|0}function h(w){return+w!=w&&(w=0),n.alloc(+w)}n.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==n.prototype},n.compare=function(o,s){if(ie(o,Uint8Array)&&(o=n.from(o,o.offset,o.byteLength)),ie(s,Uint8Array)&&(s=n.from(s,s.offset,s.byteLength)),!n.isBuffer(o)||!n.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===s)return 0;let I=o.length,q=s.length;for(let Q=0,te=Math.min(I,q);Q<te;++Q)if(o[Q]!==s[Q]){I=o[Q],q=s[Q];break}return I<q?-1:q<I?1:0},n.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(o,s){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return n.alloc(0);let I;if(s===void 0)for(s=0,I=0;I<o.length;++I)s+=o[I].length;const q=n.allocUnsafe(s);let Q=0;for(I=0;I<o.length;++I){let te=o[I];if(ie(te,Uint8Array))Q+te.length>q.length?(n.isBuffer(te)||(te=n.from(te)),te.copy(q,Q)):Uint8Array.prototype.set.call(q,te,Q);else if(n.isBuffer(te))te.copy(q,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=te.length}return q};function E(w,o){if(n.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||ie(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);const s=w.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&s===0)return 0;let q=!1;for(;;)switch(o){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return J(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return ce(w).length;default:if(q)return I?-1:J(w).length;o=(""+o).toLowerCase(),q=!0}}n.byteLength=E;function x(w,o,s){let I=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,o>>>=0,s<=o))return"";for(w||(w="utf8");;)switch(w){case"hex":return _e(this,o,s);case"utf8":case"utf-8":return ee(this,o,s);case"ascii":return pe(this,o,s);case"latin1":case"binary":return we(this,o,s);case"base64":return z(this,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,o,s);default:if(I)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),I=!0}}n.prototype._isBuffer=!0;function S(w,o,s){const I=w[o];w[o]=w[s],w[s]=I}n.prototype.swap16=function(){const o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let s=0;s<o;s+=2)S(this,s,s+1);return this},n.prototype.swap32=function(){const o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let s=0;s<o;s+=4)S(this,s,s+3),S(this,s+1,s+2);return this},n.prototype.swap64=function(){const o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let s=0;s<o;s+=8)S(this,s,s+7),S(this,s+1,s+6),S(this,s+2,s+5),S(this,s+3,s+4);return this},n.prototype.toString=function(){const o=this.length;return o===0?"":arguments.length===0?ee(this,0,o):x.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(o){if(!n.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:n.compare(this,o)===0},n.prototype.inspect=function(){let o="";const s=i.INSPECT_MAX_BYTES;return o=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(o+=" ... "),"<Buffer "+o+">"},r&&(n.prototype[r]=n.prototype.inspect),n.prototype.compare=function(o,s,I,q,Q){if(ie(o,Uint8Array)&&(o=n.from(o,o.offset,o.byteLength)),!n.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(s===void 0&&(s=0),I===void 0&&(I=o?o.length:0),q===void 0&&(q=0),Q===void 0&&(Q=this.length),s<0||I>o.length||q<0||Q>this.length)throw new RangeError("out of range index");if(q>=Q&&s>=I)return 0;if(q>=Q)return-1;if(s>=I)return 1;if(s>>>=0,I>>>=0,q>>>=0,Q>>>=0,this===o)return 0;let te=Q-q,Ae=I-s;const Te=Math.min(te,Ae),Ie=this.slice(q,Q),Be=o.slice(s,I);for(let Re=0;Re<Te;++Re)if(Ie[Re]!==Be[Re]){te=Ie[Re],Ae=Be[Re];break}return te<Ae?-1:Ae<te?1:0};function O(w,o,s,I,q){if(w.length===0)return-1;if(typeof s=="string"?(I=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,ye(s)&&(s=q?0:w.length-1),s<0&&(s=w.length+s),s>=w.length){if(q)return-1;s=w.length-1}else if(s<0)if(q)s=0;else return-1;if(typeof o=="string"&&(o=n.from(o,I)),n.isBuffer(o))return o.length===0?-1:j(w,o,s,I,q);if(typeof o=="number")return o=o&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(w,o,s):Uint8Array.prototype.lastIndexOf.call(w,o,s):j(w,[o],s,I,q);throw new TypeError("val must be string, number or Buffer")}function j(w,o,s,I,q){let Q=1,te=w.length,Ae=o.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(w.length<2||o.length<2)return-1;Q=2,te/=2,Ae/=2,s/=2}function Te(Be,Re){return Q===1?Be[Re]:Be.readUInt16BE(Re*Q)}let Ie;if(q){let Be=-1;for(Ie=s;Ie<te;Ie++)if(Te(w,Ie)===Te(o,Be===-1?0:Ie-Be)){if(Be===-1&&(Be=Ie),Ie-Be+1===Ae)return Be*Q}else Be!==-1&&(Ie-=Ie-Be),Be=-1}else for(s+Ae>te&&(s=te-Ae),Ie=s;Ie>=0;Ie--){let Be=!0;for(let Re=0;Re<Ae;Re++)if(Te(w,Ie+Re)!==Te(o,Re)){Be=!1;break}if(Be)return Ie}return-1}n.prototype.includes=function(o,s,I){return this.indexOf(o,s,I)!==-1},n.prototype.indexOf=function(o,s,I){return O(this,o,s,I,!0)},n.prototype.lastIndexOf=function(o,s,I){return O(this,o,s,I,!1)};function G(w,o,s,I){s=Number(s)||0;const q=w.length-s;I?(I=Number(I),I>q&&(I=q)):I=q;const Q=o.length;I>Q/2&&(I=Q/2);let te;for(te=0;te<I;++te){const Ae=parseInt(o.substr(te*2,2),16);if(ye(Ae))return te;w[s+te]=Ae}return te}function Z(w,o,s,I){return W(J(o,w.length-s),w,s,I)}function Y(w,o,s,I){return W(ne(o),w,s,I)}function ae(w,o,s,I){return W(ce(o),w,s,I)}function F(w,o,s,I){return W(U(o,w.length-s),w,s,I)}n.prototype.write=function(o,s,I,q){if(s===void 0)q="utf8",I=this.length,s=0;else if(I===void 0&&typeof s=="string")q=s,I=this.length,s=0;else if(isFinite(s))s=s>>>0,isFinite(I)?(I=I>>>0,q===void 0&&(q="utf8")):(q=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Q=this.length-s;if((I===void 0||I>Q)&&(I=Q),o.length>0&&(I<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let te=!1;for(;;)switch(q){case"hex":return G(this,o,s,I);case"utf8":case"utf-8":return Z(this,o,s,I);case"ascii":case"latin1":case"binary":return Y(this,o,s,I);case"base64":return ae(this,o,s,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,o,s,I);default:if(te)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),te=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(w,o,s){return o===0&&s===w.length?e.fromByteArray(w):e.fromByteArray(w.slice(o,s))}function ee(w,o,s){s=Math.min(w.length,s);const I=[];let q=o;for(;q<s;){const Q=w[q];let te=null,Ae=Q>239?4:Q>223?3:Q>191?2:1;if(q+Ae<=s){let Te,Ie,Be,Re;switch(Ae){case 1:Q<128&&(te=Q);break;case 2:Te=w[q+1],(Te&192)===128&&(Re=(Q&31)<<6|Te&63,Re>127&&(te=Re));break;case 3:Te=w[q+1],Ie=w[q+2],(Te&192)===128&&(Ie&192)===128&&(Re=(Q&15)<<12|(Te&63)<<6|Ie&63,Re>2047&&(Re<55296||Re>57343)&&(te=Re));break;case 4:Te=w[q+1],Ie=w[q+2],Be=w[q+3],(Te&192)===128&&(Ie&192)===128&&(Be&192)===128&&(Re=(Q&15)<<18|(Te&63)<<12|(Ie&63)<<6|Be&63,Re>65535&&Re<1114112&&(te=Re))}}te===null?(te=65533,Ae=1):te>65535&&(te-=65536,I.push(te>>>10&1023|55296),te=56320|te&1023),I.push(te),q+=Ae}return ue(I)}var K=4096;function ue(w){const o=w.length;if(o<=K)return String.fromCharCode.apply(String,w);let s="",I=0;for(;I<o;)s+=String.fromCharCode.apply(String,w.slice(I,I+=K));return s}function pe(w,o,s){let I="";s=Math.min(w.length,s);for(let q=o;q<s;++q)I+=String.fromCharCode(w[q]&127);return I}function we(w,o,s){let I="";s=Math.min(w.length,s);for(let q=o;q<s;++q)I+=String.fromCharCode(w[q]);return I}function _e(w,o,s){const I=w.length;(!o||o<0)&&(o=0),(!s||s<0||s>I)&&(s=I);let q="";for(let Q=o;Q<s;++Q)q+=oe[w[Q]];return q}function X(w,o,s){const I=w.slice(o,s);let q="";for(let Q=0;Q<I.length-1;Q+=2)q+=String.fromCharCode(I[Q]+I[Q+1]*256);return q}n.prototype.slice=function(o,s){const I=this.length;o=~~o,s=s===void 0?I:~~s,o<0?(o+=I,o<0&&(o=0)):o>I&&(o=I),s<0?(s+=I,s<0&&(s=0)):s>I&&(s=I),s<o&&(s=o);const q=this.subarray(o,s);return Object.setPrototypeOf(q,n.prototype),q};function le(w,o,s){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+o>s)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(o,s,I){o=o>>>0,s=s>>>0,I||le(o,s,this.length);let q=this[o],Q=1,te=0;for(;++te<s&&(Q*=256);)q+=this[o+te]*Q;return q},n.prototype.readUintBE=n.prototype.readUIntBE=function(o,s,I){o=o>>>0,s=s>>>0,I||le(o,s,this.length);let q=this[o+--s],Q=1;for(;s>0&&(Q*=256);)q+=this[o+--s]*Q;return q},n.prototype.readUint8=n.prototype.readUInt8=function(o,s){return o=o>>>0,s||le(o,1,this.length),this[o]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(o,s){return o=o>>>0,s||le(o,2,this.length),this[o]|this[o+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(o,s){return o=o>>>0,s||le(o,2,this.length),this[o]<<8|this[o+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(o,s){return o=o>>>0,s||le(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(o,s){return o=o>>>0,s||le(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},n.prototype.readBigUInt64LE=Se(function(o){o=o>>>0,m(o,"offset");const s=this[o],I=this[o+7];(s===void 0||I===void 0)&&v(o,this.length-8);const q=s+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,Q=this[++o]+this[++o]*2**8+this[++o]*2**16+I*2**24;return BigInt(q)+(BigInt(Q)<<BigInt(32))}),n.prototype.readBigUInt64BE=Se(function(o){o=o>>>0,m(o,"offset");const s=this[o],I=this[o+7];(s===void 0||I===void 0)&&v(o,this.length-8);const q=s*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],Q=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+I;return(BigInt(q)<<BigInt(32))+BigInt(Q)}),n.prototype.readIntLE=function(o,s,I){o=o>>>0,s=s>>>0,I||le(o,s,this.length);let q=this[o],Q=1,te=0;for(;++te<s&&(Q*=256);)q+=this[o+te]*Q;return Q*=128,q>=Q&&(q-=Math.pow(2,8*s)),q},n.prototype.readIntBE=function(o,s,I){o=o>>>0,s=s>>>0,I||le(o,s,this.length);let q=s,Q=1,te=this[o+--q];for(;q>0&&(Q*=256);)te+=this[o+--q]*Q;return Q*=128,te>=Q&&(te-=Math.pow(2,8*s)),te},n.prototype.readInt8=function(o,s){return o=o>>>0,s||le(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},n.prototype.readInt16LE=function(o,s){o=o>>>0,s||le(o,2,this.length);const I=this[o]|this[o+1]<<8;return I&32768?I|4294901760:I},n.prototype.readInt16BE=function(o,s){o=o>>>0,s||le(o,2,this.length);const I=this[o+1]|this[o]<<8;return I&32768?I|4294901760:I},n.prototype.readInt32LE=function(o,s){return o=o>>>0,s||le(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},n.prototype.readInt32BE=function(o,s){return o=o>>>0,s||le(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},n.prototype.readBigInt64LE=Se(function(o){o=o>>>0,m(o,"offset");const s=this[o],I=this[o+7];(s===void 0||I===void 0)&&v(o,this.length-8);const q=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(I<<24);return(BigInt(q)<<BigInt(32))+BigInt(s+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),n.prototype.readBigInt64BE=Se(function(o){o=o>>>0,m(o,"offset");const s=this[o],I=this[o+7];(s===void 0||I===void 0)&&v(o,this.length-8);const q=(s<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(q)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+I)}),n.prototype.readFloatLE=function(o,s){return o=o>>>0,s||le(o,4,this.length),t.read(this,o,!0,23,4)},n.prototype.readFloatBE=function(o,s){return o=o>>>0,s||le(o,4,this.length),t.read(this,o,!1,23,4)},n.prototype.readDoubleLE=function(o,s){return o=o>>>0,s||le(o,8,this.length),t.read(this,o,!0,52,8)},n.prototype.readDoubleBE=function(o,s){return o=o>>>0,s||le(o,8,this.length),t.read(this,o,!1,52,8)};function p(w,o,s,I,q,Q){if(!n.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>q||o<Q)throw new RangeError('"value" argument is out of bounds');if(s+I>w.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(o,s,I,q){if(o=+o,s=s>>>0,I=I>>>0,!q){const Ae=Math.pow(2,8*I)-1;p(this,o,s,I,Ae,0)}let Q=1,te=0;for(this[s]=o&255;++te<I&&(Q*=256);)this[s+te]=o/Q&255;return s+I},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(o,s,I,q){if(o=+o,s=s>>>0,I=I>>>0,!q){const Ae=Math.pow(2,8*I)-1;p(this,o,s,I,Ae,0)}let Q=I-1,te=1;for(this[s+Q]=o&255;--Q>=0&&(te*=256);)this[s+Q]=o/te&255;return s+I},n.prototype.writeUint8=n.prototype.writeUInt8=function(o,s,I){return o=+o,s=s>>>0,I||p(this,o,s,1,255,0),this[s]=o&255,s+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(o,s,I){return o=+o,s=s>>>0,I||p(this,o,s,2,65535,0),this[s]=o&255,this[s+1]=o>>>8,s+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(o,s,I){return o=+o,s=s>>>0,I||p(this,o,s,2,65535,0),this[s]=o>>>8,this[s+1]=o&255,s+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(o,s,I){return o=+o,s=s>>>0,I||p(this,o,s,4,4294967295,0),this[s+3]=o>>>24,this[s+2]=o>>>16,this[s+1]=o>>>8,this[s]=o&255,s+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(o,s,I){return o=+o,s=s>>>0,I||p(this,o,s,4,4294967295,0),this[s]=o>>>24,this[s+1]=o>>>16,this[s+2]=o>>>8,this[s+3]=o&255,s+4};function k(w,o,s,I,q){re(o,I,q,w,s,7);let Q=Number(o&BigInt(4294967295));w[s++]=Q,Q=Q>>8,w[s++]=Q,Q=Q>>8,w[s++]=Q,Q=Q>>8,w[s++]=Q;let te=Number(o>>BigInt(32)&BigInt(4294967295));return w[s++]=te,te=te>>8,w[s++]=te,te=te>>8,w[s++]=te,te=te>>8,w[s++]=te,s}function H(w,o,s,I,q){re(o,I,q,w,s,7);let Q=Number(o&BigInt(4294967295));w[s+7]=Q,Q=Q>>8,w[s+6]=Q,Q=Q>>8,w[s+5]=Q,Q=Q>>8,w[s+4]=Q;let te=Number(o>>BigInt(32)&BigInt(4294967295));return w[s+3]=te,te=te>>8,w[s+2]=te,te=te>>8,w[s+1]=te,te=te>>8,w[s]=te,s+8}n.prototype.writeBigUInt64LE=Se(function(o,s=0){return k(this,o,s,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=Se(function(o,s=0){return H(this,o,s,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(o,s,I,q){if(o=+o,s=s>>>0,!q){const Te=Math.pow(2,8*I-1);p(this,o,s,I,Te-1,-Te)}let Q=0,te=1,Ae=0;for(this[s]=o&255;++Q<I&&(te*=256);)o<0&&Ae===0&&this[s+Q-1]!==0&&(Ae=1),this[s+Q]=(o/te>>0)-Ae&255;return s+I},n.prototype.writeIntBE=function(o,s,I,q){if(o=+o,s=s>>>0,!q){const Te=Math.pow(2,8*I-1);p(this,o,s,I,Te-1,-Te)}let Q=I-1,te=1,Ae=0;for(this[s+Q]=o&255;--Q>=0&&(te*=256);)o<0&&Ae===0&&this[s+Q+1]!==0&&(Ae=1),this[s+Q]=(o/te>>0)-Ae&255;return s+I},n.prototype.writeInt8=function(o,s,I){return o=+o,s=s>>>0,I||p(this,o,s,1,127,-128),o<0&&(o=255+o+1),this[s]=o&255,s+1},n.prototype.writeInt16LE=function(o,s,I){return o=+o,s=s>>>0,I||p(this,o,s,2,32767,-32768),this[s]=o&255,this[s+1]=o>>>8,s+2},n.prototype.writeInt16BE=function(o,s,I){return o=+o,s=s>>>0,I||p(this,o,s,2,32767,-32768),this[s]=o>>>8,this[s+1]=o&255,s+2},n.prototype.writeInt32LE=function(o,s,I){return o=+o,s=s>>>0,I||p(this,o,s,4,2147483647,-2147483648),this[s]=o&255,this[s+1]=o>>>8,this[s+2]=o>>>16,this[s+3]=o>>>24,s+4},n.prototype.writeInt32BE=function(o,s,I){return o=+o,s=s>>>0,I||p(this,o,s,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[s]=o>>>24,this[s+1]=o>>>16,this[s+2]=o>>>8,this[s+3]=o&255,s+4},n.prototype.writeBigInt64LE=Se(function(o,s=0){return k(this,o,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=Se(function(o,s=0){return H(this,o,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function V(w,o,s,I,q,Q){if(s+I>w.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function se(w,o,s,I,q){return o=+o,s=s>>>0,q||V(w,o,s,4),t.write(w,o,s,I,23,4),s+4}n.prototype.writeFloatLE=function(o,s,I){return se(this,o,s,!0,I)},n.prototype.writeFloatBE=function(o,s,I){return se(this,o,s,!1,I)};function de(w,o,s,I,q){return o=+o,s=s>>>0,q||V(w,o,s,8),t.write(w,o,s,I,52,8),s+8}n.prototype.writeDoubleLE=function(o,s,I){return de(this,o,s,!0,I)},n.prototype.writeDoubleBE=function(o,s,I){return de(this,o,s,!1,I)},n.prototype.copy=function(o,s,I,q){if(!n.isBuffer(o))throw new TypeError("argument should be a Buffer");if(I||(I=0),!q&&q!==0&&(q=this.length),s>=o.length&&(s=o.length),s||(s=0),q>0&&q<I&&(q=I),q===I||o.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),o.length-s<q-I&&(q=o.length-s+I);const Q=q-I;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,I,q):Uint8Array.prototype.set.call(o,this.subarray(I,q),s),Q},n.prototype.fill=function(o,s,I,q){if(typeof o=="string"){if(typeof s=="string"?(q=s,s=0,I=this.length):typeof I=="string"&&(q=I,I=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!n.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(o.length===1){const te=o.charCodeAt(0);(q==="utf8"&&te<128||q==="latin1")&&(o=te)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(s<0||this.length<s||this.length<I)throw new RangeError("Out of range index");if(I<=s)return this;s=s>>>0,I=I===void 0?this.length:I>>>0,o||(o=0);let Q;if(typeof o=="number")for(Q=s;Q<I;++Q)this[Q]=o;else{const te=n.isBuffer(o)?o:n.from(o,q),Ae=te.length;if(Ae===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(Q=0;Q<I-s;++Q)this[Q+s]=te[Q%Ae]}return this};var C={};function D(w,o,s){C[w]=class extends s{constructor(){super(),Object.defineProperty(this,"message",{value:o.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}}}D("ERR_BUFFER_OUT_OF_BOUNDS",function(w){return w?`${w} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),D("ERR_INVALID_ARG_TYPE",function(w,o){return`The "${w}" argument must be of type number. Received type ${typeof o}`},TypeError),D("ERR_OUT_OF_RANGE",function(w,o,s){let I=`The value of "${w}" is out of range.`,q=s;return Number.isInteger(s)&&Math.abs(s)>2**32?q=M(String(s)):typeof s=="bigint"&&(q=String(s),(s>BigInt(2)**BigInt(32)||s<-(BigInt(2)**BigInt(32)))&&(q=M(q)),q+="n"),I+=` It must be ${o}. Received ${q}`,I},RangeError);function M(w){let o="",s=w.length;const I=w[0]==="-"?1:0;for(;s>=I+4;s-=3)o=`_${w.slice(s-3,s)}${o}`;return`${w.slice(0,s)}${o}`}function $(w,o,s){m(o,"offset"),(w[o]===void 0||w[o+s]===void 0)&&v(o,w.length-(s+1))}function re(w,o,s,I,q,Q){if(w>s||w<o){const te=typeof o=="bigint"?"n":"";let Ae;throw o===0||o===BigInt(0)?Ae=`>= 0${te} and < 2${te} ** ${(Q+1)*8}${te}`:Ae=`>= -(2${te} ** ${(Q+1)*8-1}${te}) and < 2 ** ${(Q+1)*8-1}${te}`,new C.ERR_OUT_OF_RANGE("value",Ae,w)}$(I,q,Q)}function m(w,o){if(typeof w!="number")throw new C.ERR_INVALID_ARG_TYPE(o,"number",w)}function v(w,o,s){throw Math.floor(w)!==w?(m(w,s),new C.ERR_OUT_OF_RANGE("offset","an integer",w)):o<0?new C.ERR_BUFFER_OUT_OF_BOUNDS:new C.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${o}`,w)}var R=/[^+/0-9A-Za-z-_]/g;function N(w){if(w=w.split("=")[0],w=w.trim().replace(R,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function J(w,o){o=o||1/0;let s;const I=w.length;let q=null;const Q=[];for(let te=0;te<I;++te){if(s=w.charCodeAt(te),s>55295&&s<57344){if(!q){if(s>56319){(o-=3)>-1&&Q.push(239,191,189);continue}else if(te+1===I){(o-=3)>-1&&Q.push(239,191,189);continue}q=s;continue}if(s<56320){(o-=3)>-1&&Q.push(239,191,189),q=s;continue}s=(q-55296<<10|s-56320)+65536}else q&&(o-=3)>-1&&Q.push(239,191,189);if(q=null,s<128){if((o-=1)<0)break;Q.push(s)}else if(s<2048){if((o-=2)<0)break;Q.push(s>>6|192,s&63|128)}else if(s<65536){if((o-=3)<0)break;Q.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((o-=4)<0)break;Q.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return Q}function ne(w){const o=[];for(let s=0;s<w.length;++s)o.push(w.charCodeAt(s)&255);return o}function U(w,o){let s,I,q;const Q=[];for(let te=0;te<w.length&&!((o-=2)<0);++te)s=w.charCodeAt(te),I=s>>8,q=s%256,Q.push(q),Q.push(I);return Q}function ce(w){return e.toByteArray(N(w))}function W(w,o,s,I){let q;for(q=0;q<I&&!(q+s>=o.length||q>=w.length);++q)o[q+s]=w[q];return q}function ie(w,o){return w instanceof o||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===o.name}function ye(w){return w!==w}var oe=function(){const w="0123456789abcdef",o=new Array(256);for(let s=0;s<16;++s){const I=s*16;for(let q=0;q<16;++q)o[I+q]=w[s]+w[q]}return o}();function Se(w){return typeof BigInt>"u"?Pe:w}function Pe(){throw new Error("BigInt not supported")}}}),ve,Ee,ze,fe=$r({"browser/process-shim.mjs"(){ve=Ue(Fe()),Ee={env:{},nextTick:(i,...e)=>{globalThis.setTimeout(i,0,...e)}},ze=globalThis}}),Oe=he({"node_modules/readable-stream/lib/ours/primordials.js"(i,e){fe(),e.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,r){return t.includes(r)},ArrayPrototypeIndexOf(t,r){return t.indexOf(r)},ArrayPrototypeJoin(t,r){return t.join(r)},ArrayPrototypeMap(t,r){return t.map(r)},ArrayPrototypePop(t,r){return t.pop(r)},ArrayPrototypePush(t,r){return t.push(r)},ArrayPrototypeSlice(t,r,a){return t.slice(r,a)},Error,FunctionPrototypeCall(t,r,...a){return t.call(r,...a)},FunctionPrototypeSymbolHasInstance(t,r){return Function.prototype[Symbol.hasInstance].call(t,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,r){return Object.defineProperties(t,r)},ObjectDefineProperty(t,r,a){return Object.defineProperty(t,r,a)},ObjectGetOwnPropertyDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,r){return Object.setPrototypeOf(t,r)},Promise,PromisePrototypeCatch(t,r){return t.catch(r)},PromisePrototypeThen(t,r,a){return t.then(r,a)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,r){return t.test(r)},SafeSet:Set,String,StringPrototypeSlice(t,r,a){return t.slice(r,a)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,r,a){return t.set(r,a)},Boolean,Uint8Array}}}),dt={};qn(dt,{Agent:()=>Xt,default:()=>lr});var Xt,lr,et=$r({"browser/noop.mjs"(){fe(),Xt=null,lr=Xt}}),Je=he({"node_modules/events/events.js"(i,e){fe();var t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(j,G,Z){return Function.prototype.apply.call(j,G,Z)},a;t&&typeof t.ownKeys=="function"?a=t.ownKeys:Object.getOwnPropertySymbols?a=function(j){return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j))}:a=function(j){return Object.getOwnPropertyNames(j)};function l(O){console&&console.warn&&console.warn(O)}var f=Number.isNaN||function(j){return j!==j};function n(){n.init.call(this)}e.exports=n,e.exports.once=E,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var c=10;function u(O){if(typeof O!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof O)}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(O){if(typeof O!="number"||O<0||f(O))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+O+".");c=O}}),n.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||f(j))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+j+".");return this._maxListeners=j,this};function y(O){return O._maxListeners===void 0?n.defaultMaxListeners:O._maxListeners}n.prototype.getMaxListeners=function(){return y(this)},n.prototype.emit=function(j){for(var G=[],Z=1;Z<arguments.length;Z++)G.push(arguments[Z]);var Y=j==="error",ae=this._events;if(ae!==void 0)Y=Y&&ae.error===void 0;else if(!Y)return!1;if(Y){var F;if(G.length>0&&(F=G[0]),F instanceof Error)throw F;var z=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw z.context=F,z}var ee=ae[j];if(ee===void 0)return!1;if(typeof ee=="function")r(ee,this,G);else for(var K=ee.length,ue=T(ee,K),Z=0;Z<K;++Z)r(ue[Z],this,G);return!0};function g(O,j,G,Z){var Y,ae,F;if(u(G),ae=O._events,ae===void 0?(ae=O._events=Object.create(null),O._eventsCount=0):(ae.newListener!==void 0&&(O.emit("newListener",j,G.listener?G.listener:G),ae=O._events),F=ae[j]),F===void 0)F=ae[j]=G,++O._eventsCount;else if(typeof F=="function"?F=ae[j]=Z?[G,F]:[F,G]:Z?F.unshift(G):F.push(G),Y=y(O),Y>0&&F.length>Y&&!F.warned){F.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(j)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=O,z.type=j,z.count=F.length,l(z)}return O}n.prototype.addListener=function(j,G){return g(this,j,G,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(j,G){return g(this,j,G,!0)};function _(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(O,j,G){var Z={fired:!1,wrapFn:void 0,target:O,type:j,listener:G},Y=_.bind(Z);return Y.listener=G,Z.wrapFn=Y,Y}n.prototype.once=function(j,G){return u(G),this.on(j,b(this,j,G)),this},n.prototype.prependOnceListener=function(j,G){return u(G),this.prependListener(j,b(this,j,G)),this},n.prototype.removeListener=function(j,G){var Z,Y,ae,F,z;if(u(G),Y=this._events,Y===void 0)return this;if(Z=Y[j],Z===void 0)return this;if(Z===G||Z.listener===G)--this._eventsCount===0?this._events=Object.create(null):(delete Y[j],Y.removeListener&&this.emit("removeListener",j,Z.listener||G));else if(typeof Z!="function"){for(ae=-1,F=Z.length-1;F>=0;F--)if(Z[F]===G||Z[F].listener===G){z=Z[F].listener,ae=F;break}if(ae<0)return this;ae===0?Z.shift():A(Z,ae),Z.length===1&&(Y[j]=Z[0]),Y.removeListener!==void 0&&this.emit("removeListener",j,z||G)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(j){var G,Z,Y;if(Z=this._events,Z===void 0)return this;if(Z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Z[j]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Z[j]),this;if(arguments.length===0){var ae=Object.keys(Z),F;for(Y=0;Y<ae.length;++Y)F=ae[Y],F!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(G=Z[j],typeof G=="function")this.removeListener(j,G);else if(G!==void 0)for(Y=G.length-1;Y>=0;Y--)this.removeListener(j,G[Y]);return this};function d(O,j,G){var Z=O._events;if(Z===void 0)return[];var Y=Z[j];return Y===void 0?[]:typeof Y=="function"?G?[Y.listener||Y]:[Y]:G?h(Y):T(Y,Y.length)}n.prototype.listeners=function(j){return d(this,j,!0)},n.prototype.rawListeners=function(j){return d(this,j,!1)},n.listenerCount=function(O,j){return typeof O.listenerCount=="function"?O.listenerCount(j):P.call(O,j)},n.prototype.listenerCount=P;function P(O){var j=this._events;if(j!==void 0){var G=j[O];if(typeof G=="function")return 1;if(G!==void 0)return G.length}return 0}n.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]};function T(O,j){for(var G=new Array(j),Z=0;Z<j;++Z)G[Z]=O[Z];return G}function A(O,j){for(;j+1<O.length;j++)O[j]=O[j+1];O.pop()}function h(O){for(var j=new Array(O.length),G=0;G<j.length;++G)j[G]=O[G].listener||O[G];return j}function E(O,j){return new Promise(function(G,Z){function Y(F){O.removeListener(j,ae),Z(F)}function ae(){typeof O.removeListener=="function"&&O.removeListener("error",Y),G([].slice.call(arguments))}S(O,j,ae,{once:!0}),j!=="error"&&x(O,Y,{once:!0})})}function x(O,j,G){typeof O.on=="function"&&S(O,"error",j,G)}function S(O,j,G,Z){if(typeof O.on=="function")Z.once?O.once(j,G):O.on(j,G);else if(typeof O.addEventListener=="function")O.addEventListener(j,function Y(ae){Z.once&&O.removeEventListener(j,Y),G(ae)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof O)}}}),Ne=he({"node_modules/readable-stream/lib/ours/util.js"(i,e){fe();var t=Fe(),{kResistStopPropagation:r,SymbolDispose:a}=Oe(),l=globalThis.AbortSignal||(et(),Rt(dt)).AbortSignal,f=globalThis.AbortController||(et(),Rt(dt)).AbortController,n=Object.getPrototypeOf(async function(){}).constructor,c=globalThis.Blob||t.Blob,u=typeof c<"u"?function(d){return d instanceof c}:function(d){return!1},y=(b,d)=>{if(b!==void 0&&(b===null||typeof b!="object"||!("aborted"in b)))throw new ERR_INVALID_ARG_TYPE(d,"AbortSignal",b)},g=(b,d)=>{if(typeof b!="function")throw new ERR_INVALID_ARG_TYPE(d,"Function",b)},_=class extends Error{constructor(b){if(!Array.isArray(b))throw new TypeError(`Expected input to be an Array, got ${typeof b}`);let d="";for(let P=0;P<b.length;P++)d+=`    ${b[P].stack}
`;super(d),this.name="AggregateError",this.errors=b}};e.exports={AggregateError:_,kEmptyObject:Object.freeze({}),once(b){let d=!1;return function(...P){d||(d=!0,b.apply(this,P))}},createDeferredPromise:function(){let b,d;return{promise:new Promise((T,A)=>{b=T,d=A}),resolve:b,reject:d}},promisify(b){return new Promise((d,P)=>{b((T,...A)=>T?P(T):d(...A))})},debuglog(){return function(){}},format(b,...d){return b.replace(/%([sdifj])/g,function(...[P,T]){const A=d.shift();return T==="f"?A.toFixed(6):T==="j"?JSON.stringify(A):T==="s"&&typeof A=="object"?`${A.constructor!==Object?A.constructor.name:""} {}`.trim():A.toString()})},inspect(b){switch(typeof b){case"string":if(b.includes("'"))if(b.includes('"')){if(!b.includes("`")&&!b.includes("${"))return`\`${b}\``}else return`"${b}"`;return`'${b}'`;case"number":return isNaN(b)?"NaN":Object.is(b,-0)?String(b):b;case"bigint":return`${String(b)}n`;case"boolean":case"undefined":return String(b);case"object":return"{}"}},types:{isAsyncFunction(b){return b instanceof n},isArrayBufferView(b){return ArrayBuffer.isView(b)}},isBlob:u,deprecate(b,d){return b},addAbortListener:Je().addAbortListener||function(d,P){if(d===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",d);y(d,"signal"),g(P,"listener");let T;return d.aborted?queueMicrotask(()=>P()):(d.addEventListener("abort",P,{__proto__:null,once:!0,[r]:!0}),T=()=>{d.removeEventListener("abort",P)}),{__proto__:null,[a](){var A;(A=T)===null||A===void 0||A()}}},AbortSignalAny:l.any||function(d){if(d.length===1)return d[0];const P=new f,T=()=>P.abort();return d.forEach(A=>{y(A,"signals"),A.addEventListener("abort",T,{once:!0})}),P.signal.addEventListener("abort",()=>{d.forEach(A=>A.removeEventListener("abort",T))},{once:!0}),P.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}}),je=he({"node_modules/readable-stream/lib/ours/errors.js"(i,e){fe();var{format:t,inspect:r,AggregateError:a}=Ne(),l=globalThis.AggregateError||a,f=Symbol("kIsNodeError"),n=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",y={};function g(h,E){if(!h)throw new y.ERR_INTERNAL_ASSERTION(E)}function _(h){let E="",x=h.length;const S=h[0]==="-"?1:0;for(;x>=S+4;x-=3)E=`_${h.slice(x-3,x)}${E}`;return`${h.slice(0,x)}${E}`}function b(h,E,x){if(typeof E=="function")return g(E.length<=x.length,`Code: ${h}; The provided arguments length (${x.length}) does not match the required ones (${E.length}).`),E(...x);const S=(E.match(/%[dfijoOs]/g)||[]).length;return g(S===x.length,`Code: ${h}; The provided arguments length (${x.length}) does not match the required ones (${S}).`),x.length===0?E:t(E,...x)}function d(h,E,x){x||(x=Error);class S extends x{constructor(...j){super(b(h,E,j))}toString(){return`${this.name} [${h}]: ${this.message}`}}Object.defineProperties(S.prototype,{name:{value:x.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${h}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),S.prototype.code=h,S.prototype[f]=!0,y[h]=S}function P(h){const E=u+h.name;return Object.defineProperty(h,"name",{value:E}),h}function T(h,E){if(h&&E&&h!==E){if(Array.isArray(E.errors))return E.errors.push(h),E;const x=new l([E,h],E.message);return x.code=E.code,x}return h||E}var A=class extends Error{constructor(h="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new y.ERR_INVALID_ARG_TYPE("options","Object",E);super(h,E),this.code="ABORT_ERR",this.name="AbortError"}};d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",(h,E,x)=>{g(typeof h=="string","'name' must be a string"),Array.isArray(E)||(E=[E]);let S="The ";h.endsWith(" argument")?S+=`${h} `:S+=`"${h}" ${h.includes(".")?"property":"argument"} `,S+="must be ";const O=[],j=[],G=[];for(const Y of E)g(typeof Y=="string","All expected entries have to be of type string"),n.includes(Y)?O.push(Y.toLowerCase()):c.test(Y)?j.push(Y):(g(Y!=="object",'The value "object" should be written as "Object"'),G.push(Y));if(j.length>0){const Y=O.indexOf("object");Y!==-1&&(O.splice(O,Y,1),j.push("Object"))}if(O.length>0){switch(O.length){case 1:S+=`of type ${O[0]}`;break;case 2:S+=`one of type ${O[0]} or ${O[1]}`;break;default:{const Y=O.pop();S+=`one of type ${O.join(", ")}, or ${Y}`}}(j.length>0||G.length>0)&&(S+=" or ")}if(j.length>0){switch(j.length){case 1:S+=`an instance of ${j[0]}`;break;case 2:S+=`an instance of ${j[0]} or ${j[1]}`;break;default:{const Y=j.pop();S+=`an instance of ${j.join(", ")}, or ${Y}`}}G.length>0&&(S+=" or ")}switch(G.length){case 0:break;case 1:G[0].toLowerCase()!==G[0]&&(S+="an "),S+=`${G[0]}`;break;case 2:S+=`one of ${G[0]} or ${G[1]}`;break;default:{const Y=G.pop();S+=`one of ${G.join(", ")}, or ${Y}`}}if(x==null)S+=`. Received ${x}`;else if(typeof x=="function"&&x.name)S+=`. Received function ${x.name}`;else if(typeof x=="object"){var Z;if((Z=x.constructor)!==null&&Z!==void 0&&Z.name)S+=`. Received an instance of ${x.constructor.name}`;else{const Y=r(x,{depth:-1});S+=`. Received ${Y}`}}else{let Y=r(x,{colors:!1});Y.length>25&&(Y=`${Y.slice(0,25)}...`),S+=`. Received type ${typeof x} (${Y})`}return S},TypeError),d("ERR_INVALID_ARG_VALUE",(h,E,x="is invalid")=>{let S=r(E);return S.length>128&&(S=S.slice(0,128)+"..."),`The ${h.includes(".")?"property":"argument"} '${h}' ${x}. Received ${S}`},TypeError),d("ERR_INVALID_RETURN_VALUE",(h,E,x)=>{var S;const O=x!=null&&(S=x.constructor)!==null&&S!==void 0&&S.name?`instance of ${x.constructor.name}`:`type ${typeof x}`;return`Expected ${h} to be returned from the "${E}" function but got ${O}.`},TypeError),d("ERR_MISSING_ARGS",(...h)=>{g(h.length>0,"At least one arg needs to be specified");let E;const x=h.length;switch(h=(Array.isArray(h)?h:[h]).map(S=>`"${S}"`).join(" or "),x){case 1:E+=`The ${h[0]} argument`;break;case 2:E+=`The ${h[0]} and ${h[1]} arguments`;break;default:{const S=h.pop();E+=`The ${h.join(", ")}, and ${S} arguments`}break}return`${E} must be specified`},TypeError),d("ERR_OUT_OF_RANGE",(h,E,x)=>{g(E,'Missing "range" argument');let S;return Number.isInteger(x)&&Math.abs(x)>2**32?S=_(String(x)):typeof x=="bigint"?(S=String(x),(x>2n**32n||x<-(2n**32n))&&(S=_(S)),S+="n"):S=r(x),`The value of "${h}" is out of range. It must be ${E}. Received ${S}`},RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:A,aggregateTwoErrors:P(T),hideStackFrames:P,codes:y}}}),Bt=he({"node_modules/readable-stream/lib/internal/validators.js"(i,e){fe();var{ArrayIsArray:t,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:a,ArrayPrototypeMap:l,NumberIsInteger:f,NumberIsNaN:n,NumberMAX_SAFE_INTEGER:c,NumberMIN_SAFE_INTEGER:u,NumberParseInt:y,ObjectPrototypeHasOwnProperty:g,RegExpPrototypeExec:_,String:b,StringPrototypeToUpperCase:d,StringPrototypeTrim:P}=Oe(),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:A,ERR_INVALID_ARG_TYPE:h,ERR_INVALID_ARG_VALUE:E,ERR_OUT_OF_RANGE:x,ERR_UNKNOWN_SIGNAL:S}}=je(),{normalizeEncoding:O}=Ne(),{isAsyncFunction:j,isArrayBufferView:G}=Ne().types,Z={};function Y(W){return W===(W|0)}function ae(W){return W===W>>>0}var F=/^[0-7]+$/,z="must be a 32-bit unsigned integer or an octal string";function ee(W,ie,ye){if(typeof W>"u"&&(W=ye),typeof W=="string"){if(_(F,W)===null)throw new E(ie,W,z);W=y(W,8)}return pe(W,ie),W}var K=T((W,ie,ye=u,oe=c)=>{if(typeof W!="number")throw new h(ie,"number",W);if(!f(W))throw new x(ie,"an integer",W);if(W<ye||W>oe)throw new x(ie,`>= ${ye} && <= ${oe}`,W)}),ue=T((W,ie,ye=-2147483648,oe=2147483647)=>{if(typeof W!="number")throw new h(ie,"number",W);if(!f(W))throw new x(ie,"an integer",W);if(W<ye||W>oe)throw new x(ie,`>= ${ye} && <= ${oe}`,W)}),pe=T((W,ie,ye=!1)=>{if(typeof W!="number")throw new h(ie,"number",W);if(!f(W))throw new x(ie,"an integer",W);const oe=ye?1:0,Se=4294967295;if(W<oe||W>Se)throw new x(ie,`>= ${oe} && <= ${Se}`,W)});function we(W,ie){if(typeof W!="string")throw new h(ie,"string",W)}function _e(W,ie,ye=void 0,oe){if(typeof W!="number")throw new h(ie,"number",W);if(ye!=null&&W<ye||oe!=null&&W>oe||(ye!=null||oe!=null)&&n(W))throw new x(ie,`${ye!=null?`>= ${ye}`:""}${ye!=null&&oe!=null?" && ":""}${oe!=null?`<= ${oe}`:""}`,W)}var X=T((W,ie,ye)=>{if(!r(ye,W)){const Se="must be one of: "+a(l(ye,Pe=>typeof Pe=="string"?`'${Pe}'`:b(Pe)),", ");throw new E(ie,W,Se)}});function le(W,ie){if(typeof W!="boolean")throw new h(ie,"boolean",W)}function p(W,ie,ye){return W==null||!g(W,ie)?ye:W[ie]}var k=T((W,ie,ye=null)=>{const oe=p(ye,"allowArray",!1),Se=p(ye,"allowFunction",!1);if(!p(ye,"nullable",!1)&&W===null||!oe&&t(W)||typeof W!="object"&&(!Se||typeof W!="function"))throw new h(ie,"Object",W)}),H=T((W,ie)=>{if(W!=null&&typeof W!="object"&&typeof W!="function")throw new h(ie,"a dictionary",W)}),V=T((W,ie,ye=0)=>{if(!t(W))throw new h(ie,"Array",W);if(W.length<ye){const oe=`must be longer than ${ye}`;throw new E(ie,W,oe)}});function se(W,ie){V(W,ie);for(let ye=0;ye<W.length;ye++)we(W[ye],`${ie}[${ye}]`)}function de(W,ie){V(W,ie);for(let ye=0;ye<W.length;ye++)le(W[ye],`${ie}[${ye}]`)}function C(W,ie){V(W,ie);for(let ye=0;ye<W.length;ye++){const oe=W[ye],Se=`${ie}[${ye}]`;if(oe==null)throw new h(Se,"AbortSignal",oe);m(oe,Se)}}function D(W,ie="signal"){if(we(W,ie),Z[W]===void 0)throw Z[d(W)]!==void 0?new S(W+" (signals must use all capital letters)"):new S(W)}var M=T((W,ie="buffer")=>{if(!G(W))throw new h(ie,["Buffer","TypedArray","DataView"],W)});function $(W,ie){const ye=O(ie),oe=W.length;if(ye==="hex"&&oe%2!==0)throw new E("encoding",ie,`is invalid for data of length ${oe}`)}function re(W,ie="Port",ye=!0){if(typeof W!="number"&&typeof W!="string"||typeof W=="string"&&P(W).length===0||+W!==+W>>>0||W>65535||W===0&&!ye)throw new A(ie,W,ye);return W|0}var m=T((W,ie)=>{if(W!==void 0&&(W===null||typeof W!="object"||!("aborted"in W)))throw new h(ie,"AbortSignal",W)}),v=T((W,ie)=>{if(typeof W!="function")throw new h(ie,"Function",W)}),R=T((W,ie)=>{if(typeof W!="function"||j(W))throw new h(ie,"Function",W)}),N=T((W,ie)=>{if(W!==void 0)throw new h(ie,"undefined",W)});function J(W,ie,ye){if(!r(ye,W))throw new h(ie,`('${a(ye,"|")}')`,W)}var ne=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function U(W,ie){if(typeof W>"u"||!_(ne,W))throw new E(ie,W,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ce(W){if(typeof W=="string")return U(W,"hints"),W;if(t(W)){const ie=W.length;let ye="";if(ie===0)return ye;for(let oe=0;oe<ie;oe++){const Se=W[oe];U(Se,"hints"),ye+=Se,oe!==ie-1&&(ye+=", ")}return ye}throw new E("hints",W,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:Y,isUint32:ae,parseFileMode:ee,validateArray:V,validateStringArray:se,validateBooleanArray:de,validateAbortSignalArray:C,validateBoolean:le,validateBuffer:M,validateDictionary:H,validateEncoding:$,validateFunction:v,validateInt32:ue,validateInteger:K,validateNumber:_e,validateObject:k,validateOneOf:X,validatePlainFunction:R,validatePort:re,validateSignalName:D,validateString:we,validateUint32:pe,validateUndefined:N,validateUnion:J,validateAbortSignal:m,validateLinkHeaderValue:ce}}}),lt=he({"node_modules/process/browser.js"(i,e){fe();var t=e.exports={},r,a;function l(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?r=setTimeout:r=l}catch{r=l}try{typeof clearTimeout=="function"?a=clearTimeout:a=f}catch{a=f}})();function n(A){if(r===setTimeout)return setTimeout(A,0);if((r===l||!r)&&setTimeout)return r=setTimeout,setTimeout(A,0);try{return r(A,0)}catch{try{return r.call(null,A,0)}catch{return r.call(this,A,0)}}}function c(A){if(a===clearTimeout)return clearTimeout(A);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(A);try{return a(A)}catch{try{return a.call(null,A)}catch{return a.call(this,A)}}}var u=[],y=!1,g,_=-1;function b(){!y||!g||(y=!1,g.length?u=g.concat(u):_=-1,u.length&&d())}function d(){if(!y){var A=n(b);y=!0;for(var h=u.length;h;){for(g=u,u=[];++_<h;)g&&g[_].run();_=-1,h=u.length}g=null,y=!1,c(A)}}t.nextTick=function(A){var h=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)h[E-1]=arguments[E];u.push(new P(A,h)),u.length===1&&!y&&n(d)};function P(A,h){this.fun=A,this.array=h}P.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function T(){}t.on=T,t.addListener=T,t.once=T,t.off=T,t.removeListener=T,t.removeAllListeners=T,t.emit=T,t.prependListener=T,t.prependOnceListener=T,t.listeners=function(A){return[]},t.binding=function(A){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(A){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}}}),Xe=he({"node_modules/readable-stream/lib/internal/streams/utils.js"(i,e){fe();var{SymbolAsyncIterator:t,SymbolIterator:r,SymbolFor:a}=Oe(),l=a("nodejs.stream.destroyed"),f=a("nodejs.stream.errored"),n=a("nodejs.stream.readable"),c=a("nodejs.stream.writable"),u=a("nodejs.stream.disturbed"),y=a("nodejs.webstream.isClosedPromise"),g=a("nodejs.webstream.controllerErrorFunction");function _(p,k=!1){var H;return!!(p&&typeof p.pipe=="function"&&typeof p.on=="function"&&(!k||typeof p.pause=="function"&&typeof p.resume=="function")&&(!p._writableState||((H=p._readableState)===null||H===void 0?void 0:H.readable)!==!1)&&(!p._writableState||p._readableState))}function b(p){var k;return!!(p&&typeof p.write=="function"&&typeof p.on=="function"&&(!p._readableState||((k=p._writableState)===null||k===void 0?void 0:k.writable)!==!1))}function d(p){return!!(p&&typeof p.pipe=="function"&&p._readableState&&typeof p.on=="function"&&typeof p.write=="function")}function P(p){return p&&(p._readableState||p._writableState||typeof p.write=="function"&&typeof p.on=="function"||typeof p.pipe=="function"&&typeof p.on=="function")}function T(p){return!!(p&&!P(p)&&typeof p.pipeThrough=="function"&&typeof p.getReader=="function"&&typeof p.cancel=="function")}function A(p){return!!(p&&!P(p)&&typeof p.getWriter=="function"&&typeof p.abort=="function")}function h(p){return!!(p&&!P(p)&&typeof p.readable=="object"&&typeof p.writable=="object")}function E(p){return T(p)||A(p)||h(p)}function x(p,k){return p==null?!1:k===!0?typeof p[t]=="function":k===!1?typeof p[r]=="function":typeof p[t]=="function"||typeof p[r]=="function"}function S(p){if(!P(p))return null;const k=p._writableState,H=p._readableState,V=k||H;return!!(p.destroyed||p[l]||V!=null&&V.destroyed)}function O(p){if(!b(p))return null;if(p.writableEnded===!0)return!0;const k=p._writableState;return k!=null&&k.errored?!1:typeof(k==null?void 0:k.ended)!="boolean"?null:k.ended}function j(p,k){if(!b(p))return null;if(p.writableFinished===!0)return!0;const H=p._writableState;return H!=null&&H.errored?!1:typeof(H==null?void 0:H.finished)!="boolean"?null:!!(H.finished||k===!1&&H.ended===!0&&H.length===0)}function G(p){if(!_(p))return null;if(p.readableEnded===!0)return!0;const k=p._readableState;return!k||k.errored?!1:typeof(k==null?void 0:k.ended)!="boolean"?null:k.ended}function Z(p,k){if(!_(p))return null;const H=p._readableState;return H!=null&&H.errored?!1:typeof(H==null?void 0:H.endEmitted)!="boolean"?null:!!(H.endEmitted||k===!1&&H.ended===!0&&H.length===0)}function Y(p){return p&&p[n]!=null?p[n]:typeof(p==null?void 0:p.readable)!="boolean"?null:S(p)?!1:_(p)&&p.readable&&!Z(p)}function ae(p){return p&&p[c]!=null?p[c]:typeof(p==null?void 0:p.writable)!="boolean"?null:S(p)?!1:b(p)&&p.writable&&!O(p)}function F(p,k){return P(p)?S(p)?!0:!((k==null?void 0:k.readable)!==!1&&Y(p)||(k==null?void 0:k.writable)!==!1&&ae(p)):null}function z(p){var k,H;return P(p)?p.writableErrored?p.writableErrored:(k=(H=p._writableState)===null||H===void 0?void 0:H.errored)!==null&&k!==void 0?k:null:null}function ee(p){var k,H;return P(p)?p.readableErrored?p.readableErrored:(k=(H=p._readableState)===null||H===void 0?void 0:H.errored)!==null&&k!==void 0?k:null:null}function K(p){if(!P(p))return null;if(typeof p.closed=="boolean")return p.closed;const k=p._writableState,H=p._readableState;return typeof(k==null?void 0:k.closed)=="boolean"||typeof(H==null?void 0:H.closed)=="boolean"?(k==null?void 0:k.closed)||(H==null?void 0:H.closed):typeof p._closed=="boolean"&&ue(p)?p._closed:null}function ue(p){return typeof p._closed=="boolean"&&typeof p._defaultKeepAlive=="boolean"&&typeof p._removedConnection=="boolean"&&typeof p._removedContLen=="boolean"}function pe(p){return typeof p._sent100=="boolean"&&ue(p)}function we(p){var k;return typeof p._consuming=="boolean"&&typeof p._dumped=="boolean"&&((k=p.req)===null||k===void 0?void 0:k.upgradeOrConnect)===void 0}function _e(p){if(!P(p))return null;const k=p._writableState,H=p._readableState,V=k||H;return!V&&pe(p)||!!(V&&V.autoDestroy&&V.emitClose&&V.closed===!1)}function X(p){var k;return!!(p&&((k=p[u])!==null&&k!==void 0?k:p.readableDidRead||p.readableAborted))}function le(p){var k,H,V,se,de,C,D,M,$,re;return!!(p&&((k=(H=(V=(se=(de=(C=p[f])!==null&&C!==void 0?C:p.readableErrored)!==null&&de!==void 0?de:p.writableErrored)!==null&&se!==void 0?se:(D=p._readableState)===null||D===void 0?void 0:D.errorEmitted)!==null&&V!==void 0?V:(M=p._writableState)===null||M===void 0?void 0:M.errorEmitted)!==null&&H!==void 0?H:($=p._readableState)===null||$===void 0?void 0:$.errored)!==null&&k!==void 0?k:!((re=p._writableState)===null||re===void 0)&&re.errored))}e.exports={isDestroyed:S,kIsDestroyed:l,isDisturbed:X,kIsDisturbed:u,isErrored:le,kIsErrored:f,isReadable:Y,kIsReadable:n,kIsClosedPromise:y,kControllerErrorFunction:g,kIsWritable:c,isClosed:K,isDuplexNodeStream:d,isFinished:F,isIterable:x,isReadableNodeStream:_,isReadableStream:T,isReadableEnded:G,isReadableFinished:Z,isReadableErrored:ee,isNodeStream:P,isWebStream:E,isWritable:ae,isWritableNodeStream:b,isWritableStream:A,isWritableEnded:O,isWritableFinished:j,isWritableErrored:z,isServerRequest:we,isServerResponse:pe,willEmitClose:_e,isTransformStream:h}}}),tt=he({"node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(i,e){fe();var t=lt(),{AbortError:r,codes:a}=je(),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_PREMATURE_CLOSE:f}=a,{kEmptyObject:n,once:c}=Ne(),{validateAbortSignal:u,validateFunction:y,validateObject:g,validateBoolean:_}=Bt(),{Promise:b,PromisePrototypeThen:d,SymbolDispose:P}=Oe(),{isClosed:T,isReadable:A,isReadableNodeStream:h,isReadableStream:E,isReadableFinished:x,isReadableErrored:S,isWritable:O,isWritableNodeStream:j,isWritableStream:G,isWritableFinished:Z,isWritableErrored:Y,isNodeStream:ae,willEmitClose:F,kIsClosedPromise:z}=Xe(),ee;function K(X){return X.setHeader&&typeof X.abort=="function"}var ue=()=>{};function pe(X,le,p){var k,H;if(arguments.length===2?(p=le,le=n):le==null?le=n:g(le,"options"),y(p,"callback"),u(le.signal,"options.signal"),p=c(p),E(X)||G(X))return we(X,le,p);if(!ae(X))throw new l("stream",["ReadableStream","WritableStream","Stream"],X);const V=(k=le.readable)!==null&&k!==void 0?k:h(X),se=(H=le.writable)!==null&&H!==void 0?H:j(X),de=X._writableState,C=X._readableState,D=()=>{X.writable||re()};let M=F(X)&&h(X)===V&&j(X)===se,$=Z(X,!1);const re=()=>{$=!0,X.destroyed&&(M=!1),!(M&&(!X.readable||V))&&(!V||m)&&p.call(X)};let m=x(X,!1);const v=()=>{m=!0,X.destroyed&&(M=!1),!(M&&(!X.writable||se))&&(!se||$)&&p.call(X)},R=W=>{p.call(X,W)};let N=T(X);const J=()=>{N=!0;const W=Y(X)||S(X);if(W&&typeof W!="boolean")return p.call(X,W);if(V&&!m&&h(X,!0)&&!x(X,!1))return p.call(X,new f);if(se&&!$&&!Z(X,!1))return p.call(X,new f);p.call(X)},ne=()=>{N=!0;const W=Y(X)||S(X);if(W&&typeof W!="boolean")return p.call(X,W);p.call(X)},U=()=>{X.req.on("finish",re)};K(X)?(X.on("complete",re),M||X.on("abort",J),X.req?U():X.on("request",U)):se&&!de&&(X.on("end",D),X.on("close",D)),!M&&typeof X.aborted=="boolean"&&X.on("aborted",J),X.on("end",v),X.on("finish",re),le.error!==!1&&X.on("error",R),X.on("close",J),N?t.nextTick(J):de!=null&&de.errorEmitted||C!=null&&C.errorEmitted?M||t.nextTick(ne):(!V&&(!M||A(X))&&($||O(X)===!1)||!se&&(!M||O(X))&&(m||A(X)===!1)||C&&X.req&&X.aborted)&&t.nextTick(ne);const ce=()=>{p=ue,X.removeListener("aborted",J),X.removeListener("complete",re),X.removeListener("abort",J),X.removeListener("request",U),X.req&&X.req.removeListener("finish",re),X.removeListener("end",D),X.removeListener("close",D),X.removeListener("finish",re),X.removeListener("end",v),X.removeListener("error",R),X.removeListener("close",J)};if(le.signal&&!N){const W=()=>{const ie=p;ce(),ie.call(X,new r(void 0,{cause:le.signal.reason}))};if(le.signal.aborted)t.nextTick(W);else{ee=ee||Ne().addAbortListener;const ie=ee(le.signal,W),ye=p;p=c((...oe)=>{ie[P](),ye.apply(X,oe)})}}return ce}function we(X,le,p){let k=!1,H=ue;if(le.signal)if(H=()=>{k=!0,p.call(X,new r(void 0,{cause:le.signal.reason}))},le.signal.aborted)t.nextTick(H);else{ee=ee||Ne().addAbortListener;const se=ee(le.signal,H),de=p;p=c((...C)=>{se[P](),de.apply(X,C)})}const V=(...se)=>{k||t.nextTick(()=>p.apply(X,se))};return d(X[z].promise,V,V),ue}function _e(X,le){var p;let k=!1;return le===null&&(le=n),(p=le)!==null&&p!==void 0&&p.cleanup&&(_(le.cleanup,"cleanup"),k=le.cleanup),new b((H,V)=>{const se=pe(X,le,de=>{k&&se(),de?V(de):H()})})}e.exports=pe,e.exports.finished=_e}}),pt=he({"node_modules/readable-stream/lib/internal/streams/destroy.js"(i,e){fe();var t=lt(),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:a},AbortError:l}=je(),{Symbol:f}=Oe(),{kIsDestroyed:n,isDestroyed:c,isFinished:u,isServerRequest:y}=Xe(),g=f("kDestroy"),_=f("kConstruct");function b(F,z,ee){F&&(F.stack,z&&!z.errored&&(z.errored=F),ee&&!ee.errored&&(ee.errored=F))}function d(F,z){const ee=this._readableState,K=this._writableState,ue=K||ee;return K!=null&&K.destroyed||ee!=null&&ee.destroyed?(typeof z=="function"&&z(),this):(b(F,K,ee),K&&(K.destroyed=!0),ee&&(ee.destroyed=!0),ue.constructed?P(this,F,z):this.once(g,function(pe){P(this,r(pe,F),z)}),this)}function P(F,z,ee){let K=!1;function ue(pe){if(K)return;K=!0;const we=F._readableState,_e=F._writableState;b(pe,_e,we),_e&&(_e.closed=!0),we&&(we.closed=!0),typeof ee=="function"&&ee(pe),pe?t.nextTick(T,F,pe):t.nextTick(A,F)}try{F._destroy(z||null,ue)}catch(pe){ue(pe)}}function T(F,z){h(F,z),A(F)}function A(F){const z=F._readableState,ee=F._writableState;ee&&(ee.closeEmitted=!0),z&&(z.closeEmitted=!0),(ee!=null&&ee.emitClose||z!=null&&z.emitClose)&&F.emit("close")}function h(F,z){const ee=F._readableState,K=F._writableState;K!=null&&K.errorEmitted||ee!=null&&ee.errorEmitted||(K&&(K.errorEmitted=!0),ee&&(ee.errorEmitted=!0),F.emit("error",z))}function E(){const F=this._readableState,z=this._writableState;F&&(F.constructed=!0,F.closed=!1,F.closeEmitted=!1,F.destroyed=!1,F.errored=null,F.errorEmitted=!1,F.reading=!1,F.ended=F.readable===!1,F.endEmitted=F.readable===!1),z&&(z.constructed=!0,z.destroyed=!1,z.closed=!1,z.closeEmitted=!1,z.errored=null,z.errorEmitted=!1,z.finalCalled=!1,z.prefinished=!1,z.ended=z.writable===!1,z.ending=z.writable===!1,z.finished=z.writable===!1)}function x(F,z,ee){const K=F._readableState,ue=F._writableState;if(ue!=null&&ue.destroyed||K!=null&&K.destroyed)return this;K!=null&&K.autoDestroy||ue!=null&&ue.autoDestroy?F.destroy(z):z&&(z.stack,ue&&!ue.errored&&(ue.errored=z),K&&!K.errored&&(K.errored=z),ee?t.nextTick(h,F,z):h(F,z))}function S(F,z){if(typeof F._construct!="function")return;const ee=F._readableState,K=F._writableState;ee&&(ee.constructed=!1),K&&(K.constructed=!1),F.once(_,z),!(F.listenerCount(_)>1)&&t.nextTick(O,F)}function O(F){let z=!1;function ee(K){if(z){x(F,K??new a);return}z=!0;const ue=F._readableState,pe=F._writableState,we=pe||ue;ue&&(ue.constructed=!0),pe&&(pe.constructed=!0),we.destroyed?F.emit(g,K):K?x(F,K,!0):t.nextTick(j,F)}try{F._construct(K=>{t.nextTick(ee,K)})}catch(K){t.nextTick(ee,K)}}function j(F){F.emit(_)}function G(F){return(F==null?void 0:F.setHeader)&&typeof F.abort=="function"}function Z(F){F.emit("close")}function Y(F,z){F.emit("error",z),t.nextTick(Z,F)}function ae(F,z){!F||c(F)||(!z&&!u(F)&&(z=new l),y(F)?(F.socket=null,F.destroy(z)):G(F)?F.abort():G(F.req)?F.req.abort():typeof F.destroy=="function"?F.destroy(z):typeof F.close=="function"?F.close():z?t.nextTick(Y,F,z):t.nextTick(Z,F),F.destroyed||(F[n]=!0))}e.exports={construct:S,destroyer:ae,destroy:d,undestroy:E,errorOrDestroy:x}}}),fr=he({"node_modules/readable-stream/lib/internal/streams/legacy.js"(i,e){fe();var{ArrayIsArray:t,ObjectSetPrototypeOf:r}=Oe(),{EventEmitter:a}=Je();function l(n){a.call(this,n)}r(l.prototype,a.prototype),r(l,a),l.prototype.pipe=function(n,c){const u=this;function y(A){n.writable&&n.write(A)===!1&&u.pause&&u.pause()}u.on("data",y);function g(){u.readable&&u.resume&&u.resume()}n.on("drain",g),!n._isStdio&&(!c||c.end!==!1)&&(u.on("end",b),u.on("close",d));let _=!1;function b(){_||(_=!0,n.end())}function d(){_||(_=!0,typeof n.destroy=="function"&&n.destroy())}function P(A){T(),a.listenerCount(this,"error")===0&&this.emit("error",A)}f(u,"error",P),f(n,"error",P);function T(){u.removeListener("data",y),n.removeListener("drain",g),u.removeListener("end",b),u.removeListener("close",d),u.removeListener("error",P),n.removeListener("error",P),u.removeListener("end",T),u.removeListener("close",T),n.removeListener("close",T)}return u.on("end",T),u.on("close",T),n.on("close",T),n.emit("pipe",u),n};function f(n,c,u){if(typeof n.prependListener=="function")return n.prependListener(c,u);!n._events||!n._events[c]?n.on(c,u):t(n._events[c])?n._events[c].unshift(u):n._events[c]=[u,n._events[c]]}e.exports={Stream:l,prependListener:f}}}),Mt=he({"node_modules/readable-stream/lib/internal/streams/add-abort-signal.js"(i,e){fe();var{SymbolDispose:t}=Oe(),{AbortError:r,codes:a}=je(),{isNodeStream:l,isWebStream:f,kControllerErrorFunction:n}=Xe(),c=tt(),{ERR_INVALID_ARG_TYPE:u}=a,y,g=(_,b)=>{if(typeof _!="object"||!("aborted"in _))throw new u(b,"AbortSignal",_)};e.exports.addAbortSignal=function(b,d){if(g(b,"signal"),!l(d)&&!f(d))throw new u("stream",["ReadableStream","WritableStream","Stream"],d);return e.exports.addAbortSignalNoValidate(b,d)},e.exports.addAbortSignalNoValidate=function(_,b){if(typeof _!="object"||!("aborted"in _))return b;const d=l(b)?()=>{b.destroy(new r(void 0,{cause:_.reason}))}:()=>{b[n](new r(void 0,{cause:_.reason}))};if(_.aborted)d();else{y=y||Ne().addAbortListener;const P=y(_,d);c(b,P[t])}return b}}}),Hn=he({"node_modules/readable-stream/lib/internal/streams/buffer_list.js"(i,e){fe();var{StringPrototypeSlice:t,SymbolIterator:r,TypedArrayPrototypeSet:a,Uint8Array:l}=Oe(),{Buffer:f}=Fe(),{inspect:n}=Ne();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(u){const y={data:u,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}unshift(u){const y={data:u,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}shift(){if(this.length===0)return;const u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}clear(){this.head=this.tail=null,this.length=0}join(u){if(this.length===0)return"";let y=this.head,g=""+y.data;for(;(y=y.next)!==null;)g+=u+y.data;return g}concat(u){if(this.length===0)return f.alloc(0);const y=f.allocUnsafe(u>>>0);let g=this.head,_=0;for(;g;)a(y,g.data,_),_+=g.data.length,g=g.next;return y}consume(u,y){const g=this.head.data;if(u<g.length){const _=g.slice(0,u);return this.head.data=g.slice(u),_}return u===g.length?this.shift():y?this._getString(u):this._getBuffer(u)}first(){return this.head.data}*[r](){for(let u=this.head;u;u=u.next)yield u.data}_getString(u){let y="",g=this.head,_=0;do{const b=g.data;if(u>b.length)y+=b,u-=b.length;else{u===b.length?(y+=b,++_,g.next?this.head=g.next:this.head=this.tail=null):(y+=t(b,0,u),this.head=g,g.data=t(b,u));break}++_}while((g=g.next)!==null);return this.length-=_,y}_getBuffer(u){const y=f.allocUnsafe(u),g=u;let _=this.head,b=0;do{const d=_.data;if(u>d.length)a(y,d,g-u),u-=d.length;else{u===d.length?(a(y,d,g-u),++b,_.next?this.head=_.next:this.head=this.tail=null):(a(y,new l(d.buffer,d.byteOffset,u),g-u),this.head=_,_.data=d.slice(u));break}++b}while((_=_.next)!==null);return this.length-=b,y}[Symbol.for("nodejs.util.inspect.custom")](u,y){return n(this,{...y,depth:0,customInspect:!1})}}}}),kt=he({"node_modules/readable-stream/lib/internal/streams/state.js"(i,e){fe();var{MathFloor:t,NumberIsInteger:r}=Oe(),{validateInteger:a}=Bt(),{ERR_INVALID_ARG_VALUE:l}=je().codes,f=16*1024,n=16;function c(_,b,d){return _.highWaterMark!=null?_.highWaterMark:b?_[d]:null}function u(_){return _?n:f}function y(_,b){a(b,"value",0),_?n=b:f=b}function g(_,b,d,P){const T=c(b,P,d);if(T!=null){if(!r(T)||T<0){const A=P?`options.${d}`:"options.highWaterMark";throw new l(A,T)}return t(T)}return u(_.objectMode)}e.exports={getHighWaterMark:g,getDefaultHighWaterMark:u,setDefaultHighWaterMark:y}}}),Vn=he({"node_modules/safe-buffer/index.js"(i,e){fe();var t=Fe(),r=t.Buffer;function a(f,n){for(var c in f)n[c]=f[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=t:(a(t,i),i.Buffer=l);function l(f,n,c){return r(f,n,c)}l.prototype=Object.create(r.prototype),a(r,l),l.from=function(f,n,c){if(typeof f=="number")throw new TypeError("Argument must not be a number");return r(f,n,c)},l.alloc=function(f,n,c){if(typeof f!="number")throw new TypeError("Argument must be a number");var u=r(f);return n!==void 0?typeof c=="string"?u.fill(n,c):u.fill(n):u.fill(0),u},l.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return r(f)},l.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(f)}}}),Qt=he({"node_modules/string_decoder/lib/string_decoder.js"(i){fe();var e=Vn().Buffer,t=e.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(h){if(!h)return"utf8";for(var E;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(E)return;h=(""+h).toLowerCase(),E=!0}}function a(h){var E=r(h);if(typeof E!="string"&&(e.isEncoding===t||!t(h)))throw new Error("Unknown encoding: "+h);return E||h}i.StringDecoder=l;function l(h){this.encoding=a(h);var E;switch(this.encoding){case"utf16le":this.text=_,this.end=b,E=4;break;case"utf8":this.fillLast=u,E=4;break;case"base64":this.text=d,this.end=P,E=3;break;default:this.write=T,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(E)}l.prototype.write=function(h){if(h.length===0)return"";var E,x;if(this.lastNeed){if(E=this.fillLast(h),E===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<h.length?E?E+this.text(h,x):this.text(h,x):E||""},l.prototype.end=g,l.prototype.text=y,l.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function f(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function n(h,E,x){var S=E.length-1;if(S<x)return 0;var O=f(E[S]);return O>=0?(O>0&&(h.lastNeed=O-1),O):--S<x||O===-2?0:(O=f(E[S]),O>=0?(O>0&&(h.lastNeed=O-2),O):--S<x||O===-2?0:(O=f(E[S]),O>=0?(O>0&&(O===2?O=0:h.lastNeed=O-3),O):0))}function c(h,E,x){if((E[0]&192)!==128)return h.lastNeed=0,"�";if(h.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return h.lastNeed=1,"�";if(h.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return h.lastNeed=2,"�"}}function u(h){var E=this.lastTotal-this.lastNeed,x=c(this,h);if(x!==void 0)return x;if(this.lastNeed<=h.length)return h.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,E,0,h.length),this.lastNeed-=h.length}function y(h,E){var x=n(this,h,E);if(!this.lastNeed)return h.toString("utf8",E);this.lastTotal=x;var S=h.length-(x-this.lastNeed);return h.copy(this.lastChar,0,S),h.toString("utf8",E,S)}function g(h){var E=h&&h.length?this.write(h):"";return this.lastNeed?E+"�":E}function _(h,E){if((h.length-E)%2===0){var x=h.toString("utf16le",E);if(x){var S=x.charCodeAt(x.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",E,h.length-1)}function b(h){var E=h&&h.length?this.write(h):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,x)}return E}function d(h,E){var x=(h.length-E)%3;return x===0?h.toString("base64",E):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",E,h.length-x))}function P(h){var E=h&&h.length?this.write(h):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function T(h){return h.toString(this.encoding)}function A(h){return h&&h.length?this.write(h):""}}}),Hr=he({"node_modules/readable-stream/lib/internal/streams/from.js"(i,e){fe();var t=lt(),{PromisePrototypeThen:r,SymbolAsyncIterator:a,SymbolIterator:l}=Oe(),{Buffer:f}=Fe(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_NULL_VALUES:c}=je().codes;function u(y,g,_){let b;if(typeof g=="string"||g instanceof f)return new y({objectMode:!0,..._,read(){this.push(g),this.push(null)}});let d;if(g&&g[a])d=!0,b=g[a]();else if(g&&g[l])d=!1,b=g[l]();else throw new n("iterable",["Iterable"],g);const P=new y({objectMode:!0,highWaterMark:1,..._});let T=!1;P._read=function(){T||(T=!0,h())},P._destroy=function(E,x){r(A(E),()=>t.nextTick(x,E),S=>t.nextTick(x,S||E))};async function A(E){const x=E!=null,S=typeof b.throw=="function";if(x&&S){const{value:O,done:j}=await b.throw(E);if(await O,j)return}if(typeof b.return=="function"){const{value:O}=await b.return();await O}}async function h(){for(;;){try{const{value:E,done:x}=d?await b.next():b.next();if(x)P.push(null);else{const S=E&&typeof E.then=="function"?await E:E;if(S===null)throw T=!1,new c;if(P.push(S))continue;T=!1}}catch(E){P.destroy(E)}break}}return P}e.exports=u}}),Nt=he({"node_modules/readable-stream/lib/internal/streams/readable.js"(i,e){fe();var t=lt(),{ArrayPrototypeIndexOf:r,NumberIsInteger:a,NumberIsNaN:l,NumberParseInt:f,ObjectDefineProperties:n,ObjectKeys:c,ObjectSetPrototypeOf:u,Promise:y,SafeSet:g,SymbolAsyncDispose:_,SymbolAsyncIterator:b,Symbol:d}=Oe();e.exports=oe,oe.ReadableState=ye;var{EventEmitter:P}=Je(),{Stream:T,prependListener:A}=fr(),{Buffer:h}=Fe(),{addAbortSignal:E}=Mt(),x=tt(),S=Ne().debuglog("stream",B=>{S=B}),O=Hn(),j=pt(),{getHighWaterMark:G,getDefaultHighWaterMark:Z}=kt(),{aggregateTwoErrors:Y,codes:{ERR_INVALID_ARG_TYPE:ae,ERR_METHOD_NOT_IMPLEMENTED:F,ERR_OUT_OF_RANGE:z,ERR_STREAM_PUSH_AFTER_EOF:ee,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:K},AbortError:ue}=je(),{validateObject:pe}=Bt(),we=d("kPaused"),{StringDecoder:_e}=Qt(),X=Hr();u(oe.prototype,T.prototype),u(oe,T);var le=()=>{},{errorOrDestroy:p}=j,k=1,H=2,V=4,se=8,de=16,C=32,D=64,M=128,$=256,re=512,m=1024,v=2048,R=4096,N=8192,J=16384,ne=32768,U=65536,ce=1<<17,W=1<<18;function ie(B){return{enumerable:!1,get(){return(this.state&B)!==0},set(L){L?this.state|=B:this.state&=~B}}}n(ye.prototype,{objectMode:ie(k),ended:ie(H),endEmitted:ie(V),reading:ie(se),constructed:ie(de),sync:ie(C),needReadable:ie(D),emittedReadable:ie(M),readableListening:ie($),resumeScheduled:ie(re),errorEmitted:ie(m),emitClose:ie(v),autoDestroy:ie(R),destroyed:ie(N),closed:ie(J),closeEmitted:ie(ne),multiAwaitDrain:ie(U),readingMore:ie(ce),dataEmitted:ie(W)});function ye(B,L,be){typeof be!="boolean"&&(be=L instanceof Ye()),this.state=v|R|de|C,B&&B.objectMode&&(this.state|=k),be&&B&&B.readableObjectMode&&(this.state|=k),this.highWaterMark=B?G(this,B,"readableHighWaterMark",be):Z(!1),this.buffer=new O,this.length=0,this.pipes=[],this.flowing=null,this[we]=null,B&&B.emitClose===!1&&(this.state&=~v),B&&B.autoDestroy===!1&&(this.state&=~R),this.errored=null,this.defaultEncoding=B&&B.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,B&&B.encoding&&(this.decoder=new _e(B.encoding),this.encoding=B.encoding)}function oe(B){if(!(this instanceof oe))return new oe(B);const L=this instanceof Ye();this._readableState=new ye(B,this,L),B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.construct=="function"&&(this._construct=B.construct),B.signal&&!L&&E(B.signal,this)),T.call(this,B),j.construct(this,()=>{this._readableState.needReadable&&te(this,this._readableState)})}oe.prototype.destroy=j.destroy,oe.prototype._undestroy=j.undestroy,oe.prototype._destroy=function(B,L){L(B)},oe.prototype[P.captureRejectionSymbol]=function(B){this.destroy(B)},oe.prototype[_]=function(){let B;return this.destroyed||(B=this.readableEnded?null:new ue,this.destroy(B)),new y((L,be)=>x(this,ge=>ge&&ge!==B?be(ge):L(null)))},oe.prototype.push=function(B,L){return Se(this,B,L,!1)},oe.prototype.unshift=function(B,L){return Se(this,B,L,!0)};function Se(B,L,be,ge){S("readableAddChunk",L);const me=B._readableState;let Le;if(me.state&k||(typeof L=="string"?(be=be||me.defaultEncoding,me.encoding!==be&&(ge&&me.encoding?L=h.from(L,be).toString(me.encoding):(L=h.from(L,be),be=""))):L instanceof h?be="":T._isUint8Array(L)?(L=T._uint8ArrayToBuffer(L),be=""):L!=null&&(Le=new ae("chunk",["string","Buffer","Uint8Array"],L))),Le)p(B,Le);else if(L===null)me.state&=~se,I(B,me);else if(me.state&k||L&&L.length>0)if(ge)if(me.state&V)p(B,new K);else{if(me.destroyed||me.errored)return!1;Pe(B,me,L,!0)}else if(me.ended)p(B,new ee);else{if(me.destroyed||me.errored)return!1;me.state&=~se,me.decoder&&!be?(L=me.decoder.write(L),me.objectMode||L.length!==0?Pe(B,me,L,!1):te(B,me)):Pe(B,me,L,!1)}else ge||(me.state&=~se,te(B,me));return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function Pe(B,L,be,ge){L.flowing&&L.length===0&&!L.sync&&B.listenerCount("data")>0?(L.state&U?L.awaitDrainWriters.clear():L.awaitDrainWriters=null,L.dataEmitted=!0,B.emit("data",be)):(L.length+=L.objectMode?1:be.length,ge?L.buffer.unshift(be):L.buffer.push(be),L.state&D&&q(B)),te(B,L)}oe.prototype.isPaused=function(){const B=this._readableState;return B[we]===!0||B.flowing===!1},oe.prototype.setEncoding=function(B){const L=new _e(B);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;const be=this._readableState.buffer;let ge="";for(const me of be)ge+=L.write(me);return be.clear(),ge!==""&&be.push(ge),this._readableState.length=ge.length,this};var w=1073741824;function o(B){if(B>w)throw new z("size","<= 1GiB",B);return B--,B|=B>>>1,B|=B>>>2,B|=B>>>4,B|=B>>>8,B|=B>>>16,B++,B}function s(B,L){return B<=0||L.length===0&&L.ended?0:L.state&k?1:l(B)?L.flowing&&L.length?L.buffer.first().length:L.length:B<=L.length?B:L.ended?L.length:0}oe.prototype.read=function(B){S("read",B),B===void 0?B=NaN:a(B)||(B=f(B,10));const L=this._readableState,be=B;if(B>L.highWaterMark&&(L.highWaterMark=o(B)),B!==0&&(L.state&=~M),B===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return S("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?Ct(this):q(this),null;if(B=s(B,L),B===0&&L.ended)return L.length===0&&Ct(this),null;let ge=(L.state&D)!==0;if(S("need readable",ge),(L.length===0||L.length-B<L.highWaterMark)&&(ge=!0,S("length less than watermark",ge)),L.ended||L.reading||L.destroyed||L.errored||!L.constructed)ge=!1,S("reading, ended or constructing",ge);else if(ge){S("do read"),L.state|=se|C,L.length===0&&(L.state|=D);try{this._read(L.highWaterMark)}catch(Le){p(this,Le)}L.state&=~C,L.reading||(B=s(be,L))}let me;return B>0?me=Er(B,L):me=null,me===null?(L.needReadable=L.length<=L.highWaterMark,B=0):(L.length-=B,L.multiAwaitDrain?L.awaitDrainWriters.clear():L.awaitDrainWriters=null),L.length===0&&(L.ended||(L.needReadable=!0),be!==B&&L.ended&&Ct(this)),me!==null&&!L.errorEmitted&&!L.closeEmitted&&(L.dataEmitted=!0,this.emit("data",me)),me};function I(B,L){if(S("onEofChunk"),!L.ended){if(L.decoder){const be=L.decoder.end();be&&be.length&&(L.buffer.push(be),L.length+=L.objectMode?1:be.length)}L.ended=!0,L.sync?q(B):(L.needReadable=!1,L.emittedReadable=!0,Q(B))}}function q(B){const L=B._readableState;S("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(S("emitReadable",L.flowing),L.emittedReadable=!0,t.nextTick(Q,B))}function Q(B){const L=B._readableState;S("emitReadable_",L.destroyed,L.length,L.ended),!L.destroyed&&!L.errored&&(L.length||L.ended)&&(B.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,mr(B)}function te(B,L){!L.readingMore&&L.constructed&&(L.readingMore=!0,t.nextTick(Ae,B,L))}function Ae(B,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){const be=L.length;if(S("maybeReadMore read 0"),B.read(0),be===L.length)break}L.readingMore=!1}oe.prototype._read=function(B){throw new F("_read()")},oe.prototype.pipe=function(B,L){const be=this,ge=this._readableState;ge.pipes.length===1&&(ge.multiAwaitDrain||(ge.multiAwaitDrain=!0,ge.awaitDrainWriters=new g(ge.awaitDrainWriters?[ge.awaitDrainWriters]:[]))),ge.pipes.push(B),S("pipe count=%d opts=%j",ge.pipes.length,L);const Le=(!L||L.end!==!1)&&B!==t.stdout&&B!==t.stderr?Ar:wt;ge.endEmitted?t.nextTick(Le):be.once("end",Le),B.on("unpipe",De);function De(it,Ve){S("onunpipe"),it===be&&Ve&&Ve.hasUnpiped===!1&&(Ve.hasUnpiped=!0,Nn())}function Ar(){S("onend"),B.end()}let nt,Rr=!1;function Nn(){S("cleanup"),B.removeListener("close",Wt),B.removeListener("finish",qt),nt&&B.removeListener("drain",nt),B.removeListener("error",Ft),B.removeListener("unpipe",De),be.removeListener("end",Ar),be.removeListener("end",wt),be.removeListener("data",Tr),Rr=!0,nt&&ge.awaitDrainWriters&&(!B._writableState||B._writableState.needDrain)&&nt()}function Ir(){Rr||(ge.pipes.length===1&&ge.pipes[0]===B?(S("false write response, pause",0),ge.awaitDrainWriters=B,ge.multiAwaitDrain=!1):ge.pipes.length>1&&ge.pipes.includes(B)&&(S("false write response, pause",ge.awaitDrainWriters.size),ge.awaitDrainWriters.add(B)),be.pause()),nt||(nt=Te(be,B),B.on("drain",nt))}be.on("data",Tr);function Tr(it){S("ondata");const Ve=B.write(it);S("dest.write",Ve),Ve===!1&&Ir()}function Ft(it){if(S("onerror",it),wt(),B.removeListener("error",Ft),B.listenerCount("error")===0){const Ve=B._writableState||B._readableState;Ve&&!Ve.errorEmitted?p(B,it):B.emit("error",it)}}A(B,"error",Ft);function Wt(){B.removeListener("finish",qt),wt()}B.once("close",Wt);function qt(){S("onfinish"),B.removeListener("close",Wt),wt()}B.once("finish",qt);function wt(){S("unpipe"),be.unpipe(B)}return B.emit("pipe",be),B.writableNeedDrain===!0?Ir():ge.flowing||(S("pipe resume"),be.resume()),B};function Te(B,L){return function(){const ge=B._readableState;ge.awaitDrainWriters===L?(S("pipeOnDrain",1),ge.awaitDrainWriters=null):ge.multiAwaitDrain&&(S("pipeOnDrain",ge.awaitDrainWriters.size),ge.awaitDrainWriters.delete(L)),(!ge.awaitDrainWriters||ge.awaitDrainWriters.size===0)&&B.listenerCount("data")&&B.resume()}}oe.prototype.unpipe=function(B){const L=this._readableState,be={hasUnpiped:!1};if(L.pipes.length===0)return this;if(!B){const me=L.pipes;L.pipes=[],this.pause();for(let Le=0;Le<me.length;Le++)me[Le].emit("unpipe",this,{hasUnpiped:!1});return this}const ge=r(L.pipes,B);return ge===-1?this:(L.pipes.splice(ge,1),L.pipes.length===0&&this.pause(),B.emit("unpipe",this,be),this)},oe.prototype.on=function(B,L){const be=T.prototype.on.call(this,B,L),ge=this._readableState;return B==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):B==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,S("on readable",ge.length,ge.reading),ge.length?q(this):ge.reading||t.nextTick(Be,this)),be},oe.prototype.addListener=oe.prototype.on,oe.prototype.removeListener=function(B,L){const be=T.prototype.removeListener.call(this,B,L);return B==="readable"&&t.nextTick(Ie,this),be},oe.prototype.off=oe.prototype.removeListener,oe.prototype.removeAllListeners=function(B){const L=T.prototype.removeAllListeners.apply(this,arguments);return(B==="readable"||B===void 0)&&t.nextTick(Ie,this),L};function Ie(B){const L=B._readableState;L.readableListening=B.listenerCount("readable")>0,L.resumeScheduled&&L[we]===!1?L.flowing=!0:B.listenerCount("data")>0?B.resume():L.readableListening||(L.flowing=null)}function Be(B){S("readable nexttick read 0"),B.read(0)}oe.prototype.resume=function(){const B=this._readableState;return B.flowing||(S("resume"),B.flowing=!B.readableListening,Re(this,B)),B[we]=!1,this};function Re(B,L){L.resumeScheduled||(L.resumeScheduled=!0,t.nextTick(xn,B,L))}function xn(B,L){S("resume",L.reading),L.reading||B.read(0),L.resumeScheduled=!1,B.emit("resume"),mr(B),L.flowing&&!L.reading&&B.read(0)}oe.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[we]=!0,this};function mr(B){const L=B._readableState;for(S("flow",L.flowing);L.flowing&&B.read()!==null;);}oe.prototype.wrap=function(B){let L=!1;B.on("data",ge=>{!this.push(ge)&&B.pause&&(L=!0,B.pause())}),B.on("end",()=>{this.push(null)}),B.on("error",ge=>{p(this,ge)}),B.on("close",()=>{this.destroy()}),B.on("destroy",()=>{this.destroy()}),this._read=()=>{L&&B.resume&&(L=!1,B.resume())};const be=c(B);for(let ge=1;ge<be.length;ge++){const me=be[ge];this[me]===void 0&&typeof B[me]=="function"&&(this[me]=B[me].bind(B))}return this},oe.prototype[b]=function(){return vr(this)},oe.prototype.iterator=function(B){return B!==void 0&&pe(B,"options"),vr(this,B)};function vr(B,L){typeof B.read!="function"&&(B=oe.wrap(B,{objectMode:!0}));const be=Ln(B,L);return be.stream=B,be}async function*Ln(B,L){let be=le;function ge(De){this===B?(be(),be=le):be=De}B.on("readable",ge);let me;const Le=x(B,{writable:!1},De=>{me=De?Y(me,De):null,be(),be=le});try{for(;;){const De=B.destroyed?null:B.read();if(De!==null)yield De;else{if(me)throw me;if(me===null)return;await new y(ge)}}}catch(De){throw me=Y(me,De),me}finally{(me||(L==null?void 0:L.destroyOnReturn)!==!1)&&(me===void 0||B._readableState.autoDestroy)?j.destroyer(B,null):(B.off("readable",ge),Le())}}n(oe.prototype,{readable:{__proto__:null,get(){const B=this._readableState;return!!B&&B.readable!==!1&&!B.destroyed&&!B.errorEmitted&&!B.endEmitted},set(B){this._readableState&&(this._readableState.readable=!!B)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(B){this._readableState&&(this._readableState.destroyed=B)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),n(ye.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[we]!==!1},set(B){this[we]=!!B}}}),oe._fromList=Er;function Er(B,L){if(L.length===0)return null;let be;return L.objectMode?be=L.buffer.shift():!B||B>=L.length?(L.decoder?be=L.buffer.join(""):L.buffer.length===1?be=L.buffer.first():be=L.buffer.concat(L.length),L.buffer.clear()):be=L.buffer.consume(B,L.decoder),be}function Ct(B){const L=B._readableState;S("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,t.nextTick(Mn,L,B))}function Mn(B,L){if(S("endReadableNT",B.endEmitted,B.length),!B.errored&&!B.closeEmitted&&!B.endEmitted&&B.length===0){if(B.endEmitted=!0,L.emit("end"),L.writable&&L.allowHalfOpen===!1)t.nextTick(kn,L);else if(B.autoDestroy){const be=L._writableState;(!be||be.autoDestroy&&(be.finished||be.writable===!1))&&L.destroy()}}}function kn(B){B.writable&&!B.writableEnded&&!B.destroyed&&B.end()}oe.from=function(B,L){return X(oe,B,L)};var Ut;function Sr(){return Ut===void 0&&(Ut={}),Ut}oe.fromWeb=function(B,L){return Sr().newStreamReadableFromReadableStream(B,L)},oe.toWeb=function(B,L){return Sr().newReadableStreamFromStreamReadable(B,L)},oe.wrap=function(B,L){var be,ge;return new oe({objectMode:(be=(ge=B.readableObjectMode)!==null&&ge!==void 0?ge:B.objectMode)!==null&&be!==void 0?be:!0,...L,destroy(me,Le){j.destroyer(B,me),Le(me)}}).wrap(B)}}}),ur=he({"node_modules/readable-stream/lib/internal/streams/writable.js"(i,e){fe();var t=lt(),{ArrayPrototypeSlice:r,Error:a,FunctionPrototypeSymbolHasInstance:l,ObjectDefineProperty:f,ObjectDefineProperties:n,ObjectSetPrototypeOf:c,StringPrototypeToLowerCase:u,Symbol:y,SymbolHasInstance:g}=Oe();e.exports=pe,pe.WritableState=K;var{EventEmitter:_}=Je(),b=fr().Stream,{Buffer:d}=Fe(),P=pt(),{addAbortSignal:T}=Mt(),{getHighWaterMark:A,getDefaultHighWaterMark:h}=kt(),{ERR_INVALID_ARG_TYPE:E,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:O,ERR_STREAM_DESTROYED:j,ERR_STREAM_ALREADY_FINISHED:G,ERR_STREAM_NULL_VALUES:Z,ERR_STREAM_WRITE_AFTER_END:Y,ERR_UNKNOWN_ENCODING:ae}=je().codes,{errorOrDestroy:F}=P;c(pe.prototype,b.prototype),c(pe,b);function z(){}var ee=y("kOnFinished");function K(R,N,J){typeof J!="boolean"&&(J=N instanceof Ye()),this.objectMode=!!(R&&R.objectMode),J&&(this.objectMode=this.objectMode||!!(R&&R.writableObjectMode)),this.highWaterMark=R?A(this,R,"writableHighWaterMark",J):h(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const ne=!!(R&&R.decodeStrings===!1);this.decodeStrings=!ne,this.defaultEncoding=R&&R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=p.bind(void 0,N),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ue(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!R||R.emitClose!==!1,this.autoDestroy=!R||R.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ee]=[]}function ue(R){R.buffered=[],R.bufferedIndex=0,R.allBuffers=!0,R.allNoop=!0}K.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},f(K.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function pe(R){const N=this instanceof Ye();if(!N&&!l(pe,this))return new pe(R);this._writableState=new K(R,this,N),R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final),typeof R.construct=="function"&&(this._construct=R.construct),R.signal&&T(R.signal,this)),b.call(this,R),P.construct(this,()=>{const J=this._writableState;J.writing||se(this,J),M(this,J)})}f(pe,g,{__proto__:null,value:function(R){return l(this,R)?!0:this!==pe?!1:R&&R._writableState instanceof K}}),pe.prototype.pipe=function(){F(this,new O)};function we(R,N,J,ne){const U=R._writableState;if(typeof J=="function")ne=J,J=U.defaultEncoding;else{if(!J)J=U.defaultEncoding;else if(J!=="buffer"&&!d.isEncoding(J))throw new ae(J);typeof ne!="function"&&(ne=z)}if(N===null)throw new Z;if(!U.objectMode)if(typeof N=="string")U.decodeStrings!==!1&&(N=d.from(N,J),J="buffer");else if(N instanceof d)J="buffer";else if(b._isUint8Array(N))N=b._uint8ArrayToBuffer(N),J="buffer";else throw new E("chunk",["string","Buffer","Uint8Array"],N);let ce;return U.ending?ce=new Y:U.destroyed&&(ce=new j("write")),ce?(t.nextTick(ne,ce),F(R,ce,!0),ce):(U.pendingcb++,_e(R,U,N,J,ne))}pe.prototype.write=function(R,N,J){return we(this,R,N,J)===!0},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){const R=this._writableState;R.corked&&(R.corked--,R.writing||se(this,R))},pe.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=u(N)),!d.isEncoding(N))throw new ae(N);return this._writableState.defaultEncoding=N,this};function _e(R,N,J,ne,U){const ce=N.objectMode?1:J.length;N.length+=ce;const W=N.length<N.highWaterMark;return W||(N.needDrain=!0),N.writing||N.corked||N.errored||!N.constructed?(N.buffered.push({chunk:J,encoding:ne,callback:U}),N.allBuffers&&ne!=="buffer"&&(N.allBuffers=!1),N.allNoop&&U!==z&&(N.allNoop=!1)):(N.writelen=ce,N.writecb=U,N.writing=!0,N.sync=!0,R._write(J,ne,N.onwrite),N.sync=!1),W&&!N.errored&&!N.destroyed}function X(R,N,J,ne,U,ce,W){N.writelen=ne,N.writecb=W,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new j("write")):J?R._writev(U,N.onwrite):R._write(U,ce,N.onwrite),N.sync=!1}function le(R,N,J,ne){--N.pendingcb,ne(J),V(N),F(R,J)}function p(R,N){const J=R._writableState,ne=J.sync,U=J.writecb;if(typeof U!="function"){F(R,new S);return}J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0,N?(N.stack,J.errored||(J.errored=N),R._readableState&&!R._readableState.errored&&(R._readableState.errored=N),ne?t.nextTick(le,R,J,N,U):le(R,J,N,U)):(J.buffered.length>J.bufferedIndex&&se(R,J),ne?J.afterWriteTickInfo!==null&&J.afterWriteTickInfo.cb===U?J.afterWriteTickInfo.count++:(J.afterWriteTickInfo={count:1,cb:U,stream:R,state:J},t.nextTick(k,J.afterWriteTickInfo)):H(R,J,1,U))}function k({stream:R,state:N,count:J,cb:ne}){return N.afterWriteTickInfo=null,H(R,N,J,ne)}function H(R,N,J,ne){for(!N.ending&&!R.destroyed&&N.length===0&&N.needDrain&&(N.needDrain=!1,R.emit("drain"));J-- >0;)N.pendingcb--,ne();N.destroyed&&V(N),M(R,N)}function V(R){if(R.writing)return;for(let U=R.bufferedIndex;U<R.buffered.length;++U){var N;const{chunk:ce,callback:W}=R.buffered[U],ie=R.objectMode?1:ce.length;R.length-=ie,W((N=R.errored)!==null&&N!==void 0?N:new j("write"))}const J=R[ee].splice(0);for(let U=0;U<J.length;U++){var ne;J[U]((ne=R.errored)!==null&&ne!==void 0?ne:new j("end"))}ue(R)}function se(R,N){if(N.corked||N.bufferProcessing||N.destroyed||!N.constructed)return;const{buffered:J,bufferedIndex:ne,objectMode:U}=N,ce=J.length-ne;if(!ce)return;let W=ne;if(N.bufferProcessing=!0,ce>1&&R._writev){N.pendingcb-=ce-1;const ie=N.allNoop?z:oe=>{for(let Se=W;Se<J.length;++Se)J[Se].callback(oe)},ye=N.allNoop&&W===0?J:r(J,W);ye.allBuffers=N.allBuffers,X(R,N,!0,N.length,ye,"",ie),ue(N)}else{do{const{chunk:ie,encoding:ye,callback:oe}=J[W];J[W++]=null;const Se=U?1:ie.length;X(R,N,!1,Se,ie,ye,oe)}while(W<J.length&&!N.writing);W===J.length?ue(N):W>256?(J.splice(0,W),N.bufferedIndex=0):N.bufferedIndex=W}N.bufferProcessing=!1}pe.prototype._write=function(R,N,J){if(this._writev)this._writev([{chunk:R,encoding:N}],J);else throw new x("_write()")},pe.prototype._writev=null,pe.prototype.end=function(R,N,J){const ne=this._writableState;typeof R=="function"?(J=R,R=null,N=null):typeof N=="function"&&(J=N,N=null);let U;if(R!=null){const ce=we(this,R,N);ce instanceof a&&(U=ce)}return ne.corked&&(ne.corked=1,this.uncork()),U||(!ne.errored&&!ne.ending?(ne.ending=!0,M(this,ne,!0),ne.ended=!0):ne.finished?U=new G("end"):ne.destroyed&&(U=new j("end"))),typeof J=="function"&&(U||ne.finished?t.nextTick(J,U):ne[ee].push(J)),this};function de(R){return R.ending&&!R.destroyed&&R.constructed&&R.length===0&&!R.errored&&R.buffered.length===0&&!R.finished&&!R.writing&&!R.errorEmitted&&!R.closeEmitted}function C(R,N){let J=!1;function ne(U){if(J){F(R,U??S());return}if(J=!0,N.pendingcb--,U){const ce=N[ee].splice(0);for(let W=0;W<ce.length;W++)ce[W](U);F(R,U,N.sync)}else de(N)&&(N.prefinished=!0,R.emit("prefinish"),N.pendingcb++,t.nextTick($,R,N))}N.sync=!0,N.pendingcb++;try{R._final(ne)}catch(U){ne(U)}N.sync=!1}function D(R,N){!N.prefinished&&!N.finalCalled&&(typeof R._final=="function"&&!N.destroyed?(N.finalCalled=!0,C(R,N)):(N.prefinished=!0,R.emit("prefinish")))}function M(R,N,J){de(N)&&(D(R,N),N.pendingcb===0&&(J?(N.pendingcb++,t.nextTick((ne,U)=>{de(U)?$(ne,U):U.pendingcb--},R,N)):de(N)&&(N.pendingcb++,$(R,N))))}function $(R,N){N.pendingcb--,N.finished=!0;const J=N[ee].splice(0);for(let ne=0;ne<J.length;ne++)J[ne]();if(R.emit("finish"),N.autoDestroy){const ne=R._readableState;(!ne||ne.autoDestroy&&(ne.endEmitted||ne.readable===!1))&&R.destroy()}}n(pe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(R){this._writableState&&(this._writableState.destroyed=R)}},writable:{__proto__:null,get(){const R=this._writableState;return!!R&&R.writable!==!1&&!R.destroyed&&!R.errored&&!R.ending&&!R.ended},set(R){this._writableState&&(this._writableState.writable=!!R)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const R=this._writableState;return R?!R.destroyed&&!R.ending&&R.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var re=P.destroy;pe.prototype.destroy=function(R,N){const J=this._writableState;return!J.destroyed&&(J.bufferedIndex<J.buffered.length||J[ee].length)&&t.nextTick(V,J),re.call(this,R,N),this},pe.prototype._undestroy=P.undestroy,pe.prototype._destroy=function(R,N){N(R)},pe.prototype[_.captureRejectionSymbol]=function(R){this.destroy(R)};var m;function v(){return m===void 0&&(m={}),m}pe.fromWeb=function(R,N){return v().newStreamWritableFromWritableStream(R,N)},pe.toWeb=function(R){return v().newWritableStreamFromStreamWritable(R)}}}),Kn=he({"node_modules/readable-stream/lib/internal/streams/duplexify.js"(i,e){fe();var t=lt(),r=Fe(),{isReadable:a,isWritable:l,isIterable:f,isNodeStream:n,isReadableNodeStream:c,isWritableNodeStream:u,isDuplexNodeStream:y,isReadableStream:g,isWritableStream:_}=Xe(),b=tt(),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:P,ERR_INVALID_RETURN_VALUE:T}}=je(),{destroyer:A}=pt(),h=Ye(),E=Nt(),x=ur(),{createDeferredPromise:S}=Ne(),O=Hr(),j=globalThis.Blob||r.Blob,G=typeof j<"u"?function(K){return K instanceof j}:function(K){return!1},Z=globalThis.AbortController||(et(),Rt(dt)).AbortController,{FunctionPrototypeCall:Y}=Oe(),ae=class extends h{constructor(ee){super(ee),(ee==null?void 0:ee.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(ee==null?void 0:ee.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function ee(K,ue){if(y(K))return K;if(c(K))return z({readable:K});if(u(K))return z({writable:K});if(n(K))return z({writable:!1,readable:!1});if(g(K))return z({readable:E.fromWeb(K)});if(_(K))return z({writable:x.fromWeb(K)});if(typeof K=="function"){const{value:we,write:_e,final:X,destroy:le}=F(K);if(f(we))return O(ae,we,{objectMode:!0,write:_e,final:X,destroy:le});const p=we==null?void 0:we.then;if(typeof p=="function"){let k;const H=Y(p,we,V=>{if(V!=null)throw new T("nully","body",V)},V=>{A(k,V)});return k=new ae({objectMode:!0,readable:!1,write:_e,final(V){X(async()=>{try{await H,t.nextTick(V,null)}catch(se){t.nextTick(V,se)}})},destroy:le})}throw new T("Iterable, AsyncIterable or AsyncFunction",ue,we)}if(G(K))return ee(K.arrayBuffer());if(f(K))return O(ae,K,{objectMode:!0,writable:!1});if(g(K==null?void 0:K.readable)&&_(K==null?void 0:K.writable))return ae.fromWeb(K);if(typeof(K==null?void 0:K.writable)=="object"||typeof(K==null?void 0:K.readable)=="object"){const we=K!=null&&K.readable?c(K==null?void 0:K.readable)?K==null?void 0:K.readable:ee(K.readable):void 0,_e=K!=null&&K.writable?u(K==null?void 0:K.writable)?K==null?void 0:K.writable:ee(K.writable):void 0;return z({readable:we,writable:_e})}const pe=K==null?void 0:K.then;if(typeof pe=="function"){let we;return Y(pe,K,_e=>{_e!=null&&we.push(_e),we.push(null)},_e=>{A(we,_e)}),we=new ae({objectMode:!0,writable:!1,read(){}})}throw new P(ue,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],K)};function F(ee){let{promise:K,resolve:ue}=S();const pe=new Z,we=pe.signal;return{value:ee(async function*(){for(;;){const X=K;K=null;const{chunk:le,done:p,cb:k}=await X;if(t.nextTick(k),p)return;if(we.aborted)throw new d(void 0,{cause:we.reason});({promise:K,resolve:ue}=S()),yield le}}(),{signal:we}),write(X,le,p){const k=ue;ue=null,k({chunk:X,done:!1,cb:p})},final(X){const le=ue;ue=null,le({done:!0,cb:X})},destroy(X,le){pe.abort(),le(X)}}}function z(ee){const K=ee.readable&&typeof ee.readable.read!="function"?E.wrap(ee.readable):ee.readable,ue=ee.writable;let pe=!!a(K),we=!!l(ue),_e,X,le,p,k;function H(V){const se=p;p=null,se?se(V):V&&k.destroy(V)}return k=new ae({readableObjectMode:!!(K!=null&&K.readableObjectMode),writableObjectMode:!!(ue!=null&&ue.writableObjectMode),readable:pe,writable:we}),we&&(b(ue,V=>{we=!1,V&&A(K,V),H(V)}),k._write=function(V,se,de){ue.write(V,se)?de():_e=de},k._final=function(V){ue.end(),X=V},ue.on("drain",function(){if(_e){const V=_e;_e=null,V()}}),ue.on("finish",function(){if(X){const V=X;X=null,V()}})),pe&&(b(K,V=>{pe=!1,V&&A(K,V),H(V)}),K.on("readable",function(){if(le){const V=le;le=null,V()}}),K.on("end",function(){k.push(null)}),k._read=function(){for(;;){const V=K.read();if(V===null){le=k._read;return}if(!k.push(V))return}}),k._destroy=function(V,se){!V&&p!==null&&(V=new d),le=null,_e=null,X=null,p===null?se(V):(p=se,A(ue,V),A(K,V))},k}}}),Ye=he({"node_modules/readable-stream/lib/internal/streams/duplex.js"(i,e){fe();var{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:a,ObjectSetPrototypeOf:l}=Oe();e.exports=c;var f=Nt(),n=ur();l(c.prototype,f.prototype),l(c,f);{const _=a(n.prototype);for(let b=0;b<_.length;b++){const d=_[b];c.prototype[d]||(c.prototype[d]=n.prototype[d])}}function c(_){if(!(this instanceof c))return new c(_);f.call(this,_),n.call(this,_),_?(this.allowHalfOpen=_.allowHalfOpen!==!1,_.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),_.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(c.prototype,{writable:{__proto__:null,...r(n.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(n.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(n.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(n.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(n.prototype,"writableLength")},writableFinished:{__proto__:null,...r(n.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(n.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(n.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(n.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(_){this._readableState&&this._writableState&&(this._readableState.destroyed=_,this._writableState.destroyed=_)}}});var u;function y(){return u===void 0&&(u={}),u}c.fromWeb=function(_,b){return y().newStreamDuplexFromReadableWritablePair(_,b)},c.toWeb=function(_){return y().newReadableWritablePairFromDuplex(_)};var g;c.from=function(_){return g||(g=Kn()),g(_,"body")}}}),Vr=he({"node_modules/readable-stream/lib/internal/streams/transform.js"(i,e){fe();var{ObjectSetPrototypeOf:t,Symbol:r}=Oe();e.exports=c;var{ERR_METHOD_NOT_IMPLEMENTED:a}=je().codes,l=Ye(),{getHighWaterMark:f}=kt();t(c.prototype,l.prototype),t(c,l);var n=r("kCallback");function c(g){if(!(this instanceof c))return new c(g);const _=g?f(this,g,"readableHighWaterMark",!0):null;_===0&&(g={...g,highWaterMark:null,readableHighWaterMark:_,writableHighWaterMark:g.writableHighWaterMark||0}),l.call(this,g),this._readableState.sync=!1,this[n]=null,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",y)}function u(g){typeof this._flush=="function"&&!this.destroyed?this._flush((_,b)=>{if(_){g?g(_):this.destroy(_);return}b!=null&&this.push(b),this.push(null),g&&g()}):(this.push(null),g&&g())}function y(){this._final!==u&&u.call(this)}c.prototype._final=u,c.prototype._transform=function(g,_,b){throw new a("_transform()")},c.prototype._write=function(g,_,b){const d=this._readableState,P=this._writableState,T=d.length;this._transform(g,_,(A,h)=>{if(A){b(A);return}h!=null&&this.push(h),P.ended||T===d.length||d.length<d.highWaterMark?b():this[n]=b})},c.prototype._read=function(){if(this[n]){const g=this[n];this[n]=null,g()}}}}),Kr=he({"node_modules/readable-stream/lib/internal/streams/passthrough.js"(i,e){fe();var{ObjectSetPrototypeOf:t}=Oe();e.exports=a;var r=Vr();t(a.prototype,r.prototype),t(a,r);function a(l){if(!(this instanceof a))return new a(l);r.call(this,l)}a.prototype._transform=function(l,f,n){n(null,l)}}}),cr=he({"node_modules/readable-stream/lib/internal/streams/pipeline.js"(i,e){fe();var t=lt(),{ArrayIsArray:r,Promise:a,SymbolAsyncIterator:l,SymbolDispose:f}=Oe(),n=tt(),{once:c}=Ne(),u=pt(),y=Ye(),{aggregateTwoErrors:g,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:P,ERR_STREAM_PREMATURE_CLOSE:T},AbortError:A}=je(),{validateFunction:h,validateAbortSignal:E}=Bt(),{isIterable:x,isReadable:S,isReadableNodeStream:O,isNodeStream:j,isTransformStream:G,isWebStream:Z,isReadableStream:Y,isReadableFinished:ae}=Xe(),F=globalThis.AbortController||(et(),Rt(dt)).AbortController,z,ee,K;function ue(V,se,de){let C=!1;V.on("close",()=>{C=!0});const D=n(V,{readable:se,writable:de},M=>{C=!M});return{destroy:M=>{C||(C=!0,u.destroyer(V,M||new P("pipe")))},cleanup:D}}function pe(V){return h(V[V.length-1],"streams[stream.length - 1]"),V.pop()}function we(V){if(x(V))return V;if(O(V))return _e(V);throw new _("val",["Readable","Iterable","AsyncIterable"],V)}async function*_e(V){ee||(ee=Nt()),yield*ee.prototype[l].call(V)}async function X(V,se,de,{end:C}){let D,M=null;const $=v=>{if(v&&(D=v),M){const R=M;M=null,R()}},re=()=>new a((v,R)=>{D?R(D):M=()=>{D?R(D):v()}});se.on("drain",$);const m=n(se,{readable:!1},$);try{se.writableNeedDrain&&await re();for await(const v of V)se.write(v)||await re();C&&(se.end(),await re()),de()}catch(v){de(D!==v?g(D,v):v)}finally{m(),se.off("drain",$)}}async function le(V,se,de,{end:C}){G(se)&&(se=se.writable);const D=se.getWriter();try{for await(const M of V)await D.ready,D.write(M).catch(()=>{});await D.ready,C&&await D.close(),de()}catch(M){try{await D.abort(M),de(M)}catch($){de($)}}}function p(...V){return k(V,c(pe(V)))}function k(V,se,de){if(V.length===1&&r(V[0])&&(V=V[0]),V.length<2)throw new d("streams");const C=new F,D=C.signal,M=de==null?void 0:de.signal,$=[];E(M,"options.signal");function re(){U(new A)}K=K||Ne().addAbortListener;let m;M&&(m=K(M,re));let v,R;const N=[];let J=0;function ne(ye){U(ye,--J===0)}function U(ye,oe){var Se;if(ye&&(!v||v.code==="ERR_STREAM_PREMATURE_CLOSE")&&(v=ye),!(!v&&!oe)){for(;N.length;)N.shift()(v);(Se=m)===null||Se===void 0||Se[f](),C.abort(),oe&&(v||$.forEach(Pe=>Pe()),t.nextTick(se,v,R))}}let ce;for(let ye=0;ye<V.length;ye++){const oe=V[ye],Se=ye<V.length-1,Pe=ye>0,w=Se||(de==null?void 0:de.end)!==!1,o=ye===V.length-1;if(j(oe)){let s=function(I){I&&I.name!=="AbortError"&&I.code!=="ERR_STREAM_PREMATURE_CLOSE"&&ne(I)};if(w){const{destroy:I,cleanup:q}=ue(oe,Se,Pe);N.push(I),S(oe)&&o&&$.push(q)}oe.on("error",s),S(oe)&&o&&$.push(()=>{oe.removeListener("error",s)})}if(ye===0)if(typeof oe=="function"){if(ce=oe({signal:D}),!x(ce))throw new b("Iterable, AsyncIterable or Stream","source",ce)}else x(oe)||O(oe)||G(oe)?ce=oe:ce=y.from(oe);else if(typeof oe=="function"){if(G(ce)){var W;ce=we((W=ce)===null||W===void 0?void 0:W.readable)}else ce=we(ce);if(ce=oe(ce,{signal:D}),Se){if(!x(ce,!0))throw new b("AsyncIterable",`transform[${ye-1}]`,ce)}else{var ie;z||(z=Kr());const s=new z({objectMode:!0}),I=(ie=ce)===null||ie===void 0?void 0:ie.then;if(typeof I=="function")J++,I.call(ce,te=>{R=te,te!=null&&s.write(te),w&&s.end(),t.nextTick(ne)},te=>{s.destroy(te),t.nextTick(ne,te)});else if(x(ce,!0))J++,X(ce,s,ne,{end:w});else if(Y(ce)||G(ce)){const te=ce.readable||ce;J++,X(te,s,ne,{end:w})}else throw new b("AsyncIterable or Promise","destination",ce);ce=s;const{destroy:q,cleanup:Q}=ue(ce,!1,!0);N.push(q),o&&$.push(Q)}}else if(j(oe)){if(O(ce)){J+=2;const s=H(ce,oe,ne,{end:w});S(oe)&&o&&$.push(s)}else if(G(ce)||Y(ce)){const s=ce.readable||ce;J++,X(s,oe,ne,{end:w})}else if(x(ce))J++,X(ce,oe,ne,{end:w});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ce);ce=oe}else if(Z(oe)){if(O(ce))J++,le(we(ce),oe,ne,{end:w});else if(Y(ce)||x(ce))J++,le(ce,oe,ne,{end:w});else if(G(ce))J++,le(ce.readable,oe,ne,{end:w});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ce);ce=oe}else ce=y.from(oe)}return(D!=null&&D.aborted||M!=null&&M.aborted)&&t.nextTick(re),ce}function H(V,se,de,{end:C}){let D=!1;if(se.on("close",()=>{D||de(new T)}),V.pipe(se,{end:!1}),C){let M=function(){D=!0,se.end()};ae(V)?t.nextTick(M):V.once("end",M)}else de();return n(V,{readable:!0,writable:!1},M=>{const $=V._readableState;M&&M.code==="ERR_STREAM_PREMATURE_CLOSE"&&$&&$.ended&&!$.errored&&!$.errorEmitted?V.once("end",de).once("error",de):de(M)}),n(se,{readable:!1,writable:!0},de)}e.exports={pipelineImpl:k,pipeline:p}}}),zr=he({"node_modules/readable-stream/lib/internal/streams/compose.js"(i,e){fe();var{pipeline:t}=cr(),r=Ye(),{destroyer:a}=pt(),{isNodeStream:l,isReadable:f,isWritable:n,isWebStream:c,isTransformStream:u,isWritableStream:y,isReadableStream:g}=Xe(),{AbortError:_,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:d}}=je(),P=tt();e.exports=function(...A){if(A.length===0)throw new d("streams");if(A.length===1)return r.from(A[0]);const h=[...A];if(typeof A[0]=="function"&&(A[0]=r.from(A[0])),typeof A[A.length-1]=="function"){const z=A.length-1;A[z]=r.from(A[z])}for(let z=0;z<A.length;++z)if(!(!l(A[z])&&!c(A[z]))){if(z<A.length-1&&!(f(A[z])||g(A[z])||u(A[z])))throw new b(`streams[${z}]`,h[z],"must be readable");if(z>0&&!(n(A[z])||y(A[z])||u(A[z])))throw new b(`streams[${z}]`,h[z],"must be writable")}let E,x,S,O,j;function G(z){const ee=O;O=null,ee?ee(z):z?j.destroy(z):!F&&!ae&&j.destroy()}const Z=A[0],Y=t(A,G),ae=!!(n(Z)||y(Z)||u(Z)),F=!!(f(Y)||g(Y)||u(Y));if(j=new r({writableObjectMode:!!(Z!=null&&Z.writableObjectMode),readableObjectMode:!!(Y!=null&&Y.readableObjectMode),writable:ae,readable:F}),ae){if(l(Z))j._write=function(ee,K,ue){Z.write(ee,K)?ue():E=ue},j._final=function(ee){Z.end(),x=ee},Z.on("drain",function(){if(E){const ee=E;E=null,ee()}});else if(c(Z)){const K=(u(Z)?Z.writable:Z).getWriter();j._write=async function(ue,pe,we){try{await K.ready,K.write(ue).catch(()=>{}),we()}catch(_e){we(_e)}},j._final=async function(ue){try{await K.ready,K.close().catch(()=>{}),x=ue}catch(pe){ue(pe)}}}const z=u(Y)?Y.readable:Y;P(z,()=>{if(x){const ee=x;x=null,ee()}})}if(F){if(l(Y))Y.on("readable",function(){if(S){const z=S;S=null,z()}}),Y.on("end",function(){j.push(null)}),j._read=function(){for(;;){const z=Y.read();if(z===null){S=j._read;return}if(!j.push(z))return}};else if(c(Y)){const ee=(u(Y)?Y.readable:Y).getReader();j._read=async function(){for(;;)try{const{value:K,done:ue}=await ee.read();if(!j.push(K))return;if(ue){j.push(null);return}}catch{return}}}}return j._destroy=function(z,ee){!z&&O!==null&&(z=new _),S=null,E=null,x=null,O===null?ee(z):(O=ee,l(Y)&&a(Y,z))},j}}}),zn=he({"node_modules/readable-stream/lib/internal/streams/operators.js"(i,e){fe();var t=globalThis.AbortController||(et(),Rt(dt)).AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:a,ERR_MISSING_ARGS:l,ERR_OUT_OF_RANGE:f},AbortError:n}=je(),{validateAbortSignal:c,validateInteger:u,validateObject:y}=Bt(),g=Oe().Symbol("kWeak"),_=Oe().Symbol("kResistStopPropagation"),{finished:b}=tt(),d=zr(),{addAbortSignalNoValidate:P}=Mt(),{isWritable:T,isNodeStream:A}=Xe(),{deprecate:h}=Ne(),{ArrayPrototypePush:E,Boolean:x,MathFloor:S,Number:O,NumberIsNaN:j,Promise:G,PromiseReject:Z,PromiseResolve:Y,PromisePrototypeThen:ae,Symbol:F}=Oe(),z=F("kEmpty"),ee=F("kEof");function K(M,$){if($!=null&&y($,"options"),($==null?void 0:$.signal)!=null&&c($.signal,"options.signal"),A(M)&&!T(M))throw new r("stream",M,"must be writable");const re=d(this,M);return $!=null&&$.signal&&P($.signal,re),re}function ue(M,$){if(typeof M!="function")throw new a("fn",["Function","AsyncFunction"],M);$!=null&&y($,"options"),($==null?void 0:$.signal)!=null&&c($.signal,"options.signal");let re=1;($==null?void 0:$.concurrency)!=null&&(re=S($.concurrency));let m=re-1;return($==null?void 0:$.highWaterMark)!=null&&(m=S($.highWaterMark)),u(re,"options.concurrency",1),u(m,"options.highWaterMark",0),m+=re,(async function*(){const R=Ne().AbortSignalAny([$==null?void 0:$.signal].filter(x)),N=this,J=[],ne={signal:R};let U,ce,W=!1,ie=0;function ye(){W=!0,oe()}function oe(){ie-=1,Se()}function Se(){ce&&!W&&ie<re&&J.length<m&&(ce(),ce=null)}async function Pe(){try{for await(let w of N){if(W)return;if(R.aborted)throw new n;try{if(w=M(w,ne),w===z)continue;w=Y(w)}catch(o){w=Z(o)}ie+=1,ae(w,oe,ye),J.push(w),U&&(U(),U=null),!W&&(J.length>=m||ie>=re)&&await new G(o=>{ce=o})}J.push(ee)}catch(w){const o=Z(w);ae(o,oe,ye),J.push(o)}finally{W=!0,U&&(U(),U=null)}}Pe();try{for(;;){for(;J.length>0;){const w=await J[0];if(w===ee)return;if(R.aborted)throw new n;w!==z&&(yield w),J.shift(),Se()}await new G(w=>{U=w})}}finally{W=!0,ce&&(ce(),ce=null)}}).call(this)}function pe(M=void 0){return M!=null&&y(M,"options"),(M==null?void 0:M.signal)!=null&&c(M.signal,"options.signal"),(async function*(){let re=0;for await(const v of this){var m;if(M!=null&&(m=M.signal)!==null&&m!==void 0&&m.aborted)throw new n({cause:M.signal.reason});yield[re++,v]}}).call(this)}async function we(M,$=void 0){for await(const re of p.call(this,M,$))return!0;return!1}async function _e(M,$=void 0){if(typeof M!="function")throw new a("fn",["Function","AsyncFunction"],M);return!await we.call(this,async(...re)=>!await M(...re),$)}async function X(M,$){for await(const re of p.call(this,M,$))return re}async function le(M,$){if(typeof M!="function")throw new a("fn",["Function","AsyncFunction"],M);async function re(m,v){return await M(m,v),z}for await(const m of ue.call(this,re,$));}function p(M,$){if(typeof M!="function")throw new a("fn",["Function","AsyncFunction"],M);async function re(m,v){return await M(m,v)?m:z}return ue.call(this,re,$)}var k=class extends l{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function H(M,$,re){var m;if(typeof M!="function")throw new a("reducer",["Function","AsyncFunction"],M);re!=null&&y(re,"options"),(re==null?void 0:re.signal)!=null&&c(re.signal,"options.signal");let v=arguments.length>1;if(re!=null&&(m=re.signal)!==null&&m!==void 0&&m.aborted){const U=new n(void 0,{cause:re.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(U)),U}const R=new t,N=R.signal;if(re!=null&&re.signal){const U={once:!0,[g]:this,[_]:!0};re.signal.addEventListener("abort",()=>R.abort(),U)}let J=!1;try{for await(const U of this){var ne;if(J=!0,re!=null&&(ne=re.signal)!==null&&ne!==void 0&&ne.aborted)throw new n;v?$=await M($,U,{signal:N}):($=U,v=!0)}if(!J&&!v)throw new k}finally{R.abort()}return $}async function V(M){M!=null&&y(M,"options"),(M==null?void 0:M.signal)!=null&&c(M.signal,"options.signal");const $=[];for await(const m of this){var re;if(M!=null&&(re=M.signal)!==null&&re!==void 0&&re.aborted)throw new n(void 0,{cause:M.signal.reason});E($,m)}return $}function se(M,$){const re=ue.call(this,M,$);return(async function*(){for await(const v of re)yield*v}).call(this)}function de(M){if(M=O(M),j(M))return 0;if(M<0)throw new f("number",">= 0",M);return M}function C(M,$=void 0){return $!=null&&y($,"options"),($==null?void 0:$.signal)!=null&&c($.signal,"options.signal"),M=de(M),(async function*(){var m;if($!=null&&(m=$.signal)!==null&&m!==void 0&&m.aborted)throw new n;for await(const R of this){var v;if($!=null&&(v=$.signal)!==null&&v!==void 0&&v.aborted)throw new n;M--<=0&&(yield R)}}).call(this)}function D(M,$=void 0){return $!=null&&y($,"options"),($==null?void 0:$.signal)!=null&&c($.signal,"options.signal"),M=de(M),(async function*(){var m;if($!=null&&(m=$.signal)!==null&&m!==void 0&&m.aborted)throw new n;for await(const R of this){var v;if($!=null&&(v=$.signal)!==null&&v!==void 0&&v.aborted)throw new n;if(M-- >0&&(yield R),M<=0)return}}).call(this)}e.exports.streamReturningOperators={asIndexedPairs:h(pe,"readable.asIndexedPairs will be removed in a future version."),drop:C,filter:p,flatMap:se,map:ue,take:D,compose:K},e.exports.promiseReturningOperators={every:_e,forEach:le,reduce:H,toArray:V,some:we,find:X}}}),Yr=he({"node_modules/readable-stream/lib/stream/promises.js"(i,e){fe();var{ArrayPrototypePop:t,Promise:r}=Oe(),{isIterable:a,isNodeStream:l,isWebStream:f}=Xe(),{pipelineImpl:n}=cr(),{finished:c}=tt();Jr();function u(...y){return new r((g,_)=>{let b,d;const P=y[y.length-1];if(P&&typeof P=="object"&&!l(P)&&!a(P)&&!f(P)){const T=t(y);b=T.signal,d=T.end}n(y,(T,A)=>{T?_(T):g(A)},{signal:b,end:d})})}e.exports={finished:c,pipeline:u}}}),Jr=he({"node_modules/readable-stream/lib/stream.js"(i,e){fe();var{Buffer:t}=Fe(),{ObjectDefineProperty:r,ObjectKeys:a,ReflectApply:l}=Oe(),{promisify:{custom:f}}=Ne(),{streamReturningOperators:n,promiseReturningOperators:c}=zn(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=je(),y=zr(),{setDefaultHighWaterMark:g,getDefaultHighWaterMark:_}=kt(),{pipeline:b}=cr(),{destroyer:d}=pt(),P=tt(),T=Yr(),A=Xe(),h=e.exports=fr().Stream;h.isDestroyed=A.isDestroyed,h.isDisturbed=A.isDisturbed,h.isErrored=A.isErrored,h.isReadable=A.isReadable,h.isWritable=A.isWritable,h.Readable=Nt();for(const x of a(n)){let S=function(...j){if(new.target)throw u();return h.Readable.from(l(O,this,j))};const O=n[x];r(S,"name",{__proto__:null,value:O.name}),r(S,"length",{__proto__:null,value:O.length}),r(h.Readable.prototype,x,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(const x of a(c)){let S=function(...j){if(new.target)throw u();return l(O,this,j)};const O=c[x];r(S,"name",{__proto__:null,value:O.name}),r(S,"length",{__proto__:null,value:O.length}),r(h.Readable.prototype,x,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}h.Writable=ur(),h.Duplex=Ye(),h.Transform=Vr(),h.PassThrough=Kr(),h.pipeline=b;var{addAbortSignal:E}=Mt();h.addAbortSignal=E,h.finished=P,h.destroy=d,h.compose=y,h.setDefaultHighWaterMark=g,h.getDefaultHighWaterMark=_,r(h,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return T}}),r(b,f,{__proto__:null,enumerable:!0,get(){return T.pipeline}}),r(P,f,{__proto__:null,enumerable:!0,get(){return T.finished}}),h.Stream=h,h._isUint8Array=function(S){return S instanceof Uint8Array},h._uint8ArrayToBuffer=function(S){return t.from(S.buffer,S.byteOffset,S.byteLength)}}}),yt=he({"node_modules/readable-stream/lib/ours/index.js"(i,e){fe();var t=yt();if(t&&Ee.env.READABLE_STREAM==="disable"){const r=t.promises;e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return r}}),e.exports.Stream=t.Stream}else{const r=Jr(),a=Yr(),l=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=l,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return a}}),e.exports.Stream=r.Stream}e.exports.default=e.exports}}),Yn=he({"node_modules/wrappy/wrappy.js"(i,e){fe(),e.exports=t;function t(r,a){if(r&&a)return t(r)(a);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(f){l[f]=r[f]}),l;function l(){for(var f=new Array(arguments.length),n=0;n<f.length;n++)f[n]=arguments[n];var c=r.apply(this,f),u=f[f.length-1];return typeof c=="function"&&c!==u&&Object.keys(u).forEach(function(y){c[y]=u[y]}),c}}}}),Xr=he({"node_modules/once/once.js"(i,e){fe();var t=Yn();e.exports=t(r),e.exports.strict=t(a),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return a(this)},configurable:!0})});function r(l){var f=function(){return f.called?f.value:(f.called=!0,f.value=l.apply(this,arguments))};return f.called=!1,f}function a(l){var f=function(){if(f.called)throw new Error(f.onceError);return f.called=!0,f.value=l.apply(this,arguments)},n=l.name||"Function wrapped with `once`";return f.onceError=n+" shouldn't be called more than once",f.called=!1,f}}}),Qr=he({"node_modules/end-of-stream/index.js"(i,e){fe();var t=Xr(),r=function(){},a=function(n){return n.setHeader&&typeof n.abort=="function"},l=function(n){return n.stdio&&Array.isArray(n.stdio)&&n.stdio.length===3},f=function(n,c,u){if(typeof c=="function")return f(n,null,c);c||(c={}),u=t(u||r);var y=n._writableState,g=n._readableState,_=c.readable||c.readable!==!1&&n.readable,b=c.writable||c.writable!==!1&&n.writable,d=!1,P=function(){n.writable||T()},T=function(){b=!1,_||u.call(n)},A=function(){_=!1,b||u.call(n)},h=function(j){u.call(n,j?new Error("exited with error code: "+j):null)},E=function(j){u.call(n,j)},x=function(){Ee.nextTick(S)},S=function(){if(!d){if(_&&!(g&&g.ended&&!g.destroyed))return u.call(n,new Error("premature close"));if(b&&!(y&&y.ended&&!y.destroyed))return u.call(n,new Error("premature close"))}},O=function(){n.req.on("finish",T)};return a(n)?(n.on("complete",T),n.on("abort",x),n.req?O():n.on("request",O)):b&&!y&&(n.on("end",P),n.on("close",P)),l(n)&&n.on("exit",h),n.on("end",A),n.on("finish",T),c.error!==!1&&n.on("error",E),n.on("close",x),function(){d=!0,n.removeListener("complete",T),n.removeListener("abort",x),n.removeListener("request",O),n.req&&n.req.removeListener("finish",T),n.removeListener("end",P),n.removeListener("close",P),n.removeListener("finish",T),n.removeListener("exit",h),n.removeListener("end",A),n.removeListener("error",E),n.removeListener("close",x)}};e.exports=f}}),Jn=he({"(disabled):fs"(){fe()}}),Xn=he({"node_modules/pump/index.js"(i,e){fe();var t=Xr(),r=Qr(),a=Jn(),l=function(){},f=/^v?\.0/.test(Ee.version),n=function(d){return typeof d=="function"},c=function(d){return!f||!a?!1:(d instanceof(a.ReadStream||l)||d instanceof(a.WriteStream||l))&&n(d.close)},u=function(d){return d.setHeader&&n(d.abort)},y=function(d,P,T,A){A=t(A);var h=!1;d.on("close",function(){h=!0}),r(d,{readable:P,writable:T},function(x){if(x)return A(x);h=!0,A()});var E=!1;return function(x){if(!h&&!E){if(E=!0,c(d))return d.close(l);if(u(d))return d.abort();if(n(d.destroy))return d.destroy();A(x||new Error("stream was destroyed"))}}},g=function(d){d()},_=function(d,P){return d.pipe(P)},b=function(){var d=Array.prototype.slice.call(arguments),P=n(d[d.length-1]||l)&&d.pop()||l;if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new Error("pump requires two streams per minimum");var T,A=d.map(function(h,E){var x=E<d.length-1,S=E>0;return y(h,x,S,function(O){T||(T=O),O&&A.forEach(g),!x&&(A.forEach(g),P(T))})});return d.reduce(_)};e.exports=b}}),rt=he({"node_modules/inherits/inherits_browser.js"(i,e){fe(),typeof Object.create=="function"?e.exports=function(r,a){a&&(r.super_=a,r.prototype=Object.create(a.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,a){if(a){r.super_=a;var l=function(){};l.prototype=a.prototype,r.prototype=new l,r.prototype.constructor=r}}}}),Zr=he({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/stream-browser.js"(i,e){fe(),e.exports=Je().EventEmitter}}),en=he({"(disabled):node_modules/util/util.js"(){fe()}}),Qn=he({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/buffer_list.js"(i,e){fe();function t(T,A){var h=Object.keys(T);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(T);A&&(E=E.filter(function(x){return Object.getOwnPropertyDescriptor(T,x).enumerable})),h.push.apply(h,E)}return h}function r(T){for(var A=1;A<arguments.length;A++){var h=arguments[A]!=null?arguments[A]:{};A%2?t(Object(h),!0).forEach(function(E){a(T,E,h[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(h)):t(Object(h)).forEach(function(E){Object.defineProperty(T,E,Object.getOwnPropertyDescriptor(h,E))})}return T}function a(T,A,h){return A=c(A),A in T?Object.defineProperty(T,A,{value:h,enumerable:!0,configurable:!0,writable:!0}):T[A]=h,T}function l(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function f(T,A){for(var h=0;h<A.length;h++){var E=A[h];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(T,c(E.key),E)}}function n(T,A,h){return A&&f(T.prototype,A),Object.defineProperty(T,"prototype",{writable:!1}),T}function c(T){var A=u(T,"string");return typeof A=="symbol"?A:String(A)}function u(T,A){if(typeof T!="object"||T===null)return T;var h=T[Symbol.toPrimitive];if(h!==void 0){var E=h.call(T,A||"default");if(typeof E!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(T)}var y=Fe(),g=y.Buffer,_=en(),b=_.inspect,d=b&&b.custom||"inspect";function P(T,A,h){g.prototype.copy.call(T,A,h)}e.exports=function(){function T(){l(this,T),this.head=null,this.tail=null,this.length=0}return n(T,[{key:"push",value:function(h){var E={data:h,next:null};this.length>0?this.tail.next=E:this.head=E,this.tail=E,++this.length}},{key:"unshift",value:function(h){var E={data:h,next:this.head};this.length===0&&(this.tail=E),this.head=E,++this.length}},{key:"shift",value:function(){if(this.length!==0){var h=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,h}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(h){if(this.length===0)return"";for(var E=this.head,x=""+E.data;E=E.next;)x+=h+E.data;return x}},{key:"concat",value:function(h){if(this.length===0)return g.alloc(0);for(var E=g.allocUnsafe(h>>>0),x=this.head,S=0;x;)P(x.data,E,S),S+=x.data.length,x=x.next;return E}},{key:"consume",value:function(h,E){var x;return h<this.head.data.length?(x=this.head.data.slice(0,h),this.head.data=this.head.data.slice(h)):h===this.head.data.length?x=this.shift():x=E?this._getString(h):this._getBuffer(h),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(h){var E=this.head,x=1,S=E.data;for(h-=S.length;E=E.next;){var O=E.data,j=h>O.length?O.length:h;if(j===O.length?S+=O:S+=O.slice(0,h),h-=j,h===0){j===O.length?(++x,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=O.slice(j));break}++x}return this.length-=x,S}},{key:"_getBuffer",value:function(h){var E=g.allocUnsafe(h),x=this.head,S=1;for(x.data.copy(E),h-=x.data.length;x=x.next;){var O=x.data,j=h>O.length?O.length:h;if(O.copy(E,E.length-h,0,j),h-=j,h===0){j===O.length?(++S,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=O.slice(j));break}++S}return this.length-=S,E}},{key:d,value:function(h,E){return b(this,r(r({},E),{},{depth:0,customInspect:!1}))}}]),T}()}}),tn=he({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/destroy.js"(i,e){fe();function t(c,u){var y=this,g=this._readableState&&this._readableState.destroyed,_=this._writableState&&this._writableState.destroyed;return g||_?(u?u(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ee.nextTick(f,this,c)):Ee.nextTick(f,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(b){!u&&b?y._writableState?y._writableState.errorEmitted?Ee.nextTick(a,y):(y._writableState.errorEmitted=!0,Ee.nextTick(r,y,b)):Ee.nextTick(r,y,b):u?(Ee.nextTick(a,y),u(b)):Ee.nextTick(a,y)}),this)}function r(c,u){f(c,u),a(c)}function a(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function l(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function f(c,u){c.emit("error",u)}function n(c,u){var y=c._readableState,g=c._writableState;y&&y.autoDestroy||g&&g.autoDestroy?c.destroy(u):c.emit("error",u)}e.exports={destroy:t,undestroy:l,errorOrDestroy:n}}}),bt=he({"node_modules/duplexify/node_modules/readable-stream/errors-browser.js"(i,e){fe();function t(u,y){u.prototype=Object.create(y.prototype),u.prototype.constructor=u,u.__proto__=y}var r={};function a(u,y,g){g||(g=Error);function _(d,P,T){return typeof y=="string"?y:y(d,P,T)}var b=function(d){t(P,d);function P(T,A,h){return d.call(this,_(T,A,h))||this}return P}(g);b.prototype.name=g.name,b.prototype.code=u,r[u]=b}function l(u,y){if(Array.isArray(u)){var g=u.length;return u=u.map(function(_){return String(_)}),g>2?"one of ".concat(y," ").concat(u.slice(0,g-1).join(", "),", or ")+u[g-1]:g===2?"one of ".concat(y," ").concat(u[0]," or ").concat(u[1]):"of ".concat(y," ").concat(u[0])}else return"of ".concat(y," ").concat(String(u))}function f(u,y,g){return u.substr(0,y.length)===y}function n(u,y,g){return(g===void 0||g>u.length)&&(g=u.length),u.substring(g-y.length,g)===y}function c(u,y,g){return typeof g!="number"&&(g=0),g+y.length>u.length?!1:u.indexOf(y,g)!==-1}a("ERR_INVALID_OPT_VALUE",function(u,y){return'The value "'+y+'" is invalid for option "'+u+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(u,y,g){var _;typeof y=="string"&&f(y,"not ")?(_="must not be",y=y.replace(/^not /,"")):_="must be";var b;if(n(u," argument"))b="The ".concat(u," ").concat(_," ").concat(l(y,"type"));else{var d=c(u,".")?"property":"argument";b='The "'.concat(u,'" ').concat(d," ").concat(_," ").concat(l(y,"type"))}return b+=". Received type ".concat(typeof g),b},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r}}),rn=he({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/state.js"(i,e){fe();var t=bt().codes.ERR_INVALID_OPT_VALUE;function r(l,f,n){return l.highWaterMark!=null?l.highWaterMark:f?l[n]:null}function a(l,f,n,c){var u=r(f,c,n);if(u!=null){if(!(isFinite(u)&&Math.floor(u)===u)||u<0){var y=c?n:"highWaterMark";throw new t(y,u)}return Math.floor(u)}return l.objectMode?16:16*1024}e.exports={getHighWaterMark:a}}}),Zn=he({"node_modules/util-deprecate/browser.js"(i,e){fe(),e.exports=t;function t(a,l){if(r("noDeprecation"))return a;var f=!1;function n(){if(!f){if(r("throwDeprecation"))throw new Error(l);r("traceDeprecation")?console.trace(l):console.warn(l),f=!0}return a.apply(this,arguments)}return n}function r(a){try{if(!ze.localStorage)return!1}catch{return!1}var l=ze.localStorage[a];return l==null?!1:String(l).toLowerCase()==="true"}}}),nn=he({"node_modules/duplexify/node_modules/readable-stream/lib/_stream_writable.js"(i,e){fe(),e.exports=Y;function t(C){var D=this;this.next=null,this.entry=null,this.finish=function(){de(D,C)}}var r;Y.WritableState=G;var a={deprecate:Zn()},l=Zr(),f=Fe().Buffer,n=(typeof ze<"u"?ze:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(C){return f.from(C)}function u(C){return f.isBuffer(C)||C instanceof n}var y=tn(),g=rn(),_=g.getHighWaterMark,b=bt().codes,d=b.ERR_INVALID_ARG_TYPE,P=b.ERR_METHOD_NOT_IMPLEMENTED,T=b.ERR_MULTIPLE_CALLBACK,A=b.ERR_STREAM_CANNOT_PIPE,h=b.ERR_STREAM_DESTROYED,E=b.ERR_STREAM_NULL_VALUES,x=b.ERR_STREAM_WRITE_AFTER_END,S=b.ERR_UNKNOWN_ENCODING,O=y.errorOrDestroy;rt()(Y,l);function j(){}function G(C,D,M){r=r||ht(),C=C||{},typeof M!="boolean"&&(M=D instanceof r),this.objectMode=!!C.objectMode,M&&(this.objectMode=this.objectMode||!!C.writableObjectMode),this.highWaterMark=_(this,C,"writableHighWaterMark",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=C.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=C.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(re){we(D,re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}G.prototype.getBuffer=function(){for(var D=this.bufferedRequest,M=[];D;)M.push(D),D=D.next;return M},function(){try{Object.defineProperty(G.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(D){return Z.call(this,D)?!0:this!==Y?!1:D&&D._writableState instanceof G}})):Z=function(D){return D instanceof this};function Y(C){r=r||ht();var D=this instanceof r;if(!D&&!Z.call(Y,this))return new Y(C);this._writableState=new G(C,this,D),this.writable=!0,C&&(typeof C.write=="function"&&(this._write=C.write),typeof C.writev=="function"&&(this._writev=C.writev),typeof C.destroy=="function"&&(this._destroy=C.destroy),typeof C.final=="function"&&(this._final=C.final)),l.call(this)}Y.prototype.pipe=function(){O(this,new A)};function ae(C,D){var M=new x;O(C,M),Ee.nextTick(D,M)}function F(C,D,M,$){var re;return M===null?re=new E:typeof M!="string"&&!D.objectMode&&(re=new d("chunk",["string","Buffer"],M)),re?(O(C,re),Ee.nextTick($,re),!1):!0}Y.prototype.write=function(C,D,M){var $=this._writableState,re=!1,m=!$.objectMode&&u(C);return m&&!f.isBuffer(C)&&(C=c(C)),typeof D=="function"&&(M=D,D=null),m?D="buffer":D||(D=$.defaultEncoding),typeof M!="function"&&(M=j),$.ending?ae(this,M):(m||F(this,$,C,M))&&($.pendingcb++,re=ee(this,$,m,C,D,M)),re},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var C=this._writableState;C.corked&&(C.corked--,!C.writing&&!C.corked&&!C.bufferProcessing&&C.bufferedRequest&&le(this,C))},Y.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=D.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((D+"").toLowerCase())>-1))throw new S(D);return this._writableState.defaultEncoding=D,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function z(C,D,M){return!C.objectMode&&C.decodeStrings!==!1&&typeof D=="string"&&(D=f.from(D,M)),D}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ee(C,D,M,$,re,m){if(!M){var v=z(D,$,re);$!==v&&(M=!0,re="buffer",$=v)}var R=D.objectMode?1:$.length;D.length+=R;var N=D.length<D.highWaterMark;if(N||(D.needDrain=!0),D.writing||D.corked){var J=D.lastBufferedRequest;D.lastBufferedRequest={chunk:$,encoding:re,isBuf:M,callback:m,next:null},J?J.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else K(C,D,!1,R,$,re,m);return N}function K(C,D,M,$,re,m,v){D.writelen=$,D.writecb=v,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new h("write")):M?C._writev(re,D.onwrite):C._write(re,m,D.onwrite),D.sync=!1}function ue(C,D,M,$,re){--D.pendingcb,M?(Ee.nextTick(re,$),Ee.nextTick(V,C,D),C._writableState.errorEmitted=!0,O(C,$)):(re($),C._writableState.errorEmitted=!0,O(C,$),V(C,D))}function pe(C){C.writing=!1,C.writecb=null,C.length-=C.writelen,C.writelen=0}function we(C,D){var M=C._writableState,$=M.sync,re=M.writecb;if(typeof re!="function")throw new T;if(pe(M),D)ue(C,M,$,D,re);else{var m=p(M)||C.destroyed;!m&&!M.corked&&!M.bufferProcessing&&M.bufferedRequest&&le(C,M),$?Ee.nextTick(_e,C,M,m,re):_e(C,M,m,re)}}function _e(C,D,M,$){M||X(C,D),D.pendingcb--,$(),V(C,D)}function X(C,D){D.length===0&&D.needDrain&&(D.needDrain=!1,C.emit("drain"))}function le(C,D){D.bufferProcessing=!0;var M=D.bufferedRequest;if(C._writev&&M&&M.next){var $=D.bufferedRequestCount,re=new Array($),m=D.corkedRequestsFree;m.entry=M;for(var v=0,R=!0;M;)re[v]=M,M.isBuf||(R=!1),M=M.next,v+=1;re.allBuffers=R,K(C,D,!0,D.length,re,"",m.finish),D.pendingcb++,D.lastBufferedRequest=null,m.next?(D.corkedRequestsFree=m.next,m.next=null):D.corkedRequestsFree=new t(D),D.bufferedRequestCount=0}else{for(;M;){var N=M.chunk,J=M.encoding,ne=M.callback,U=D.objectMode?1:N.length;if(K(C,D,!1,U,N,J,ne),M=M.next,D.bufferedRequestCount--,D.writing)break}M===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=M,D.bufferProcessing=!1}Y.prototype._write=function(C,D,M){M(new P("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(C,D,M){var $=this._writableState;return typeof C=="function"?(M=C,C=null,D=null):typeof D=="function"&&(M=D,D=null),C!=null&&this.write(C,D),$.corked&&($.corked=1,this.uncork()),$.ending||se(this,$,M),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function p(C){return C.ending&&C.length===0&&C.bufferedRequest===null&&!C.finished&&!C.writing}function k(C,D){C._final(function(M){D.pendingcb--,M&&O(C,M),D.prefinished=!0,C.emit("prefinish"),V(C,D)})}function H(C,D){!D.prefinished&&!D.finalCalled&&(typeof C._final=="function"&&!D.destroyed?(D.pendingcb++,D.finalCalled=!0,Ee.nextTick(k,C,D)):(D.prefinished=!0,C.emit("prefinish")))}function V(C,D){var M=p(D);if(M&&(H(C,D),D.pendingcb===0&&(D.finished=!0,C.emit("finish"),D.autoDestroy))){var $=C._readableState;(!$||$.autoDestroy&&$.endEmitted)&&C.destroy()}return M}function se(C,D,M){D.ending=!0,V(C,D),M&&(D.finished?Ee.nextTick(M):C.once("finish",M)),D.ended=!0,C.writable=!1}function de(C,D,M){var $=C.entry;for(C.entry=null;$;){var re=$.callback;D.pendingcb--,re(M),$=$.next}D.corkedRequestsFree.next=C}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(D){this._writableState&&(this._writableState.destroyed=D)}}),Y.prototype.destroy=y.destroy,Y.prototype._undestroy=y.undestroy,Y.prototype._destroy=function(C,D){D(C)}}}),ht=he({"node_modules/duplexify/node_modules/readable-stream/lib/_stream_duplex.js"(i,e){fe();var t=Object.keys||function(g){var _=[];for(var b in g)_.push(b);return _};e.exports=c;var r=on(),a=nn();for(rt()(c,r),l=t(a.prototype),n=0;n<l.length;n++)f=l[n],c.prototype[f]||(c.prototype[f]=a.prototype[f]);var l,f,n;function c(g){if(!(this instanceof c))return new c(g);r.call(this,g),a.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function u(){this._writableState.ended||Ee.nextTick(y,this)}function y(g){g.end()}Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(_){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=_,this._writableState.destroyed=_)}})}}),dr=he({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(i,e){fe();var t=bt().codes.ERR_STREAM_PREMATURE_CLOSE;function r(n){var c=!1;return function(){if(!c){c=!0;for(var u=arguments.length,y=new Array(u),g=0;g<u;g++)y[g]=arguments[g];n.apply(this,y)}}}function a(){}function l(n){return n.setHeader&&typeof n.abort=="function"}function f(n,c,u){if(typeof c=="function")return f(n,null,c);c||(c={}),u=r(u||a);var y=c.readable||c.readable!==!1&&n.readable,g=c.writable||c.writable!==!1&&n.writable,_=function(){n.writable||d()},b=n._writableState&&n._writableState.finished,d=function(){g=!1,b=!0,y||u.call(n)},P=n._readableState&&n._readableState.endEmitted,T=function(){y=!1,P=!0,g||u.call(n)},A=function(S){u.call(n,S)},h=function(){var S;if(y&&!P)return(!n._readableState||!n._readableState.ended)&&(S=new t),u.call(n,S);if(g&&!b)return(!n._writableState||!n._writableState.ended)&&(S=new t),u.call(n,S)},E=function(){n.req.on("finish",d)};return l(n)?(n.on("complete",d),n.on("abort",h),n.req?E():n.on("request",E)):g&&!n._writableState&&(n.on("end",_),n.on("close",_)),n.on("end",T),n.on("finish",d),c.error!==!1&&n.on("error",A),n.on("close",h),function(){n.removeListener("complete",d),n.removeListener("abort",h),n.removeListener("request",E),n.req&&n.req.removeListener("finish",d),n.removeListener("end",_),n.removeListener("close",_),n.removeListener("finish",d),n.removeListener("end",T),n.removeListener("error",A),n.removeListener("close",h)}}e.exports=f}}),ei=he({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/async_iterator.js"(i,e){fe();var t;function r(S,O,j){return O=a(O),O in S?Object.defineProperty(S,O,{value:j,enumerable:!0,configurable:!0,writable:!0}):S[O]=j,S}function a(S){var O=l(S,"string");return typeof O=="symbol"?O:String(O)}function l(S,O){if(typeof S!="object"||S===null)return S;var j=S[Symbol.toPrimitive];if(j!==void 0){var G=j.call(S,O||"default");if(typeof G!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(S)}var f=dr(),n=Symbol("lastResolve"),c=Symbol("lastReject"),u=Symbol("error"),y=Symbol("ended"),g=Symbol("lastPromise"),_=Symbol("handlePromise"),b=Symbol("stream");function d(S,O){return{value:S,done:O}}function P(S){var O=S[n];if(O!==null){var j=S[b].read();j!==null&&(S[g]=null,S[n]=null,S[c]=null,O(d(j,!1)))}}function T(S){Ee.nextTick(P,S)}function A(S,O){return function(j,G){S.then(function(){if(O[y]){j(d(void 0,!0));return}O[_](j,G)},G)}}var h=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((t={get stream(){return this[b]},next:function(){var O=this,j=this[u];if(j!==null)return Promise.reject(j);if(this[y])return Promise.resolve(d(void 0,!0));if(this[b].destroyed)return new Promise(function(ae,F){Ee.nextTick(function(){O[u]?F(O[u]):ae(d(void 0,!0))})});var G=this[g],Z;if(G)Z=new Promise(A(G,this));else{var Y=this[b].read();if(Y!==null)return Promise.resolve(d(Y,!1));Z=new Promise(this[_])}return this[g]=Z,Z}},r(t,Symbol.asyncIterator,function(){return this}),r(t,"return",function(){var O=this;return new Promise(function(j,G){O[b].destroy(null,function(Z){if(Z){G(Z);return}j(d(void 0,!0))})})}),t),h),x=function(O){var j,G=Object.create(E,(j={},r(j,b,{value:O,writable:!0}),r(j,n,{value:null,writable:!0}),r(j,c,{value:null,writable:!0}),r(j,u,{value:null,writable:!0}),r(j,y,{value:O._readableState.endEmitted,writable:!0}),r(j,_,{value:function(Y,ae){var F=G[b].read();F?(G[g]=null,G[n]=null,G[c]=null,Y(d(F,!1))):(G[n]=Y,G[c]=ae)},writable:!0}),j));return G[g]=null,f(O,function(Z){if(Z&&Z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=G[c];Y!==null&&(G[g]=null,G[n]=null,G[c]=null,Y(Z)),G[u]=Z;return}var ae=G[n];ae!==null&&(G[g]=null,G[n]=null,G[c]=null,ae(d(void 0,!0))),G[y]=!0}),O.on("readable",T.bind(null,G)),G};e.exports=x}}),ti=he({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/from-browser.js"(i,e){fe(),e.exports=function(){throw new Error("Readable.from is not available in the browser")}}}),on=he({"node_modules/duplexify/node_modules/readable-stream/lib/_stream_readable.js"(i,e){fe(),e.exports=ae;var t;ae.ReadableState=Y,Je().EventEmitter;var r=function(v,R){return v.listeners(R).length},a=Zr(),l=Fe().Buffer,f=(typeof ze<"u"?ze:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function n(m){return l.from(m)}function c(m){return l.isBuffer(m)||m instanceof f}var u=en(),y;u&&u.debuglog?y=u.debuglog("stream"):y=function(){};var g=Qn(),_=tn(),b=rn(),d=b.getHighWaterMark,P=bt().codes,T=P.ERR_INVALID_ARG_TYPE,A=P.ERR_STREAM_PUSH_AFTER_EOF,h=P.ERR_METHOD_NOT_IMPLEMENTED,E=P.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,S,O;rt()(ae,a);var j=_.errorOrDestroy,G=["error","close","destroy","pause","resume"];function Z(m,v,R){if(typeof m.prependListener=="function")return m.prependListener(v,R);!m._events||!m._events[v]?m.on(v,R):Array.isArray(m._events[v])?m._events[v].unshift(R):m._events[v]=[R,m._events[v]]}function Y(m,v,R){t=t||ht(),m=m||{},typeof R!="boolean"&&(R=v instanceof t),this.objectMode=!!m.objectMode,R&&(this.objectMode=this.objectMode||!!m.readableObjectMode),this.highWaterMark=d(this,m,"readableHighWaterMark",R),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=m.emitClose!==!1,this.autoDestroy=!!m.autoDestroy,this.destroyed=!1,this.defaultEncoding=m.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,m.encoding&&(x||(x=Qt().StringDecoder),this.decoder=new x(m.encoding),this.encoding=m.encoding)}function ae(m){if(t=t||ht(),!(this instanceof ae))return new ae(m);var v=this instanceof t;this._readableState=new Y(m,this,v),this.readable=!0,m&&(typeof m.read=="function"&&(this._read=m.read),typeof m.destroy=="function"&&(this._destroy=m.destroy)),a.call(this)}Object.defineProperty(ae.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),ae.prototype.destroy=_.destroy,ae.prototype._undestroy=_.undestroy,ae.prototype._destroy=function(m,v){v(m)},ae.prototype.push=function(m,v){var R=this._readableState,N;return R.objectMode?N=!0:typeof m=="string"&&(v=v||R.defaultEncoding,v!==R.encoding&&(m=l.from(m,v),v=""),N=!0),F(this,m,v,!1,N)},ae.prototype.unshift=function(m){return F(this,m,null,!0,!1)};function F(m,v,R,N,J){y("readableAddChunk",v);var ne=m._readableState;if(v===null)ne.reading=!1,we(m,ne);else{var U;if(J||(U=ee(ne,v)),U)j(m,U);else if(ne.objectMode||v&&v.length>0)if(typeof v!="string"&&!ne.objectMode&&Object.getPrototypeOf(v)!==l.prototype&&(v=n(v)),N)ne.endEmitted?j(m,new E):z(m,ne,v,!0);else if(ne.ended)j(m,new A);else{if(ne.destroyed)return!1;ne.reading=!1,ne.decoder&&!R?(v=ne.decoder.write(v),ne.objectMode||v.length!==0?z(m,ne,v,!1):le(m,ne)):z(m,ne,v,!1)}else N||(ne.reading=!1,le(m,ne))}return!ne.ended&&(ne.length<ne.highWaterMark||ne.length===0)}function z(m,v,R,N){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,m.emit("data",R)):(v.length+=v.objectMode?1:R.length,N?v.buffer.unshift(R):v.buffer.push(R),v.needReadable&&_e(m)),le(m,v)}function ee(m,v){var R;return!c(v)&&typeof v!="string"&&v!==void 0&&!m.objectMode&&(R=new T("chunk",["string","Buffer","Uint8Array"],v)),R}ae.prototype.isPaused=function(){return this._readableState.flowing===!1},ae.prototype.setEncoding=function(m){x||(x=Qt().StringDecoder);var v=new x(m);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var R=this._readableState.buffer.head,N="";R!==null;)N+=v.write(R.data),R=R.next;return this._readableState.buffer.clear(),N!==""&&this._readableState.buffer.push(N),this._readableState.length=N.length,this};var K=1073741824;function ue(m){return m>=K?m=K:(m--,m|=m>>>1,m|=m>>>2,m|=m>>>4,m|=m>>>8,m|=m>>>16,m++),m}function pe(m,v){return m<=0||v.length===0&&v.ended?0:v.objectMode?1:m!==m?v.flowing&&v.length?v.buffer.head.data.length:v.length:(m>v.highWaterMark&&(v.highWaterMark=ue(m)),m<=v.length?m:v.ended?v.length:(v.needReadable=!0,0))}ae.prototype.read=function(m){y("read",m),m=parseInt(m,10);var v=this._readableState,R=m;if(m!==0&&(v.emittedReadable=!1),m===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return y("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?M(this):_e(this),null;if(m=pe(m,v),m===0&&v.ended)return v.length===0&&M(this),null;var N=v.needReadable;y("need readable",N),(v.length===0||v.length-m<v.highWaterMark)&&(N=!0,y("length less than watermark",N)),v.ended||v.reading?(N=!1,y("reading or ended",N)):N&&(y("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(m=pe(R,v)));var J;return m>0?J=D(m,v):J=null,J===null?(v.needReadable=v.length<=v.highWaterMark,m=0):(v.length-=m,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),R!==m&&v.ended&&M(this)),J!==null&&this.emit("data",J),J};function we(m,v){if(y("onEofChunk"),!v.ended){if(v.decoder){var R=v.decoder.end();R&&R.length&&(v.buffer.push(R),v.length+=v.objectMode?1:R.length)}v.ended=!0,v.sync?_e(m):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,X(m)))}}function _e(m){var v=m._readableState;y("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(y("emitReadable",v.flowing),v.emittedReadable=!0,Ee.nextTick(X,m))}function X(m){var v=m._readableState;y("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(m.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,C(m)}function le(m,v){v.readingMore||(v.readingMore=!0,Ee.nextTick(p,m,v))}function p(m,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var R=v.length;if(y("maybeReadMore read 0"),m.read(0),R===v.length)break}v.readingMore=!1}ae.prototype._read=function(m){j(this,new h("_read()"))},ae.prototype.pipe=function(m,v){var R=this,N=this._readableState;switch(N.pipesCount){case 0:N.pipes=m;break;case 1:N.pipes=[N.pipes,m];break;default:N.pipes.push(m);break}N.pipesCount+=1,y("pipe count=%d opts=%j",N.pipesCount,v);var J=(!v||v.end!==!1)&&m!==Ee.stdout&&m!==Ee.stderr,ne=J?ce:o;N.endEmitted?Ee.nextTick(ne):R.once("end",ne),m.on("unpipe",U);function U(s,I){y("onunpipe"),s===R&&I&&I.hasUnpiped===!1&&(I.hasUnpiped=!0,ye())}function ce(){y("onend"),m.end()}var W=k(R);m.on("drain",W);var ie=!1;function ye(){y("cleanup"),m.removeListener("close",Pe),m.removeListener("finish",w),m.removeListener("drain",W),m.removeListener("error",Se),m.removeListener("unpipe",U),R.removeListener("end",ce),R.removeListener("end",o),R.removeListener("data",oe),ie=!0,N.awaitDrain&&(!m._writableState||m._writableState.needDrain)&&W()}R.on("data",oe);function oe(s){y("ondata");var I=m.write(s);y("dest.write",I),I===!1&&((N.pipesCount===1&&N.pipes===m||N.pipesCount>1&&re(N.pipes,m)!==-1)&&!ie&&(y("false write response, pause",N.awaitDrain),N.awaitDrain++),R.pause())}function Se(s){y("onerror",s),o(),m.removeListener("error",Se),r(m,"error")===0&&j(m,s)}Z(m,"error",Se);function Pe(){m.removeListener("finish",w),o()}m.once("close",Pe);function w(){y("onfinish"),m.removeListener("close",Pe),o()}m.once("finish",w);function o(){y("unpipe"),R.unpipe(m)}return m.emit("pipe",R),N.flowing||(y("pipe resume"),R.resume()),m};function k(m){return function(){var R=m._readableState;y("pipeOnDrain",R.awaitDrain),R.awaitDrain&&R.awaitDrain--,R.awaitDrain===0&&r(m,"data")&&(R.flowing=!0,C(m))}}ae.prototype.unpipe=function(m){var v=this._readableState,R={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return m&&m!==v.pipes?this:(m||(m=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,m&&m.emit("unpipe",this,R),this);if(!m){var N=v.pipes,J=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var ne=0;ne<J;ne++)N[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var U=re(v.pipes,m);return U===-1?this:(v.pipes.splice(U,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),m.emit("unpipe",this,R),this)},ae.prototype.on=function(m,v){var R=a.prototype.on.call(this,m,v),N=this._readableState;return m==="data"?(N.readableListening=this.listenerCount("readable")>0,N.flowing!==!1&&this.resume()):m==="readable"&&!N.endEmitted&&!N.readableListening&&(N.readableListening=N.needReadable=!0,N.flowing=!1,N.emittedReadable=!1,y("on readable",N.length,N.reading),N.length?_e(this):N.reading||Ee.nextTick(V,this)),R},ae.prototype.addListener=ae.prototype.on,ae.prototype.removeListener=function(m,v){var R=a.prototype.removeListener.call(this,m,v);return m==="readable"&&Ee.nextTick(H,this),R},ae.prototype.removeAllListeners=function(m){var v=a.prototype.removeAllListeners.apply(this,arguments);return(m==="readable"||m===void 0)&&Ee.nextTick(H,this),v};function H(m){var v=m._readableState;v.readableListening=m.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:m.listenerCount("data")>0&&m.resume()}function V(m){y("readable nexttick read 0"),m.read(0)}ae.prototype.resume=function(){var m=this._readableState;return m.flowing||(y("resume"),m.flowing=!m.readableListening,se(this,m)),m.paused=!1,this};function se(m,v){v.resumeScheduled||(v.resumeScheduled=!0,Ee.nextTick(de,m,v))}function de(m,v){y("resume",v.reading),v.reading||m.read(0),v.resumeScheduled=!1,m.emit("resume"),C(m),v.flowing&&!v.reading&&m.read(0)}ae.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function C(m){var v=m._readableState;for(y("flow",v.flowing);v.flowing&&m.read()!==null;);}ae.prototype.wrap=function(m){var v=this,R=this._readableState,N=!1;m.on("end",function(){if(y("wrapped end"),R.decoder&&!R.ended){var U=R.decoder.end();U&&U.length&&v.push(U)}v.push(null)}),m.on("data",function(U){if(y("wrapped data"),R.decoder&&(U=R.decoder.write(U)),!(R.objectMode&&U==null)&&!(!R.objectMode&&(!U||!U.length))){var ce=v.push(U);ce||(N=!0,m.pause())}});for(var J in m)this[J]===void 0&&typeof m[J]=="function"&&(this[J]=function(ce){return function(){return m[ce].apply(m,arguments)}}(J));for(var ne=0;ne<G.length;ne++)m.on(G[ne],this.emit.bind(this,G[ne]));return this._read=function(U){y("wrapped _read",U),N&&(N=!1,m.resume())},this},typeof Symbol=="function"&&(ae.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=ei()),S(this)}),Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ae.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ae.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),ae._fromList=D,Object.defineProperty(ae.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function D(m,v){if(v.length===0)return null;var R;return v.objectMode?R=v.buffer.shift():!m||m>=v.length?(v.decoder?R=v.buffer.join(""):v.buffer.length===1?R=v.buffer.first():R=v.buffer.concat(v.length),v.buffer.clear()):R=v.buffer.consume(m,v.decoder),R}function M(m){var v=m._readableState;y("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,Ee.nextTick($,v,m))}function $(m,v){if(y("endReadableNT",m.endEmitted,m.length),!m.endEmitted&&m.length===0&&(m.endEmitted=!0,v.readable=!1,v.emit("end"),m.autoDestroy)){var R=v._writableState;(!R||R.autoDestroy&&R.finished)&&v.destroy()}}typeof Symbol=="function"&&(ae.from=function(m,v){return O===void 0&&(O=ti()),O(ae,m,v)});function re(m,v){for(var R=0,N=m.length;R<N;R++)if(m[R]===v)return R;return-1}}}),an=he({"node_modules/duplexify/node_modules/readable-stream/lib/_stream_transform.js"(i,e){fe(),e.exports=u;var t=bt().codes,r=t.ERR_METHOD_NOT_IMPLEMENTED,a=t.ERR_MULTIPLE_CALLBACK,l=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,f=t.ERR_TRANSFORM_WITH_LENGTH_0,n=ht();rt()(u,n);function c(_,b){var d=this._transformState;d.transforming=!1;var P=d.writecb;if(P===null)return this.emit("error",new a);d.writechunk=null,d.writecb=null,b!=null&&this.push(b),P(_);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function u(_){if(!(this instanceof u))return new u(_);n.call(this,_),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",y)}function y(){var _=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(b,d){g(_,b,d)}):g(this,null,null)}u.prototype.push=function(_,b){return this._transformState.needTransform=!1,n.prototype.push.call(this,_,b)},u.prototype._transform=function(_,b,d){d(new r("_transform()"))},u.prototype._write=function(_,b,d){var P=this._transformState;if(P.writecb=d,P.writechunk=_,P.writeencoding=b,!P.transforming){var T=this._readableState;(P.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},u.prototype._read=function(_){var b=this._transformState;b.writechunk!==null&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},u.prototype._destroy=function(_,b){n.prototype._destroy.call(this,_,function(d){b(d)})};function g(_,b,d){if(b)return _.emit("error",b);if(d!=null&&_.push(d),_._writableState.length)throw new f;if(_._transformState.transforming)throw new l;return _.push(null)}}}),ri=he({"node_modules/duplexify/node_modules/readable-stream/lib/_stream_passthrough.js"(i,e){fe(),e.exports=r;var t=an();rt()(r,t);function r(a){if(!(this instanceof r))return new r(a);t.call(this,a)}r.prototype._transform=function(a,l,f){f(null,a)}}}),ni=he({"node_modules/duplexify/node_modules/readable-stream/lib/internal/streams/pipeline.js"(i,e){fe();var t;function r(d){var P=!1;return function(){P||(P=!0,d.apply(void 0,arguments))}}var a=bt().codes,l=a.ERR_MISSING_ARGS,f=a.ERR_STREAM_DESTROYED;function n(d){if(d)throw d}function c(d){return d.setHeader&&typeof d.abort=="function"}function u(d,P,T,A){A=r(A);var h=!1;d.on("close",function(){h=!0}),t===void 0&&(t=dr()),t(d,{readable:P,writable:T},function(x){if(x)return A(x);h=!0,A()});var E=!1;return function(x){if(!h&&!E){if(E=!0,c(d))return d.abort();if(typeof d.destroy=="function")return d.destroy();A(x||new f("pipe"))}}}function y(d){d()}function g(d,P){return d.pipe(P)}function _(d){return!d.length||typeof d[d.length-1]!="function"?n:d.pop()}function b(){for(var d=arguments.length,P=new Array(d),T=0;T<d;T++)P[T]=arguments[T];var A=_(P);if(Array.isArray(P[0])&&(P=P[0]),P.length<2)throw new l("streams");var h,E=P.map(function(x,S){var O=S<P.length-1,j=S>0;return u(x,O,j,function(G){h||(h=G),G&&E.forEach(y),!O&&(E.forEach(y),A(h))})});return P.reduce(g)}e.exports=b}}),ii=he({"node_modules/duplexify/node_modules/readable-stream/readable-browser.js"(i,e){fe(),i=e.exports=on(),i.Stream=i,i.Readable=i,i.Writable=nn(),i.Duplex=ht(),i.Transform=an(),i.PassThrough=ri(),i.finished=dr(),i.pipeline=ni()}}),oi=he({"node_modules/stream-shift/index.js"(i,e){fe(),e.exports=t;function t(a){var l=a._readableState;return l?l.objectMode||typeof a._duplexState=="number"?a.read():a.read(r(l)):null}function r(a){if(a.buffer.length){var l=a.bufferIndex||0;if(a.buffer.head)return a.buffer.head.data.length;if(a.buffer.length-l>0&&a.buffer[l])return a.buffer[l].length}return a.length}}}),ai=he({"node_modules/duplexify/index.js"(i,e){fe();var t=ii(),r=Qr(),a=rt(),l=oi(),f=ve.Buffer.from&&ve.Buffer.from!==Uint8Array.from?ve.Buffer.from([0]):new ve.Buffer([0]),n=function(d,P){d._corked?d.once("uncork",P):P()},c=function(d,P){d._autoDestroy&&d.destroy(P)},u=function(d,P){return function(T){T?c(d,T.message==="premature close"?null:T):P&&!d._ended&&d.end()}},y=function(d,P){if(!d||d._writableState&&d._writableState.finished)return P();if(d._writableState)return d.end(P);d.end(),P()},g=function(){},_=function(d){return new t.Readable({objectMode:!0,highWaterMark:16}).wrap(d)},b=function(d,P,T){if(!(this instanceof b))return new b(d,P,T);t.Duplex.call(this,T),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!T||T.autoDestroy!==!1,this._forwardDestroy=!T||T.destroy!==!1,this._forwardEnd=!T||T.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,d&&this.setWritable(d),P&&this.setReadable(P)};a(b,t.Duplex),b.obj=function(d,P,T){return T||(T={}),T.objectMode=!0,T.highWaterMark=16,new b(d,P,T)},b.prototype.cork=function(){++this._corked===1&&this.emit("cork")},b.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},b.prototype.setWritable=function(d){if(this._unwrite&&this._unwrite(),this.destroyed){d&&d.destroy&&d.destroy();return}if(d===null||d===!1){this.end();return}var P=this,T=r(d,{writable:!0,readable:!1},u(this,this._forwardEnd)),A=function(){var E=P._ondrain;P._ondrain=null,E&&E()},h=function(){P._writable.removeListener("drain",A),T()};this._unwrite&&Ee.nextTick(A),this._writable=d,this._writable.on("drain",A),this._unwrite=h,this.uncork()},b.prototype.setReadable=function(d){if(this._unread&&this._unread(),this.destroyed){d&&d.destroy&&d.destroy();return}if(d===null||d===!1){this.push(null),this.resume();return}var P=this,T=r(d,{writable:!1,readable:!0},u(this)),A=function(){P._forward()},h=function(){P.push(null)},E=function(){P._readable2.removeListener("readable",A),P._readable2.removeListener("end",h),T()};this._drained=!0,this._readable=d,this._readable2=d._readableState?d:_(d),this._readable2.on("readable",A),this._readable2.on("end",h),this._unread=E,this._forward()},b.prototype._read=function(){this._drained=!0,this._forward()},b.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var d;this._drained&&(d=l(this._readable2))!==null;)this.destroyed||(this._drained=this.push(d));this._forwarding=!1}},b.prototype.destroy=function(d,P){if(P||(P=g),this.destroyed)return P(null);this.destroyed=!0;var T=this;Ee.nextTick(function(){T._destroy(d),P(null)})},b.prototype._destroy=function(d){if(d){var P=this._ondrain;this._ondrain=null,P?P(d):this.emit("error",d)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},b.prototype._write=function(d,P,T){if(!this.destroyed){if(this._corked)return n(this,this._write.bind(this,d,P,T));if(d===f)return this._finish(T);if(!this._writable)return T();this._writable.write(d)===!1?this._ondrain=T:this.destroyed||T()}},b.prototype._finish=function(d){var P=this;this.emit("preend"),n(this,function(){y(P._forwardEnd&&P._writable,function(){P._writableState.prefinished===!1&&(P._writableState.prefinished=!0),P.emit("prefinish"),n(P,d)})})},b.prototype.end=function(d,P,T){return typeof d=="function"?this.end(null,null,d):typeof P=="function"?this.end(d,null,P):(this._ended=!0,d&&this.write(d),!this._writableState.ending&&!this._writableState.destroyed&&this.write(f),t.Writable.prototype.end.call(this,T))},e.exports=b}}),si=he({"node_modules/pumpify/index.js"(i,e){fe();var t=Xn(),r=rt(),a=ai(),l=function(n){return n.length?Array.isArray(n[0])?n[0]:Array.prototype.slice.call(n):[]},f=function(n){var c=function(){var u=l(arguments);if(!(this instanceof c))return new c(u);a.call(this,null,null,n),u.length&&this.setPipeline(u)};return r(c,a),c.prototype.setPipeline=function(){var u=l(arguments),y=this,g=!1,_=u[0],b=u[u.length-1];b=b.readable?b:null,_=_.writable?_:null;var d=function(){u[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",d),this.on("prefinish",function(){g||y.cork()}),t(u,function(P){if(y.removeListener("close",d),P)return y.destroy(P.message==="premature close"?null:P);g=!0,y._autoDestroy===!1&&(y._autoDestroy=!0),y.uncork()}),this.destroyed)return d();this.setWritable(_),this.setReadable(b)},c};e.exports=f({autoDestroy:!1,destroy:!1}),e.exports.obj=f({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16}),e.exports.ctor=f}}),li=he({"(disabled):crypto"(){fe()}}),sn=he({"node_modules/secure-random/lib/secure-random.js"(i,e){fe(),function(t){typeof define<"u"&&define.amd?define([],function(){return r}):typeof e<"u"&&e.exports?e.exports=r:t.secureRandom=r;function r(f,n){if(n=n||{type:"Array"},typeof Ee<"u"&&typeof Ee.pid=="number"&&Ee.versions&&Ee.versions.node)return a(f,n);var c=window.crypto||window.msCrypto;if(!c)throw new Error("Your browser does not support window.crypto.");return l(f,n)}function a(f,n){var c=li(),u=c.randomBytes(f);switch(n.type){case"Array":return[].slice.call(u);case"Buffer":return u;case"Uint8Array":for(var y=new Uint8Array(f),g=0;g<f;++g)y[g]=u.readUInt8(g);return y;default:throw new Error(n.type+" is unsupported.")}}function l(f,n){var c=new Uint8Array(f),u=window.crypto||window.msCrypto;switch(u.getRandomValues(c),n.type){case"Array":return[].slice.call(c);case"Buffer":try{var y=new ve.Buffer(1)}catch{throw new Error("Buffer not supported in this environment. Use Node.js or Browserify for browser support.")}return new ve.Buffer(c);case"Uint8Array":return c;default:throw new Error(n.type+" is unsupported.")}}r.randomArray=function(f){return r(f,{type:"Array"})},r.randomUint8Array=function(f){return r(f,{type:"Uint8Array"})},r.randomBuffer=function(f){return r(f,{type:"Buffer"})}}(i)}}),ln=he({"node_modules/has-symbols/shams.js"(i,e){fe(),e.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},a=Symbol("test"),l=Object(a);if(typeof a=="string"||Object.prototype.toString.call(a)!=="[object Symbol]"||Object.prototype.toString.call(l)!=="[object Symbol]")return!1;var f=42;r[a]=f;for(a in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var n=Object.getOwnPropertySymbols(r);if(n.length!==1||n[0]!==a||!Object.prototype.propertyIsEnumerable.call(r,a))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(r,a);if(c.value!==f||c.enumerable!==!0)return!1}return!0}}}),hr=he({"node_modules/has-tostringtag/shams.js"(i,e){fe();var t=ln();e.exports=function(){return t()&&!!Symbol.toStringTag}}}),fi=he({"node_modules/es-errors/index.js"(i,e){fe(),e.exports=Error}}),ui=he({"node_modules/es-errors/eval.js"(i,e){fe(),e.exports=EvalError}}),ci=he({"node_modules/es-errors/range.js"(i,e){fe(),e.exports=RangeError}}),di=he({"node_modules/es-errors/ref.js"(i,e){fe(),e.exports=ReferenceError}}),fn=he({"node_modules/es-errors/syntax.js"(i,e){fe(),e.exports=SyntaxError}}),jt=he({"node_modules/es-errors/type.js"(i,e){fe(),e.exports=TypeError}}),hi=he({"node_modules/es-errors/uri.js"(i,e){fe(),e.exports=URIError}}),pi=he({"node_modules/has-symbols/index.js"(i,e){fe();var t=typeof Symbol<"u"&&Symbol,r=ln();e.exports=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:r()}}}),yi=he({"node_modules/has-proto/index.js"(i,e){fe();var t={__proto__:null,foo:{}},r=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof r)}}}),bi=he({"node_modules/function-bind/implementation.js"(i,e){fe();var t="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,a=Math.max,l="[object Function]",f=function(y,g){for(var _=[],b=0;b<y.length;b+=1)_[b]=y[b];for(var d=0;d<g.length;d+=1)_[d+y.length]=g[d];return _},n=function(y,g){for(var _=[],b=g,d=0;b<y.length;b+=1,d+=1)_[d]=y[b];return _},c=function(u,y){for(var g="",_=0;_<u.length;_+=1)g+=u[_],_+1<u.length&&(g+=y);return g};e.exports=function(y){var g=this;if(typeof g!="function"||r.apply(g)!==l)throw new TypeError(t+g);for(var _=n(arguments,1),b,d=function(){if(this instanceof b){var E=g.apply(this,f(_,arguments));return Object(E)===E?E:this}return g.apply(y,f(_,arguments))},P=a(0,g.length-_.length),T=[],A=0;A<P;A++)T[A]="$"+A;if(b=Function("binder","return function ("+c(T,",")+"){ return binder.apply(this,arguments); }")(d),g.prototype){var h=function(){};h.prototype=g.prototype,b.prototype=new h,h.prototype=null}return b}}}),pr=he({"node_modules/function-bind/index.js"(i,e){fe();var t=bi();e.exports=Function.prototype.bind||t}}),gi=he({"node_modules/hasown/index.js"(i,e){fe();var t=Function.prototype.call,r=Object.prototype.hasOwnProperty,a=pr();e.exports=a.call(t,r)}}),Ot=he({"node_modules/get-intrinsic/index.js"(i,e){fe();var t,r=fi(),a=ui(),l=ci(),f=di(),n=fn(),c=jt(),u=hi(),y=Function,g=function(_e){try{return y('"use strict"; return ('+_e+").constructor;")()}catch{}},_=Object.getOwnPropertyDescriptor;if(_)try{_({},"")}catch{_=null}var b=function(){throw new c},d=_?function(){try{return arguments.callee,b}catch{try{return _(arguments,"callee").get}catch{return b}}}():b,P=pi()(),T=yi()(),A=Object.getPrototypeOf||(T?function(_e){return _e.__proto__}:null),h={},E=typeof Uint8Array>"u"||!A?t:A(Uint8Array),x={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":P&&A?A([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":a,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":y,"%GeneratorFunction%":h,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":P&&A?A(A([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!P||!A?t:A(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":l,"%ReferenceError%":f,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!P||!A?t:A(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":P&&A?A(""[Symbol.iterator]()):t,"%Symbol%":P?Symbol:t,"%SyntaxError%":n,"%ThrowTypeError%":d,"%TypedArray%":E,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet};if(A)try{null.error}catch(_e){S=A(A(_e)),x["%Error.prototype%"]=S}var S,O=function _e(X){var le;if(X==="%AsyncFunction%")le=g("async function () {}");else if(X==="%GeneratorFunction%")le=g("function* () {}");else if(X==="%AsyncGeneratorFunction%")le=g("async function* () {}");else if(X==="%AsyncGenerator%"){var p=_e("%AsyncGeneratorFunction%");p&&(le=p.prototype)}else if(X==="%AsyncIteratorPrototype%"){var k=_e("%AsyncGenerator%");k&&A&&(le=A(k.prototype))}return x[X]=le,le},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},G=pr(),Z=gi(),Y=G.call(Function.call,Array.prototype.concat),ae=G.call(Function.apply,Array.prototype.splice),F=G.call(Function.call,String.prototype.replace),z=G.call(Function.call,String.prototype.slice),ee=G.call(Function.call,RegExp.prototype.exec),K=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ue=/\\(\\)?/g,pe=function(X){var le=z(X,0,1),p=z(X,-1);if(le==="%"&&p!=="%")throw new n("invalid intrinsic syntax, expected closing `%`");if(p==="%"&&le!=="%")throw new n("invalid intrinsic syntax, expected opening `%`");var k=[];return F(X,K,function(H,V,se,de){k[k.length]=se?F(de,ue,"$1"):V||H}),k},we=function(X,le){var p=X,k;if(Z(j,p)&&(k=j[p],p="%"+k[0]+"%"),Z(x,p)){var H=x[p];if(H===h&&(H=O(p)),typeof H>"u"&&!le)throw new c("intrinsic "+X+" exists, but is not available. Please file an issue!");return{alias:k,name:p,value:H}}throw new n("intrinsic "+X+" does not exist!")};e.exports=function(X,le){if(typeof X!="string"||X.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof le!="boolean")throw new c('"allowMissing" argument must be a boolean');if(ee(/^%?[^%]*%?$/,X)===null)throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var p=pe(X),k=p.length>0?p[0]:"",H=we("%"+k+"%",le),V=H.name,se=H.value,de=!1,C=H.alias;C&&(k=C[0],ae(p,Y([0,1],C)));for(var D=1,M=!0;D<p.length;D+=1){var $=p[D],re=z($,0,1),m=z($,-1);if((re==='"'||re==="'"||re==="`"||m==='"'||m==="'"||m==="`")&&re!==m)throw new n("property names with quotes must have matching quotes");if(($==="constructor"||!M)&&(de=!0),k+="."+$,V="%"+k+"%",Z(x,V))se=x[V];else if(se!=null){if(!($ in se)){if(!le)throw new c("base intrinsic for "+X+" exists, but the property is not available.");return}if(_&&D+1>=p.length){var v=_(se,$);M=!!v,M&&"get"in v&&!("originalValue"in v.get)?se=v.get:se=se[$]}else M=Z(se,$),se=se[$];M&&!de&&(x[V]=se)}}return se}}}),yr=he({"node_modules/es-define-property/index.js"(i,e){fe();var t=Ot(),r=t("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}e.exports=r}}),br=he({"node_modules/gopd/index.js"(i,e){fe();var t=Ot(),r=t("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch{r=null}e.exports=r}}),wi=he({"node_modules/define-data-property/index.js"(i,e){fe();var t=yr(),r=fn(),a=jt(),l=br();e.exports=function(n,c,u){if(!n||typeof n!="object"&&typeof n!="function")throw new a("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new a("`loose`, if provided, must be a boolean");var y=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,_=arguments.length>5?arguments[5]:null,b=arguments.length>6?arguments[6]:!1,d=!!l&&l(n,c);if(t)t(n,c,{configurable:_===null&&d?d.configurable:!_,enumerable:y===null&&d?d.enumerable:!y,value:u,writable:g===null&&d?d.writable:!g});else if(b||!y&&!g&&!_)n[c]=u;else throw new r("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}}),_i=he({"node_modules/has-property-descriptors/index.js"(i,e){fe();var t=yr(),r=function(){return!!t};r.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},e.exports=r}}),mi=he({"node_modules/set-function-length/index.js"(i,e){fe();var t=Ot(),r=wi(),a=_i()(),l=br(),f=jt(),n=t("%Math.floor%");e.exports=function(u,y){if(typeof u!="function")throw new f("`fn` is not a function");if(typeof y!="number"||y<0||y>4294967295||n(y)!==y)throw new f("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],_=!0,b=!0;if("length"in u&&l){var d=l(u,"length");d&&!d.configurable&&(_=!1),d&&!d.writable&&(b=!1)}return(_||b||!g)&&(a?r(u,"length",y,!0,!0):r(u,"length",y)),u}}}),un=he({"node_modules/call-bind/index.js"(i,e){fe();var t=pr(),r=Ot(),a=mi(),l=jt(),f=r("%Function.prototype.apply%"),n=r("%Function.prototype.call%"),c=r("%Reflect.apply%",!0)||t.call(n,f),u=yr(),y=r("%Math.max%");e.exports=function(b){if(typeof b!="function")throw new l("a function is required");var d=c(t,n,arguments);return a(d,1+y(0,b.length-(arguments.length-1)),!0)};var g=function(){return c(t,f,arguments)};u?u(e.exports,"apply",{value:g}):e.exports.apply=g}}),cn=he({"node_modules/call-bind/callBound.js"(i,e){fe();var t=Ot(),r=un(),a=r(t("String.prototype.indexOf"));e.exports=function(f,n){var c=t(f,!!n);return typeof c=="function"&&a(f,".prototype.")>-1?r(c):c}}}),vi=he({"node_modules/is-arguments/index.js"(i,e){fe();var t=hr()(),r=cn(),a=r("Object.prototype.toString"),l=function(u){return t&&u&&typeof u=="object"&&Symbol.toStringTag in u?!1:a(u)==="[object Arguments]"},f=function(u){return l(u)?!0:u!==null&&typeof u=="object"&&typeof u.length=="number"&&u.length>=0&&a(u)!=="[object Array]"&&a(u.callee)==="[object Function]"},n=function(){return l(arguments)}();l.isLegacyArguments=f,e.exports=n?l:f}}),Ei=he({"node_modules/is-generator-function/index.js"(i,e){fe();var t=Object.prototype.toString,r=Function.prototype.toString,a=/^\s*(?:function)?\*/,l=hr()(),f=Object.getPrototypeOf,n=function(){if(!l)return!1;try{return Function("return function*() {}")()}catch{}},c;e.exports=function(y){if(typeof y!="function")return!1;if(a.test(r.call(y)))return!0;if(!l){var g=t.call(y);return g==="[object GeneratorFunction]"}if(!f)return!1;if(typeof c>"u"){var _=n();c=_?f(_):!1}return f(y)===c}}}),Si=he({"node_modules/is-callable/index.js"(i,e){fe();var t=Function.prototype.toString,r=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,a,l;if(typeof r=="function"&&typeof Object.defineProperty=="function")try{a=Object.defineProperty({},"length",{get:function(){throw l}}),l={},r(function(){throw 42},null,a)}catch(x){x!==l&&(r=null)}else r=null;var f=/^\s*class\b/,n=function(S){try{var O=t.call(S);return f.test(O)}catch{return!1}},c=function(S){try{return n(S)?!1:(t.call(S),!0)}catch{return!1}},u=Object.prototype.toString,y="[object Object]",g="[object Function]",_="[object GeneratorFunction]",b="[object HTMLAllCollection]",d="[object HTML document.all class]",P="[object HTMLCollection]",T=typeof Symbol=="function"&&!!Symbol.toStringTag,A=!(0 in[,]),h=function(){return!1};typeof document=="object"&&(E=document.all,u.call(E)===u.call(document.all)&&(h=function(S){if((A||!S)&&(typeof S>"u"||typeof S=="object"))try{var O=u.call(S);return(O===b||O===d||O===P||O===y)&&S("")==null}catch{}return!1}));var E;e.exports=r?function(S){if(h(S))return!0;if(!S||typeof S!="function"&&typeof S!="object")return!1;try{r(S,null,a)}catch(O){if(O!==l)return!1}return!n(S)&&c(S)}:function(S){if(h(S))return!0;if(!S||typeof S!="function"&&typeof S!="object")return!1;if(T)return c(S);if(n(S))return!1;var O=u.call(S);return O!==g&&O!==_&&!/^\[object HTML/.test(O)?!1:c(S)}}}),Ai=he({"node_modules/for-each/index.js"(i,e){fe();var t=Si(),r=Object.prototype.toString,a=Object.prototype.hasOwnProperty,l=function(y,g,_){for(var b=0,d=y.length;b<d;b++)a.call(y,b)&&(_==null?g(y[b],b,y):g.call(_,y[b],b,y))},f=function(y,g,_){for(var b=0,d=y.length;b<d;b++)_==null?g(y.charAt(b),b,y):g.call(_,y.charAt(b),b,y)},n=function(y,g,_){for(var b in y)a.call(y,b)&&(_==null?g(y[b],b,y):g.call(_,y[b],b,y))},c=function(y,g,_){if(!t(g))throw new TypeError("iterator must be a function");var b;arguments.length>=3&&(b=_),r.call(y)==="[object Array]"?l(y,g,b):typeof y=="string"?f(y,g,b):n(y,g,b)};e.exports=c}}),Ri=he({"node_modules/possible-typed-array-names/index.js"(i,e){fe(),e.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]}}),Ii=he({"node_modules/available-typed-arrays/index.js"(i,e){fe();var t=Ri(),r=typeof globalThis>"u"?ze:globalThis;e.exports=function(){for(var l=[],f=0;f<t.length;f++)typeof r[t[f]]=="function"&&(l[l.length]=t[f]);return l}}}),dn=he({"node_modules/which-typed-array/index.js"(i,e){fe();var t=Ai(),r=Ii(),a=un(),l=cn(),f=br(),n=l("Object.prototype.toString"),c=hr()(),u=typeof globalThis>"u"?ze:globalThis,y=r(),g=l("String.prototype.slice"),_=Object.getPrototypeOf,b=l("Array.prototype.indexOf",!0)||function(h,E){for(var x=0;x<h.length;x+=1)if(h[x]===E)return x;return-1},d={__proto__:null};c&&f&&_?t(y,function(A){var h=new u[A];if(Symbol.toStringTag in h){var E=_(h),x=f(E,Symbol.toStringTag);if(!x){var S=_(E);x=f(S,Symbol.toStringTag)}d["$"+A]=a(x.get)}}):t(y,function(A){var h=new u[A],E=h.slice||h.set;E&&(d["$"+A]=a(E))});var P=function(h){var E=!1;return t(d,function(x,S){if(!E)try{"$"+x(h)===S&&(E=g(S,1))}catch{}}),E},T=function(h){var E=!1;return t(d,function(x,S){if(!E)try{x(h),E=g(S,1)}catch{}}),E};e.exports=function(h){if(!h||typeof h!="object")return!1;if(!c){var E=g(n(h),8,-1);return b(y,E)>-1?E:E!=="Object"?!1:T(h)}return f?P(h):null}}}),Ti=he({"node_modules/is-typed-array/index.js"(i,e){fe();var t=dn();e.exports=function(a){return!!t(a)}}}),Bi=he({"node_modules/util/support/types.js"(i){fe();var e=vi(),t=Ei(),r=dn(),a=Ti();function l(U){return U.call.bind(U)}var f=typeof BigInt<"u",n=typeof Symbol<"u",c=l(Object.prototype.toString),u=l(Number.prototype.valueOf),y=l(String.prototype.valueOf),g=l(Boolean.prototype.valueOf);f&&(_=l(BigInt.prototype.valueOf));var _;n&&(b=l(Symbol.prototype.valueOf));var b;function d(U,ce){if(typeof U!="object")return!1;try{return ce(U),!0}catch{return!1}}i.isArgumentsObject=e,i.isGeneratorFunction=t,i.isTypedArray=a;function P(U){return typeof Promise<"u"&&U instanceof Promise||U!==null&&typeof U=="object"&&typeof U.then=="function"&&typeof U.catch=="function"}i.isPromise=P;function T(U){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(U):a(U)||k(U)}i.isArrayBufferView=T;function A(U){return r(U)==="Uint8Array"}i.isUint8Array=A;function h(U){return r(U)==="Uint8ClampedArray"}i.isUint8ClampedArray=h;function E(U){return r(U)==="Uint16Array"}i.isUint16Array=E;function x(U){return r(U)==="Uint32Array"}i.isUint32Array=x;function S(U){return r(U)==="Int8Array"}i.isInt8Array=S;function O(U){return r(U)==="Int16Array"}i.isInt16Array=O;function j(U){return r(U)==="Int32Array"}i.isInt32Array=j;function G(U){return r(U)==="Float32Array"}i.isFloat32Array=G;function Z(U){return r(U)==="Float64Array"}i.isFloat64Array=Z;function Y(U){return r(U)==="BigInt64Array"}i.isBigInt64Array=Y;function ae(U){return r(U)==="BigUint64Array"}i.isBigUint64Array=ae;function F(U){return c(U)==="[object Map]"}F.working=typeof Map<"u"&&F(new Map);function z(U){return typeof Map>"u"?!1:F.working?F(U):U instanceof Map}i.isMap=z;function ee(U){return c(U)==="[object Set]"}ee.working=typeof Set<"u"&&ee(new Set);function K(U){return typeof Set>"u"?!1:ee.working?ee(U):U instanceof Set}i.isSet=K;function ue(U){return c(U)==="[object WeakMap]"}ue.working=typeof WeakMap<"u"&&ue(new WeakMap);function pe(U){return typeof WeakMap>"u"?!1:ue.working?ue(U):U instanceof WeakMap}i.isWeakMap=pe;function we(U){return c(U)==="[object WeakSet]"}we.working=typeof WeakSet<"u"&&we(new WeakSet);function _e(U){return we(U)}i.isWeakSet=_e;function X(U){return c(U)==="[object ArrayBuffer]"}X.working=typeof ArrayBuffer<"u"&&X(new ArrayBuffer);function le(U){return typeof ArrayBuffer>"u"?!1:X.working?X(U):U instanceof ArrayBuffer}i.isArrayBuffer=le;function p(U){return c(U)==="[object DataView]"}p.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&p(new DataView(new ArrayBuffer(1),0,1));function k(U){return typeof DataView>"u"?!1:p.working?p(U):U instanceof DataView}i.isDataView=k;var H=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function V(U){return c(U)==="[object SharedArrayBuffer]"}function se(U){return typeof H>"u"?!1:(typeof V.working>"u"&&(V.working=V(new H)),V.working?V(U):U instanceof H)}i.isSharedArrayBuffer=se;function de(U){return c(U)==="[object AsyncFunction]"}i.isAsyncFunction=de;function C(U){return c(U)==="[object Map Iterator]"}i.isMapIterator=C;function D(U){return c(U)==="[object Set Iterator]"}i.isSetIterator=D;function M(U){return c(U)==="[object Generator]"}i.isGeneratorObject=M;function $(U){return c(U)==="[object WebAssembly.Module]"}i.isWebAssemblyCompiledModule=$;function re(U){return d(U,u)}i.isNumberObject=re;function m(U){return d(U,y)}i.isStringObject=m;function v(U){return d(U,g)}i.isBooleanObject=v;function R(U){return f&&d(U,_)}i.isBigIntObject=R;function N(U){return n&&d(U,b)}i.isSymbolObject=N;function J(U){return re(U)||m(U)||v(U)||R(U)||N(U)}i.isBoxedPrimitive=J;function ne(U){return typeof Uint8Array<"u"&&(le(U)||se(U))}i.isAnyArrayBuffer=ne,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(U){Object.defineProperty(i,U,{enumerable:!1,value:function(){throw new Error(U+" is not supported in userland")}})})}}),Oi=he({"node_modules/util/support/isBufferBrowser.js"(i,e){fe(),e.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}}}),Pi=he({"node_modules/util/util.js"(i){fe();var e=Object.getOwnPropertyDescriptors||function(k){for(var H=Object.keys(k),V={},se=0;se<H.length;se++)V[H[se]]=Object.getOwnPropertyDescriptor(k,H[se]);return V},t=/%[sdj%]/g;i.format=function(p){if(!S(p)){for(var k=[],H=0;H<arguments.length;H++)k.push(f(arguments[H]));return k.join(" ")}for(var H=1,V=arguments,se=V.length,de=String(p).replace(t,function(D){if(D==="%%")return"%";if(H>=se)return D;switch(D){case"%s":return String(V[H++]);case"%d":return Number(V[H++]);case"%j":try{return JSON.stringify(V[H++])}catch{return"[Circular]"}default:return D}}),C=V[H];H<se;C=V[++H])h(C)||!Z(C)?de+=" "+C:de+=" "+f(C);return de},i.deprecate=function(p,k){if(typeof Ee<"u"&&Ee.noDeprecation===!0)return p;if(typeof Ee>"u")return function(){return i.deprecate(p,k).apply(this,arguments)};var H=!1;function V(){if(!H){if(Ee.throwDeprecation)throw new Error(k);Ee.traceDeprecation?console.trace(k):console.error(k),H=!0}return p.apply(this,arguments)}return V};var r={},a=/^$/;Ee.env.NODE_DEBUG&&(l=Ee.env.NODE_DEBUG,l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+l+"$","i"));var l;i.debuglog=function(p){if(p=p.toUpperCase(),!r[p])if(a.test(p)){var k=Ee.pid;r[p]=function(){var H=i.format.apply(i,arguments);console.error("%s %d: %s",p,k,H)}}else r[p]=function(){};return r[p]};function f(p,k){var H={seen:[],stylize:c};return arguments.length>=3&&(H.depth=arguments[2]),arguments.length>=4&&(H.colors=arguments[3]),A(k)?H.showHidden=k:k&&i._extend(H,k),j(H.showHidden)&&(H.showHidden=!1),j(H.depth)&&(H.depth=2),j(H.colors)&&(H.colors=!1),j(H.customInspect)&&(H.customInspect=!0),H.colors&&(H.stylize=n),y(H,p,H.depth)}i.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function n(p,k){var H=f.styles[k];return H?"\x1B["+f.colors[H][0]+"m"+p+"\x1B["+f.colors[H][1]+"m":p}function c(p,k){return p}function u(p){var k={};return p.forEach(function(H,V){k[H]=!0}),k}function y(p,k,H){if(p.customInspect&&k&&F(k.inspect)&&k.inspect!==i.inspect&&!(k.constructor&&k.constructor.prototype===k)){var V=k.inspect(H,p);return S(V)||(V=y(p,V,H)),V}var se=g(p,k);if(se)return se;var de=Object.keys(k),C=u(de);if(p.showHidden&&(de=Object.getOwnPropertyNames(k)),ae(k)&&(de.indexOf("message")>=0||de.indexOf("description")>=0))return _(k);if(de.length===0){if(F(k)){var D=k.name?": "+k.name:"";return p.stylize("[Function"+D+"]","special")}if(G(k))return p.stylize(RegExp.prototype.toString.call(k),"regexp");if(Y(k))return p.stylize(Date.prototype.toString.call(k),"date");if(ae(k))return _(k)}var M="",$=!1,re=["{","}"];if(T(k)&&($=!0,re=["[","]"]),F(k)){var m=k.name?": "+k.name:"";M=" [Function"+m+"]"}if(G(k)&&(M=" "+RegExp.prototype.toString.call(k)),Y(k)&&(M=" "+Date.prototype.toUTCString.call(k)),ae(k)&&(M=" "+_(k)),de.length===0&&(!$||k.length==0))return re[0]+M+re[1];if(H<0)return G(k)?p.stylize(RegExp.prototype.toString.call(k),"regexp"):p.stylize("[Object]","special");p.seen.push(k);var v;return $?v=b(p,k,H,C,de):v=de.map(function(R){return d(p,k,H,C,R,$)}),p.seen.pop(),P(v,M,re)}function g(p,k){if(j(k))return p.stylize("undefined","undefined");if(S(k)){var H="'"+JSON.stringify(k).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p.stylize(H,"string")}if(x(k))return p.stylize(""+k,"number");if(A(k))return p.stylize(""+k,"boolean");if(h(k))return p.stylize("null","null")}function _(p){return"["+Error.prototype.toString.call(p)+"]"}function b(p,k,H,V,se){for(var de=[],C=0,D=k.length;C<D;++C)we(k,String(C))?de.push(d(p,k,H,V,String(C),!0)):de.push("");return se.forEach(function(M){M.match(/^\d+$/)||de.push(d(p,k,H,V,M,!0))}),de}function d(p,k,H,V,se,de){var C,D,M;if(M=Object.getOwnPropertyDescriptor(k,se)||{value:k[se]},M.get?M.set?D=p.stylize("[Getter/Setter]","special"):D=p.stylize("[Getter]","special"):M.set&&(D=p.stylize("[Setter]","special")),we(V,se)||(C="["+se+"]"),D||(p.seen.indexOf(M.value)<0?(h(H)?D=y(p,M.value,null):D=y(p,M.value,H-1),D.indexOf(`
`)>-1&&(de?D=D.split(`
`).map(function($){return"  "+$}).join(`
`).slice(2):D=`
`+D.split(`
`).map(function($){return"   "+$}).join(`
`))):D=p.stylize("[Circular]","special")),j(C)){if(de&&se.match(/^\d+$/))return D;C=JSON.stringify(""+se),C.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(C=C.slice(1,-1),C=p.stylize(C,"name")):(C=C.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),C=p.stylize(C,"string"))}return C+": "+D}function P(p,k,H){var V=p.reduce(function(se,de){return de.indexOf(`
`)>=0,se+de.replace(/\u001b\[\d\d?m/g,"").length+1},0);return V>60?H[0]+(k===""?"":k+`
 `)+" "+p.join(`,
  `)+" "+H[1]:H[0]+k+" "+p.join(", ")+" "+H[1]}i.types=Bi();function T(p){return Array.isArray(p)}i.isArray=T;function A(p){return typeof p=="boolean"}i.isBoolean=A;function h(p){return p===null}i.isNull=h;function E(p){return p==null}i.isNullOrUndefined=E;function x(p){return typeof p=="number"}i.isNumber=x;function S(p){return typeof p=="string"}i.isString=S;function O(p){return typeof p=="symbol"}i.isSymbol=O;function j(p){return p===void 0}i.isUndefined=j;function G(p){return Z(p)&&ee(p)==="[object RegExp]"}i.isRegExp=G,i.types.isRegExp=G;function Z(p){return typeof p=="object"&&p!==null}i.isObject=Z;function Y(p){return Z(p)&&ee(p)==="[object Date]"}i.isDate=Y,i.types.isDate=Y;function ae(p){return Z(p)&&(ee(p)==="[object Error]"||p instanceof Error)}i.isError=ae,i.types.isNativeError=ae;function F(p){return typeof p=="function"}i.isFunction=F;function z(p){return p===null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||typeof p=="symbol"||typeof p>"u"}i.isPrimitive=z,i.isBuffer=Oi();function ee(p){return Object.prototype.toString.call(p)}function K(p){return p<10?"0"+p.toString(10):p.toString(10)}var ue=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function pe(){var p=new Date,k=[K(p.getHours()),K(p.getMinutes()),K(p.getSeconds())].join(":");return[p.getDate(),ue[p.getMonth()],k].join(" ")}i.log=function(){console.log("%s - %s",pe(),i.format.apply(i,arguments))},i.inherits=rt(),i._extend=function(p,k){if(!k||!Z(k))return p;for(var H=Object.keys(k),V=H.length;V--;)p[H[V]]=k[H[V]];return p};function we(p,k){return Object.prototype.hasOwnProperty.call(p,k)}var _e=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;i.promisify=function(k){if(typeof k!="function")throw new TypeError('The "original" argument must be of type Function');if(_e&&k[_e]){var H=k[_e];if(typeof H!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(H,_e,{value:H,enumerable:!1,writable:!1,configurable:!0}),H}function H(){for(var V,se,de=new Promise(function(M,$){V=M,se=$}),C=[],D=0;D<arguments.length;D++)C.push(arguments[D]);C.push(function(M,$){M?se(M):V($)});try{k.apply(this,C)}catch(M){se(M)}return de}return Object.setPrototypeOf(H,Object.getPrototypeOf(k)),_e&&Object.defineProperty(H,_e,{value:H,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(H,e(k))},i.promisify.custom=_e;function X(p,k){if(!p){var H=new Error("Promise was rejected with a falsy value");H.reason=p,p=H}return k(p)}function le(p){if(typeof p!="function")throw new TypeError('The "original" argument must be of type Function');function k(){for(var H=[],V=0;V<arguments.length;V++)H.push(arguments[V]);var se=H.pop();if(typeof se!="function")throw new TypeError("The last argument must be of type Function");var de=this,C=function(){return se.apply(de,arguments)};p.apply(this,H).then(function(D){Ee.nextTick(C.bind(null,null,D))},function(D){Ee.nextTick(X.bind(null,D,C))})}return Object.setPrototypeOf(k,Object.getPrototypeOf(p)),Object.defineProperties(k,e(p)),k}i.callbackify=le}}),xi=he({"node_modules/stream-skip/index.js"(i,e){fe();var t=yt(),r=Pi(),a=t.Transform;function l(f){if(!(this instanceof l))return new l(f);this._toSkip=f.skip,a.call(this,f)}r.inherits(l,a),l.prototype._transform=function(f,n,c){this._toSkip==0?this.push(f):this._toSkip>f.length?this._toSkip-=f.length:(this._toSkip!==f.length&&this.push(f.slice(this._toSkip)),this._toSkip=0),c()},e.exports=l}});fe();fe();var hn=Ue(yt()),pn=Ue(si());fe();var yn=Ue(yt());function bn(i,e){const t=[];let r;i.on("data",a=>t.push(a)),i.on("end",()=>{r||(r=!0,e(null,ve.Buffer.concat(t)))}),i.on("error",a=>{r||(r=!0,e(a))})}function gn(i){let e;return new yn.Transform({transform(t,r,a){e&&(t=ve.Buffer.concat([e,t]));const l=Math.floor(t.length/i)*i;l?t.length>l?(e=t.slice(l),this.push(t.slice(0,l))):(e=void 0,this.push(t)):e=e?ve.Buffer.concat([e,t]):t,a()},flush(t){e&&this.push(e),t()}})}function Li(i,e){const t=[];let r=0;return new yn.Transform({transform(a,l,f){t.push(a),r+=a.length,f()},flush(a){e(r);function l(){for(;t.length;)if(!i.write(t.shift()))return i.once("drain",l);i.end(),a()}l()}})}function ke(i){let e;const t=new Promise((r,a)=>{e=(l,f)=>{l?a(l):r(f)}});return i&&t.then(r=>i(null,r),i),[e,t]}var Mi=Ue(sn());fe();fe();var gr=class{constructor(i){this._tables[0][0][0]||this._precompute();let e,t,r,a,l;const f=this._tables[0][4],n=this._tables[1],c=i.length;let u=1;if(c!==4&&c!==6&&c!==8)throw new Error("invalid aes key size");for(this._key=[a=i.slice(0),l=[]],e=c;e<4*c+28;e++)r=a[e-1],(e%c===0||c===8&&e%c===4)&&(r=f[r>>>24]<<24^f[r>>16&255]<<16^f[r>>8&255]<<8^f[r&255],e%c===0&&(r=r<<8^r>>>24^u<<24,u=u<<1^(u>>7)*283)),a[e]=a[e-c]^r;for(t=0;e;t++,e--)r=a[t&3?e:e-4],e<=4||t<4?l[t]=r:l[t]=n[0][f[r>>>24]]^n[1][f[r>>16&255]]^n[2][f[r>>8&255]]^n[3][f[r&255]]}encrypt(i){return this._crypt(i,0)}decrypt(i){return this._crypt(i,1)}_precompute(){const i=this._tables[0],e=this._tables[1],t=i[4],r=e[4];let a,l,f;const n=[],c=[];let u,y,g,_,b,d;for(a=0;a<256;a++)c[(n[a]=a<<1^(a>>7)*283)^a]=a;for(l=f=0;!t[l];l^=u||1,f=c[f]||1)for(_=f^f<<1^f<<2^f<<3^f<<4,_=_>>8^_&255^99,t[l]=_,r[_]=l,g=n[y=n[u=n[l]]],d=g*16843009^y*65537^u*257^l*16843008,b=n[_]*257^_*16843008,a=0;a<4;a++)i[a][l]=b=b<<24^b>>>8,e[a][_]=d=d<<24^d>>>8;for(a=0;a<5;a++)i[a]=i[a].slice(0),e[a]=e[a].slice(0)}_crypt(i,e){if(i.length!==4)throw new Error("invalid aes block size");const t=this._key[e];let r=i[0]^t[0],a=i[e?3:1]^t[1],l=i[2]^t[2],f=i[e?1:3]^t[3],n,c,u;const y=t.length/4-2;let g,_=4;const b=[0,0,0,0],d=this._tables[e],P=d[0],T=d[1],A=d[2],h=d[3],E=d[4];for(g=0;g<y;g++)n=P[r>>>24]^T[a>>16&255]^A[l>>8&255]^h[f&255]^t[_],c=P[a>>>24]^T[l>>16&255]^A[f>>8&255]^h[r&255]^t[_+1],u=P[l>>>24]^T[f>>16&255]^A[r>>8&255]^h[a&255]^t[_+2],f=P[f>>>24]^T[r>>16&255]^A[a>>8&255]^h[l&255]^t[_+3],_+=4,r=n,a=c,l=u;for(g=0;g<4;g++)b[e?3&-g:g]=E[r>>>24]<<24^E[a>>16&255]<<16^E[l>>8&255]<<8^E[f&255]^t[_++],n=r,r=a,a=l,l=f,f=n;return b}};gr.prototype._tables=[[[],[],[],[],[]],[[],[],[],[],[]]];function ki(i){let e,t,r,a=[2479122403,2108737444,3518906241,22203222];const l=ve.Buffer.alloc(Math.ceil(i.length/4)*4);for(l.set(i,0),r=65536;r--;)for(t=0;t<i.length;t+=16){const n=[0,0,0,0];for(e=0;e<16;e+=4)e+t<i.length&&(n[e/4]=l.readInt32BE(e+t));a=new gr(n).encrypt(a)}const f=ve.Buffer.allocUnsafe(16);for(e=0;e<4;e++)f.writeInt32BE(a[e],e*4);return f}function Ni(i,e,t){const r=ve.Buffer.from(e.s,"base64"),a=1e5,l="SHA-512";window.crypto.subtle.importKey("raw",i,"PBKDF2",!1,["deriveKey","deriveBits"]).then(f=>window.crypto.subtle.deriveBits({name:"PBKDF2",salt:r,iterations:a,hash:{name:l}},f,256)).then(f=>{t(null,ve.Buffer.from(f))}).catch(t)}var Ge=class{constructor(i){if(i.length!==16)throw Error("Wrong key length. Key must be 128bit.");const e=[];for(let t=0;t<4;t++)e[t]=i.readInt32BE(t*4);this.aes=new gr(e)}encryptCBC(i){let e=[0,0,0,0];const t=Array(4);let r,a;for(r=0;r<i.length;r+=16){for(a=0;a<4;a++)t[a]=i.readUInt32BE(r+a*4)^e[a];for(e=this.aes.encrypt(t),a=0;a<4;a++)i.writeInt32BE(e[a],r+a*4)}}decryptCBC(i){let e=[0,0,0,0],t=Array(4),r=Array(4),a,l;for(a=0;a<i.length;a+=16){for(l=0;l<4;l++)t[l]=i.readUInt32BE(a+l*4);for(r=t,t=this.aes.decrypt(t),l=0;l<4;l++)i.writeInt32BE(t[l]^e[l],a+l*4);e=r}}stringhash(i){let e=[0,0,0,0];for(let r=0;r<i.length;r+=4)if(i.length-r<4){const a=i.length-r;e[r/4&3]^=i.readIntBE(r,a)<<(4-a)*8}else e[r/4&3]^=i.readInt32BE(r);for(let r=16384;r--;)e=this.aes.encrypt(e);const t=ve.Buffer.allocUnsafe(8);return t.writeInt32BE(e[0],0),t.writeInt32BE(e[2],4),t}encryptECB(i){let e=[];for(let t=0;t<i.length;t+=16)e[0]=i.readInt32BE(t),e[1]=i.readInt32BE(t+4),e[2]=i.readInt32BE(t+8),e[3]=i.readInt32BE(t+12),e=this.aes.encrypt(e),i.writeInt32BE(e[0],t),i.writeInt32BE(e[1],t+4),i.writeInt32BE(e[2],t+8),i.writeInt32BE(e[3],t+12);return i}decryptECB(i){let e=[];for(let t=0;t<i.length;t+=16)e[0]=i.readInt32BE(t),e[1]=i.readInt32BE(t+4),e[2]=i.readInt32BE(t+8),e[3]=i.readInt32BE(t+12),e=this.aes.decrypt(e),i.writeInt32BE(e[0],t),i.writeInt32BE(e[1],t+4),i.writeInt32BE(e[2],t+8),i.writeInt32BE(e[3],t+12);return i}},wn=class{constructor(i,e,t=0){this.aes=i,this.nonce=e.slice(0,8),this.increment=131072,this.posNext=this.increment,this.pos=0,this.ctr=ve.Buffer.alloc(16),this.nonce.copy(this.ctr,0),this.incrementCTR(t/16)}encrypt(i){for(let e=0;e<i.length;e+=16){const t=this.aes.encryptECB(ve.Buffer.from(this.ctr));for(let r=0;r<16;r++)i[e+r]^=t[r];this.incrementCTR()}return i}decrypt(i){for(let e=0;e<i.length;e+=16){const t=this.aes.encryptECB(ve.Buffer.from(this.ctr));for(let r=0;r<16;r++)i[e+r]^=t[r];this.incrementCTR()}return i}incrementCTR(i=1){const e=this.ctr;let t=15,r;for(;i!==0;)r=(i+e[t])%256,i=Math.floor((i+e[t])/256),e[t]=r,t-=1,t<0&&(t=15)}},_n=class{constructor(i,e,t=0){this.aes=i,this.nonce=e.slice(0,8),this.increment=131072,this.posNext=this.increment,this.pos=0,this.mac=ve.Buffer.alloc(16),this.nonce.copy(this.mac,0),this.nonce.copy(this.mac,8),this.macs=[]}condense(){this.mac&&(this.macs.push(this.mac),this.mac=void 0);const i=ve.Buffer.alloc(16);for(let t=0;t<this.macs.length;t++){for(let r=0;r<16;r++)i[r]^=this.macs[t][r];this.aes.encryptECB(i)}const e=ve.Buffer.allocUnsafe(8);return e.writeInt32BE(i.readInt32BE(0)^i.readInt32BE(4),0),e.writeInt32BE(i.readInt32BE(8)^i.readInt32BE(12),4),e}update(i){for(let e=0;e<i.length;e+=16){for(let t=0;t<16;t++)this.mac[t]^=i[e+t];this.aes.encryptECB(this.mac),this.checkBounding()}}checkBounding(){this.pos+=16,this.pos>=this.posNext&&(this.macs.push(ve.Buffer.from(this.mac)),this.nonce.copy(this.mac,0),this.nonce.copy(this.mac,8),this.increment<1048576&&(this.increment+=131072),this.posNext+=this.increment)}};function We(i){return typeof i=="string"?wr(i):i}function xe(i){return i.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function wr(i){return ve.Buffer.from(i,"base64")}function at(i){return new Ge(mn(i).slice(0,16))}function ji(i,e={}){const t=e.start||0;if(t!==0)throw Error("Encryption cannot start midstream otherwise MAC verification will fail.");i=We(i),i||(i=(0,Mi.default)(24)),i instanceof ve.Buffer||(i=ve.Buffer.from(i));let r=new hn.Transform({transform(n,c,u){f.update(n);const y=l.encrypt(n);u(null,ve.Buffer.from(y))},flush(n){r.mac=f.condense(),r.key=Ci(i,r.mac),n()}});if(i.length!==24)throw Error("Wrong key length. Key must be 192bit.");const a=new Ge(i.slice(0,16)),l=new wn(a,i.slice(16),t),f=new _n(a,i.slice(16));return r=(0,pn.default)(gn(16),r),r}function Di(i,e={}){const t=e.start||0;if(t!==0&&(e.disableVerification=!0),t%16!==0)throw Error("start argument of megaDecrypt must be a multiple of 16");i=We(i),i instanceof ve.Buffer||(i=ve.Buffer.from(i));const r=at(i),a=new wn(r,i.slice(16),t),l=!e.disableVerification&&new _n(r,i.slice(16));let f=new hn.Transform({transform(n,c,u){const y=a.decrypt(n);l&&l.update(y),u(null,ve.Buffer.from(y))},flush(n){if(l&&(f.mac=l.condense()),!e.disableVerification&&!f.mac.equals(i.slice(24))){n(Error("MAC verification failed"));return}n()}});return f=(0,pn.default)(gn(16),f),f}function mn(i){const e=ve.Buffer.alloc(32);i.copy(e);for(let t=0;t<16;t++)e.writeUInt8(e.readUInt8(t)^e.readUInt8(16+t,!0),t);return e}function Ci(i,e){const t=ve.Buffer.alloc(32);i.copy(t),e.copy(t,24);for(let r=0;r<16;r++)t.writeUInt8(t.readUInt8(r)^t.readUInt8(16+r),r);return t}function Ui(i,e){if(i.length!==e.length)return!1;const t=i.length;let r=0;for(let a=0;a<t;a++)r|=i[a]^e[a];return r===0}fe();fe();var Ke={},He=28,vn=1<<He,Me=vn-1,Qe=He>>1,Et=(1<<Qe)-1,Fi=Math.log(2);function It(i){const e=[];for(;i-- >0;)e[i]=0;return e}function Tt(i){let e=i.length;if(i[e-1])return i;for(;e>1&&i[e-1]===0;)e--;return i.slice(0,e)}function Wi(i){let e=1,t;return(t=i>>>16)!==0&&(i=t,e+=16),(t=i>>8)!==0&&(i=t,e+=8),(t=i>>4)!==0&&(i=t,e+=4),(t=i>>2)!==0&&(i=t,e+=2),(t=i>>1)!==0&&(i=t,e+=1),e}function En(i,e){const t=i.length,r=e.length;if(t<r)return En(e,i);const a=[];let l=0,f=0;for(;f<r;f++)l+=i[f]+e[f],a[f]=l&Me,l>>>=He;for(;f<t;f++)l+=i[f],a[f]=l&Me,l>>>=He;return l&&(a[f]=l),a}function Ce(i,e){const t=i.length,r=e.length;if(r>t)return[];if(r===t){if(e[r-1]>i[r-1])return[];if(r===1)return[i[0]-e[0]]}const a=[];let l=0,f;for(f=0;f<r;f++)l+=i[f]-e[f],a[f]=l&Me,l>>=He;for(;f<t;f++)l+=i[f],a[f]=l&Me,l>>=He;return l?[]:Tt(a)}function Zt(i,e,t,r,a){const l=t&Et,f=t>>Qe,n=r&Et,c=r>>Qe,u=f*n+c*l,y=l*n+((u&Et)<<Qe)+i[e]+a;return i[e]=y&Me,a=f*c+(u>>Qe)+(y>>He),a}function qi(i){const e=i.length,t=2*e,r=It(t);let a=0,l,f;for(l=0;l<e;l++){for(a=Zt(r,2*l,i[l],i[l],0),f=l+1;f<e;f++)a=Zt(r,l+f,2*i[f],i[l],a);r[l+e]=a}return Tt(r)}function Ze(i,e){const t=i.length,r=e.length,a=It(t+r-1);let l,f,n;for(f=0;f<r;f++){for(l=0,n=0;n<t;n++)l=Zt(a,f+n,i[n],e[f],l);a[f+t]=l}return Tt(a)}function _t(i,e,t){let r=0;for(;e>=0&&t-- >0;)r=r*vn+i[e--];return r}function Sn(i,e){let t=i.length-1;const r=e.length-1;let a=t-r,l,f,n,c;if(t<r||t===r&&(i[t]<e[t]||t>0&&i[t]===e[t]&&i[t-1]<e[t-1]))return Ke.q=[0],Ke.mod=i,Ke;if(t===r&&_t(i,r,2)/_t(e,r,2)<4){for(l=i.concat(),f=0;n=Ce(l,e),n.length!==0;)l=n,f++;return Ke.q=[f],Ke.mod=l,Ke}const u=Math.floor(Math.log(e[r])/Fi)+1,y=He-u;l=i.concat();const g=e.concat();if(y){for(c=r;c>0;c--)g[c]=g[c]<<y&Me|g[c-1]>>u;for(g[0]=g[0]<<y&Me,l[t]&(Me<<u&Me)&&(l[++t]=0,a++),c=t;c>0;c--)l[c]=l[c]<<y&Me|l[c-1]>>u;l[0]=l[0]<<y&Me}let _;const b=It(a+1);let d=It(a).concat(g);for(;_=Ce(l,d),_.length!==0;)b[a]++,l=_;const P=g[r],T=_t(g,r,2);let A;for(c=t;c>r;c--){A=c-r-1,c>=l.length?b[A]=1:l[c]===P?b[A]=Me:b[A]=Math.floor(_t(l,c,2)/P);const h=_t(l,c,3);for(;b[A]*T>h;)b[A]--;d=d.slice(1),_=Ce(l,Ze([b[A]],d)),_.length===0&&(b[A]--,_=Ce(l,Ze([b[A]],d))),l=_}if(y){for(c=0;c<l.length-1;c++)l[c]=l[c]>>y|l[c+1]<<u&Me;l[l.length-1]>>=y}return Ke.q=Tt(b),Ke.mod=Tt(l),Ke}function $i(i,e){let t=0,r;for(let a=i.length-1;a>=0;a--)r=i[a],t=((r>>Qe)+(t<<Qe))%e,t=((r&Et)+(t<<Qe))%e;return t}function ut(i,e){if(e.length===1){if(i.length===1)return[i[0]%e[0]];if(e[0]<Et)return[$i(i,e[0])]}return Sn(i,e).mod}function St(i,e,t){const r=i.length-(e.length<<1);if(r>0)return St(i.slice(0,r).concat(St(i.slice(r),e,t)),e,t);const a=e.length+1,l=e.length-1;let f;const n=Ze(i.slice(l),t).slice(a),c=i.slice(0,a),u=Ze(n,e).slice(0,a);let y=Ce(c,u);y.length===0&&(c[a]=1,y=Ce(c,u));for(let g=0;f=Ce(y,e),f.length!==0;g++)if(y=f,g>=3)return St(y,e,t);return y}function Or(i,e,t){let r=i.concat(),a=e.length-1,l=t.length*2,f=It(l+1);for(f[l]=1,f=Sn(f,t).q,l=Wi(e[a])-2;a>=0;a--){for(;l>=0;l-=1)r=St(qi(r),t,f),e[a]&1<<l&&(r=St(Ze(r,i),t,f));l=He-1}return r}function Gi(i,e,t,r,a){const l=Or(ut(i,t),ut(e,Ce(t,[1])),t),f=Or(ut(i,r),ut(e,Ce(r,[1])),r);let n=Ce(f,l);return n.length===0?(n=Ce(l,f),n=ut(Ze(n,a),r),n=Ce(r,n)):n=ut(Ze(n,a),r),En(Ze(n,t),l)}function An(i){let e=1;const t=[0];let r=0,a=256,l=i.length,f;if(l<2)return 0;const n=(l-2)*8,c=i.charCodeAt(0)*256+i.charCodeAt(1);if(c>n||c<n-8)return 0;for(let u=0;u<n;u++)(a<<=1)>255&&(a=1,f=i.charCodeAt(--l)),e>Me&&(e=1,t[++r]=0),f&a&&(t[r]|=e),e<<=1;return t}function Hi(i){let e=1,t=0;const r=[0];let a=1,l=0;const f=i.length*He;let n="",c;for(c=0;c<f;c++)i[t]&e&&(r[l]|=a),(a<<=1)>255&&(a=1,r[++l]=0),(e<<=1)>Me&&(e=1,t++);for(;l>=0&&r[l]===0;)l--;for(c=0;c<=l;c++)n=String.fromCharCode(r[c])+n;return n}function Vi(i){const e=[];for(let t=0;t<4;t++){const r=(i[0]*256+i[1]+7>>3)+2;if(e[t]=An(i.toString("binary").substr(0,r)),typeof e[t]=="number"){if(t!==4||i.length>=16)return!1;break}i=i.slice(r)}return e}function Ki(i,e){const t=An(i.toString("binary")),r=Hi(Gi(t,e[2],e[0],e[1],e[3]));return ve.Buffer.from(r,"binary")}fe();var zi=Ue(Je());et();et();fe();et();var Yi=globalThis.AbortController||lr,er=Yi,tr=4,Pr={1:"EINTERNAL (-1): An internal error has occurred. Please submit a bug report, detailing the exact circumstances in which this error occurred.",2:"EARGS (-2): You have passed invalid arguments to this command.",3:"EAGAIN (-3): A temporary congestion or server malfunction prevented your request from being processed. No data was altered. Retried "+tr+" times.",4:"ERATELIMIT (-4): You have exceeded your command weight per time quota. Please wait a few seconds, then try again (this should never happen in sane real-life applications).",5:"EFAILED (-5): The upload failed. Please restart it from scratch.",6:"ETOOMANY (-6): Too many concurrent IP addresses are accessing this upload target URL.",7:"ERANGE (-7): The upload file packet is out of range or not starting and ending on a chunk boundary.",8:"EEXPIRED (-8): The upload target URL you are trying to access has expired. Please request a fresh one.",9:"ENOENT (-9): Object (typically, node or user) not found. Wrong password?",10:"ECIRCULAR (-10): Circular linkage attempted",11:"EACCESS (-11): Access violation (e.g., trying to write to a read-only share)",12:"EEXIST (-12): Trying to create an object that already exists",13:"EINCOMPLETE (-13): Trying to access an incomplete resource",14:"EKEY (-14): A decryption operation failed (never returned by the API)",15:"ESID (-15): Invalid or expired user session, please relogin",16:"EBLOCKED (-16): User blocked",17:"EOVERQUOTA (-17): Request over quota",18:"ETEMPUNAVAIL (-18): Resource temporarily not available, please try again later",19:"ETOOMANYCONNECTIONS (-19)",24:"EGOINGOVERQUOTA (-24)",25:"EROLLEDBACK (-25)",26:"EMFAREQUIRED (-26): Multi-Factor Authentication Required",27:"EMASTERONLY (-27)",28:"EBUSINESSPASTDUE (-28)",29:"EPAYWALL (-29): ODQ paywall state",400:"ETOOERR (-400)",401:"ESHAREROVERQUOTA (-401)"},Ji="https://g.api.mega.co.nz/",Xi=null,Qi=null,Zi=class qe extends zi.EventEmitter{constructor(e,t={}){super(),this.keepalive=e,this.counterId=Math.random().toString().substr(2,10),this.gateway=t.gateway||Ji;const r="1.3.0",a=qe.getShouldAvoidUA();this.userAgent=t.userAgent===null||a?null:`${t.userAgent||""} megajs/${r}`.trim(),this.httpAgent=t.httpAgent||Xi,this.httpsAgent=t.httpsAgent||Qi,this.fetch=t.fetch||this.defaultFetch.bind(this),this.closed=!1}async defaultFetch(e,t){if(t||(t={}),t.agent||(t.agent=r=>r.protocol==="http:"?this.httpAgent:this.httpsAgent),this.userAgent&&(t.headers||(t.headers={}),t.headers["user-agent"]||(t.headers["user-agent"]=this.userAgent)),!qe.fetchModule)if(typeof globalThis.fetch=="function")qe.fetchModule=globalThis.fetch.bind(globalThis);else throw Error("globalThis.fetch not found!");return qe.fetchModule(e,t)}request(e,t,r=0){const a=e.a==="sml";if(this.closed&&!a)throw Error("API is closed");const[l,f]=ke(t),n={id:(this.counterId++).toString()};return this.sid&&(n.sid=this.sid),typeof e._querystring=="object"&&(Object.assign(n,e._querystring),delete e._querystring),this.fetch(`${this.gateway}cs?${new URLSearchParams(n)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([e])}).then(xr).then(c=>{if(this.closed&&!a)return;if(!c)return l(Error("Empty response"));c.length&&(c=c[0]);let u;if(typeof c=="number"&&c<0){if(c===-3&&r<tr)return setTimeout(()=>{this.request(e,l,r+1)},Math.pow(2,r+1)*1e3);u=Error(Pr[-c])}else this.keepalive&&c&&c.sn&&this.pull(c.sn);l(u,c)}).catch(c=>{l(c)}),f}pull(e,t=0){const r=new er,a=qe.handleForceHttps()?1:0;this.sn=r,this.fetch(`${this.gateway}sc?${new URLSearchParams({sn:e,ssl:a,sid:this.sid})}`,{method:"POST",signal:r.signal}).then(xr).then(l=>{if(this.sn=void 0,!this.closed){if(typeof l=="number"&&l<0){if(l===-3&&t<tr)return setTimeout(()=>{this.pull(e,t+1)},Math.pow(2,t+1)*1e3);this.emit("error",Error(Pr[-l]))}l.w?this.wait(l.w,e):l.sn&&(l.a&&this.emit("sc",l.a),this.pull(l.sn))}}).catch(eo).catch(l=>{this.emit("error",l)})}wait(e,t){const r=new er;this.sn=r,this.fetch(e,{method:"POST",signal:r.signal}).catch(()=>{}).then(()=>{this.sn=void 0,this.pull(t)})}close(){this.sn&&this.sn.abort(),this.closed=!0}static getGlobalApi(){return qe.globalApi||(qe.globalApi=new qe),qe.globalApi}static handleForceHttps(e){return e??!!globalThis.isSecureContext}static getShouldAvoidUA(){let e;try{globalThis.Headers()}catch(t){e=t.message}return!((globalThis.fetch+"").length===38&&e.includes("Headers"))}};function xr(i){if(i.statusText==="Server Too Busy")return-3;if(!i.ok)throw Error(`Server returned error: ${i.statusText}`);return i.json()}function eo(i){if(i.name!=="AbortError")throw i}var ct=Zi,to=Ue(Je());fe();fe();var ro=Ue(Je()),no=Ue(yt()),io=Ue(xi()),oo=class ot extends ro.EventEmitter{constructor(e){if(super(),this.checkConstructorArgument(e.downloadId),this.checkConstructorArgument(e.key),this.checkConstructorArgument(e.loadedFile),this.downloadId=e.downloadId,this.key=e.key?We(e.key):null,this.type=e.directory?1:0,this.directory=!!e.directory,this.api=e.api||ct.getGlobalApi(),!(this.api instanceof ct))throw Error("api must be a instance of API");this.loadedFile=e.loadedFile}get createdAt(){if(typeof this.timestamp<"u")return this.timestamp*1e3}checkConstructorArgument(e){if(typeof e=="string"&&!/^[\w-]+$/.test(e))throw Error(`Invalid argument: "${e}"`)}loadMetadata(e,t){if(this.size=t.s||0,this.timestamp=t.ts||0,this.type=t.t,this.directory=!!t.t,this.owner=t.u,this.name=null,!e||!t.k)return;const r=t.k.split(":");this.key=We(r[r.length-1]),e.decryptECB(this.key),t.a&&this.decryptAttributes(t.a)}decryptAttributes(e){if(!this.key)return this;e=wr(e),at(this.key).decryptCBC(e);const t=ot.unpackAttributes(e);t&&this.parseAttributes(t)}parseAttributes(e){this.attributes=e,this.name=e.n,this.label=Rn[e.lbl||0],this.favorited=!!e.fav}loadAttributes(e){const[t,r]=ke(e),a=this.directory?{a:"f",c:1,ca:1,r:1,_querystring:{n:this.downloadId}}:{a:"g",p:this.downloadId};return this.api.request(a,(l,f)=>{if(l)return t(l);if(this.directory){const n=Object.create(null),c=f.f,u=c.find(g=>g.k&&g.h===g.k.split(":")[0]),y=this.key?new Ge(this.key):null;this.nodeId=u.h,this.timestamp=u.ts,n[u.h]=this;for(const g of c){if(g===u)continue;const _=new ot(g,this.storage);_.loadMetadata(y,g),_.downloadId=[this.downloadId,g.h],n[g.h]=_}for(const g of c){const _=n[g.p];if(_){const b=n[g.h];_.children||(_.children=[]),_.children.push(b),b.parent=_}}if(this.loadMetadata(y,u),this.key&&!this.attributes)return t(Error("Attributes could not be decrypted with provided key."));if(this.loadedFile){const g=n[this.loadedFile];typeof g>"u"?t(Error("Node (file or folder) not found in folder")):t(null,g)}else t(null,this)}else{if(this.size=f.s,this.decryptAttributes(f.at),this.key&&!this.attributes)return t(Error("Attributes could not be decrypted with provided key."));t(null,this)}}),r}download(e,t){typeof e=="function"&&(t=e,e={}),e||(e={});const r=e.start||0,a=e.returnCiphertext?r:r-r%16;let l=e.end||null;const f=e.maxConnections||4,n=e.initialChunkSize||128*1024,c=e.chunkSizeIncrement||128*1024,u=e.maxChunkSize||1024*1024,g={a:"g",g:1,ssl:ct.handleForceHttps(e.forceHttps)?2:0};if(this.nodeId?g.n=this.nodeId:Array.isArray(this.downloadId)?(g._querystring={n:this.downloadId[0]},g.n=this.downloadId[1]):g.p=this.downloadId,this.directory)throw Error("Can't download: folder download isn't supported");if(!this.key&&!e.returnCiphertext)throw Error("Can't download: key isn't defined");const _=this.key&&!e.returnCiphertext?Di(this.key,{start:a,disableVerification:a!==0||l!==null}):new no.PassThrough,b=a===r?_:_.pipe(new io.default({skip:r-a})),d=e.handleRetries||ot.defaultHandleRetries;return this.api.request(g,(P,T)=>{if(P)return b.emit("error",P);if(typeof T.g!="string"||T.g.substr(0,4)!=="http")return b.emit("error",Error("MEGA servers returned an invalid response, maybe caused by rate limit"));if(T.s===0)return b.end();if(l||(l=T.s-1),r>l)return b.emit("error",Error("You can't download past the end of the file."));function A(F){if(F.status!==200){if(F.status===509){const z=F.headers.get("x-mega-time-left"),ee=Error("Bandwidth limit reached: "+z+" seconds until it resets");ee.timeLimit=z,b.emit("error",ee);return}b.emit("error",Error("MEGA returned a "+F.status+" status code"))}}function h(F){b.emit("error",F)}let E=0;if(b.on("data",F=>{E+=F.length,b.emit("progress",{bytesLoaded:E,bytesTotal:T.s})}),f===1){const F=new er;b.on("close",()=>{F.abort()}),this.api.fetch(T.g+"/"+a+"-"+l,{signal:F.signal}).then(z=>{A(z);const ee=z.body;if(ee)if(ee.pipe)z.body.pipe(_);else if(ee.getReader){const K=ee.getReader(),ue=({done:pe,value:we})=>{if(pe)_.end();else return _.write(we),K.read().then(ue)};K.read().then(ue)}else throw Error("Single connection streaming not supported by fetch");else throw Error("Missing response body")}).catch(h);return}const x={};let S=0,O=0,j=!1,G=a,Z=n;b.on("error",()=>{j=!0}),b.on("close",()=>{j=!0});const Y=()=>{if(G>l){j=!0,S===O&&_.end();return}const F=G,z=Math.min(l,F+Z-1),ee=S++;let K=0;const ue=()=>{K++,this.api.fetch(T.g+"/"+F+"-"+z).then(pe=>(A(pe),pe.arrayBuffer())).then(pe=>{const we=ve.Buffer.from(pe);x[ee]=we,O===ee&&ae()},pe=>{d(K,pe,we=>{we?h(we):ue()})})};ue(),G=z+1,Z<u&&(Z=Z+c)},ae=()=>{let F;for(;;){const z=x[O];if(!z||(F=!_.write(z),delete x[O],O++,F))break}j&&S===O&&_.end(),F?_.once("drain",ae):Y()};for(let F=0;F<f;F++)Y()}),t&&bn(b,t),b}downloadBuffer(e,t){const[r,a]=ke(t);return this.download(e,r),a}link(e,t){arguments.length===1&&typeof e=="function"&&(t=e,e={noKey:!1});const[r,a]=ke(t);typeof e=="boolean"&&(e={noKey:e});let l=`https://mega.nz/${this.directory?"folder":"file"}/${this.downloadId}`;return!e.noKey&&this.key&&(l+=`#${xe(this.key)}`),!e.noKey&&this.loadedFile&&(l+=`/file/${this.loadedFile}`),r(null,l),a}find(e,t){if(!this.children)throw Error("You can only call .find on directories");if(typeof e=="string"){const r=e;e=a=>a.name===r}else if(Array.isArray(e)){const r=e;e=a=>r.includes(a.name)}if(typeof e!="function")throw Error("Query must be a file matching function, an array of valid file names or a string with a file name");return this.children.reduce((r,a)=>r||(a.children?t?a.find(e,t):null:e(a)?a:null),null)}filter(e,t){if(!this.children)throw Error("You can only call .filter on directories");if(typeof e=="string"){const r=e;e=a=>a.name===r}else if(Array.isArray(e)){const r=e;e=a=>r.includes(a.name)}if(typeof e!="function")throw Error("Query must be a file matching function, an array of valid file names or a string with a file name");return this.children.reduce((r,a)=>a.children?t?r.concat(a.filter(e,t)):r:e(a)?r.concat(a):r,[])}navigate(e){if(!this.children)throw Error("You can only call .navigate on directories");if(typeof e=="string")e=e.split("/");else if(!Array.isArray(e))throw Error("Query must be an array or a string");return e.reduce((t,r)=>t&&t.children&&t.children.find(a=>a.name===r),this)}static fromURL(e,t={}){if(typeof e=="object")return new ot(e);const r=new URL(e);if(r.hostname!=="mega.nz"&&r.hostname!=="mega.co.nz")throw Error("Invalid URL: wrong hostname");if(!r.hash)throw Error("Invalid URL: no hash");if(r.pathname.match(/\/(file|folder)\//)!==null){const a=r.hash.substr(1).split("/file/"),l=r.pathname.substring(r.pathname.lastIndexOf("/")+1,r.pathname.length+1),f=a[0];if(l&&!f||!l&&f)throw Error("Invalid URL: too few arguments");return new ot({downloadId:l,key:f,directory:r.pathname.indexOf("/folder/")>=0,loadedFile:a[1],...t})}else{const a=r.hash.split("!");if(a[0]!=="#"&&a[0]!=="#F")throw Error("Invalid URL: format not recognized");if(a.length<=1)throw Error("Invalid URL: too few arguments");if(a.length>=(a[0]==="#"?4:5))throw Error("Invalid URL: too many arguments");return new ot({downloadId:a[1],key:a[2],directory:a[0]==="#F",loadedFile:a[3],...t})}}static unpackAttributes(e){let t=0;for(;t<e.length&&e.readUInt8(t);)t++;if(e=e.slice(0,t).toString(),e.substr(0,6)==='MEGA{"')try{return JSON.parse(e.substr(4))}catch{}}static defaultHandleRetries(e,t,r){e>8?r(t):setTimeout(r,1e3*Math.pow(2,e))}},Rn=["","red","orange","yellow","green","blue","purple","grey"],$e=oo,Gt=Ue(sn()),Lr=Ue(yt()),Mr={},ao=class vt extends $e{constructor(e,t){if(super(e),this.storage=t,this.api=t.api,this.nodeId=e.h,this.timestamp=e.ts,this.type=e.t,this.directory=!!this.type,e.k){const r=e.k.split("/");let a=t.aes;for(const l of r){const f=l.split(":")[0];if(f===t.user){e.k=l;break}const n=t.shareKeys[f];if(n){e.k=l,a=Mr[f],a||(a=Mr[f]=new Ge(n));break}}this.loadMetadata(a,e)}}loadAttributes(){throw Error("This is not needed for files loaded from logged in sessions")}mkdir(e,t){if(!this.directory)throw Error("node isn't a directory");const[r,a]=ke(t);if(typeof e=="string"&&(e={name:e}),e.attributes||(e.attributes={}),e.name&&(e.attributes.n=e.name),!e.attributes.n)throw Error("file name is required");if(e.target||(e.target=this),e.key||(e.key=ve.Buffer.from((0,Gt.default)(16))),e.key.length!==16)throw Error("wrong key length, must be 128bit");const l=e.key,f=vt.packAttributes(e.attributes);at(l).encryptCBC(f);const n=ve.Buffer.from(l);this.storage.aes.encryptECB(n);const c={a:"p",t:e.target.nodeId?e.target.nodeId:e.target,n:[{h:"xxxxxxxx",t:1,a:xe(f),k:xe(n)}]},u=At(this.storage.shareKeys,this);return u.length>0&&(c.cr=Pt(this.storage,[{nodeId:"xxxxxxxx",key:l}],u)),this.api.request(c,(y,g)=>{if(y)return r(y);const _=this.storage._importFile(g.f[0]);this.storage.emit("add",_),r(null,_)}),a}upload(e,t,r){if(!this.directory)throw Error("node is not a directory");arguments.length===2&&typeof t=="function"&&([r,t]=[t,null]);const[a,l]=ke(r);if(typeof e=="string"&&(e={name:e}),e.attributes||(e.attributes={}),e.name&&(e.attributes.n=e.name),!e.attributes.n)throw Error("File name is required.");if(!(typeof e.size=="number"&&e.size>=0)&&!(t&&typeof t.pipe!="function"&&typeof t.length=="number")&&!e.allowUploadBuffering)throw Error("Specify a file size or set allowUploadBuffering to true");e.target||(e.target=this);let f,n=We(e.key);n||(n=(0,Gt.default)(24)),n instanceof ve.Buffer||(n=ve.Buffer.from(n));const c=e.uploadCiphertext?32:24;if(n.length!==c)throw Error("Wrong key length. Key must be 192bit");e.uploadCiphertext&&(f=n,n=mn(n).slice(0,24)),e.key=n;const u=[],y=(b,d,P,T)=>{if(b)return _(b);if(!P||P.length===0){_(Error("Server returned a invalid response while uploading"));return}const A=Number(P.toString());if(A<0){_(Error("Server returned error "+A+" while uploading"));return}if(u[d]=P,d===0&&!f&&(f=T.key),e.thumbnailImage&&!u[1]||e.previewImage&&!u[2]||!u[0])return;const h=vt.packAttributes(e.attributes);at(f).encryptCBC(h);const E=ve.Buffer.from(f);this.storage.aes.encryptECB(E);const x={h:xe(u[0]),t:0,a:xe(h),k:xe(E)};u.length!==1&&(x.fa=u.slice(1).map((j,G)=>G+"*"+xe(j)).filter(j=>j).join("/"));const S={a:"p",t:e.target.nodeId?e.target.nodeId:e.target,n:[x]},O=At(this.storage.shareKeys,this);O.length>0&&(S.cr=Pt(this.storage,[{nodeId:x.h,key:f}],O)),this.api.request(S,(j,G)=>{if(j)return _(j);const Z=this.storage._importFile(G.f[0]);this.storage.emit("add",Z),g.emit("complete",Z),a&&a(null,Z)})};e.thumbnailImage&&this._uploadAttribute(e,e.thumbnailImage,1,y),e.previewImage&&this._uploadAttribute(e,e.previewImage,2,y);const g=this._upload(e,t,0,y);function _(b){g.listenerCount("error")?g.emit("error",b):a(b)}return g.complete=l,g}_upload(e,t,r,a){const l=e.uploadCiphertext?new Lr.PassThrough:ji(e.key);let f=l,n=e.size;return t&&typeof t.pipe!="function"&&(n=t.length,f.end(t)),n!=null?(n===0&&l.end(),this._uploadWithSize(f,n,l,r,e,a)):f=Li(f,c=>{this._uploadWithSize(f,c,l,r,e,a)}),t&&typeof t.pipe=="function"&&t.pipe(f),f}_uploadAttribute(e,t,r,a){const l=(f,n)=>{if(f)return a(f);const c=n.length,u=Math.ceil(c/16)*16-c;u!==0&&(n=ve.Buffer.concat([n,ve.Buffer.alloc(u)])),(e.handle?at(e.key):new Ge(e.key.slice(0,16))).encryptCBC(n);const g=new Lr.PassThrough;g.end(n),this._uploadWithSize(g,n.length,g,r,e,a)};if(t instanceof ve.Buffer){l(null,t);return}bn(t,l)}_uploadWithSize(e,t,r,a,l,f){const n=ct.handleForceHttps(l.forceHttps)?2:0,c=a===0?{a:"u",ssl:n,s:t,ms:0,r:0,e:0,v:2}:{a:"ufa",ssl:n,s:t};l.handle&&(c.h=l.handle);const u=a===0?l.initialChunkSize||128*1024:t,y=l.chunkSizeIncrement||128*1024,g=l.maxChunkSize||1024*1024,_=l.maxConnections||4,b=l.handleRetries||$e.defaultHandleRetries;let d=u,P=0,T=!1,A=0,h,E,x,S,O,j=0;const G=()=>{S=Math.min(d,t-A),E=ve.Buffer.alloc(S),P++,d<g&&(d+=y),O=0,h&&(h.copy(E),O=Math.min(h.length,S),h=h.length>S?h.slice(S):null),O===S?Z():(T=!0,ae())},Z=()=>{const F=A,z=E;let ee=0;const K=()=>{ee++,this.api.fetch(x+"/"+(a===0?F:a-1),{method:"POST",body:z,headers:{"content-length":z.length}}).then(ue=>{if(ue.status!==200)throw Error("MEGA returned a "+ue.status+" status code");return ue.arrayBuffer()}).then(ue=>{j+=z.length,e.emit("progress",{bytesLoaded:Y,bytesUploaded:j,bytesTotal:t});const pe=ve.Buffer.from(ue);pe.length>0?(r.end(),Ee.nextTick(()=>{f(null,a,pe,r)})):A<t&&!T&&G()},ue=>{b(ee,ue,pe=>{pe?e.emit("error",pe):K()})})};K(),E=null,A+=S,A<t&&!T&&P<_&&G()};let Y=0;const ae=()=>{for(;;){const F=r.read();if(F===null){r.once("readable",ae);break}if(Y+=F.length,F.copy(E,O),O+=F.length,O>=S){T=!1,h=F.slice(F.length-(O-S)),Z();break}}};r.on("end",()=>{t&&Y!==t&&e.emit("error",Error("Specified data size does not match: "+t+" !== "+Y))}),this.api.request(c,(F,z)=>{if(F)return f(F);x=z.p,G()})}uploadAttribute(e,t,r){const[a,l]=ke(r);if(typeof e=="string"&&(e=["thumbnail","preview"].indexOf(e)),e!==0&&e!==1)throw Error("Invalid attribute type");return this._uploadAttribute({key:this.key,handle:this.nodeId},t,e+1,(f,n,c,u)=>{if(f)return a(f);const y={a:"pfa",n:this.nodeId,fa:e+"*"+xe(c)};this.api.request(y,(g,_)=>{if(g)return a(g);a(null,this)})}),l}delete(e,t){return typeof e=="function"&&(t=e,e=void 0),typeof e>"u"&&(e=this.parent===this.storage.trash),e?this.api.request({a:"d",n:this.nodeId},t):this.moveTo(this.storage.trash,t)}moveTo(e,t){if(typeof e=="string"&&(e=this.storage.files[e]),!(e instanceof $e))throw Error("target must be a folder or a nodeId");const r={a:"m",n:this.nodeId,t:e.nodeId},a=At(this.storage.shareKeys,e);return a.length>0&&(r.cr=Pt(this.storage,[this],a)),this.api.request(r,t)}setAttributes(e,t){const[r,a]=ke(t);Object.assign(this.attributes,e);const l=vt.packAttributes(this.attributes);return at(this.key).encryptCBC(l),this.api.request({a:"a",n:this.nodeId,at:xe(l)},f=>{this.parseAttributes(this.attributes),r(f)}),a}rename(e,t){return this.setAttributes({n:e},t)}setLabel(e,t){if(typeof e=="string"&&(e=Rn.indexOf(e)),typeof e!="number"||Math.floor(e)!==e||e<0||e>7)throw Error("label must be a integer between 0 and 7 or a valid label name");return this.setAttributes({lbl:e},t)}setFavorite(e,t){return this.setAttributes({fav:e?1:0},t)}link(e,t){arguments.length===1&&typeof e=="function"&&(t=e,e={noKey:!1}),typeof e=="boolean"&&(e={noKey:e}),e||(e={});const r=e.__folderKey;if(this.directory&&!r)return this.shareFolder(e,t);const[a,l]=ke(t);return this.api.request({a:"l",n:this.nodeId},(f,n)=>{if(f)return a(f);let c=`https://mega.nz/${r?"folder":"file"}/${n}`;!e.noKey&&this.key&&(c+=`#${xe(r||this.key)}`),a(null,c)}),l}shareFolder(e,t){if(!this.directory)throw Error("node isn't a folder");const r=this.nodeId,a=this.storage.shareKeys[r];if(a)return this.link(Object.assign({__folderKey:a},e),t);let l=We(e.key);l||(l=(0,Gt.default)(16)),l instanceof ve.Buffer||(l=ve.Buffer.from(l));const[f,n]=ke(t);if(l.length!==16)return f(Error("share key must be 16 byte / 22 characters")),n;this.storage.shareKeys[r]=l;const c=ve.Buffer.from(r+r);this.storage.aes.encryptECB(c);const u={a:"s2",n:r,s:[{u:"EXP",r:0}],ok:xe(this.storage.aes.encryptECB(ve.Buffer.from(l))),ha:xe(c),cr:Pt(this.storage,this)};return this.api.request(u,y=>{if(y)return f(y);this.link(Object.assign({__folderKey:l},e),f)}),n}unshare(e){return this.directory?this.unshareFolder(e):this.api.request({a:"l",n:this.nodeId,d:1},e)}unshareFolder(e){if(!this.directory)throw Error("node isn't a folder");return delete this.storage.shareKeys[this.nodeId],this.api.request({a:"s2",n:this.nodeId,s:[{u:"EXP",r:""}]},e)}importFile(e,t){const[r,a]=ke(t);if(!this.directory)throw Error("importFile can only be called on directories");if(typeof e=="string"&&(e=$e.fromURL(e)),!(e instanceof $e))throw Error("First argument of importFile should be a File or a URL string");if(!e.key)return r(Error("Can't import files without encryption keys")),a;const l=(f,n)=>{if(f)return r(f);const c=vt.packAttributes(n.attributes);at(n.key).encryptCBC(c);const u=Array.isArray(n.downloadId)?n.downloadId[1]:n.downloadId,y={a:"p",t:this.nodeId,n:[{ph:u,t:0,a:xe(c),k:xe(this.storage.aes.encryptECB(n.key))}]};this.api.request(y,(g,_)=>{if(g)return r(g);const b=this.storage._importFile(_.f[0]);this.storage.emit("add",b),r(null,b)})};return e.attributes?l(null,e):e.loadAttributes(l),a}static packAttributes(e){let t=JSON.stringify(e);t=ve.Buffer.from(`MEGA${t}`);const r=ve.Buffer.alloc(Math.ceil(t.length/16)*16);return t.copy(r),r}};function Pt(i,e,t){const r=i.shareKeys;Array.isArray(e)||(e=In(e)),t||(t=e.map(l=>At(r,l)).reduce((l,f)=>l.concat(f)).filter((l,f,n)=>f===n.indexOf(l)));const a=[t,e.map(l=>l.nodeId),[]];for(let l=t.length;l--;){const f=new Ge(r[t[l]]);for(let n=e.length;n--;){const c=ve.Buffer.from(e[n].key);c&&(c.length===32||c.length===16)&&a[2].push(l,n,xe(f.encryptECB(c)))}}return a}function In(i){return[i].concat((i.children||[]).map(In).reduce((e,t)=>e.concat(t),[]))}function At(i,e){const t=e.nodeId,r=e.parent,a=[];return i[t]&&a.push(t),r?a.concat(At(i,r)):a}var so=ao;(class Tn extends to.EventEmitter{constructor(e,t){super(),arguments.length===1&&typeof e=="function"&&(t=e,e={});const[r,a]=ke(t);this.ready=a,e.keepalive=e.keepalive===void 0?!0:!!e.keepalive,e.autoload=e.autoload===void 0?!0:!!e.autoload,e.autologin=e.autologin===void 0?!0:!!e.autologin,this.api=new ct(e.keepalive,e),this.files={},this.options=e,this.status="closed",e.autologin?this.login(r):Ee.nextTick(()=>{r(null,this)})}login(e){const[t,r]=ke(e);if(typeof this.options.email!="string")return Ee.nextTick(()=>{t(Error("starting a session without credentials isn't supported"))}),r;const a=()=>{this.status="ready",t(null,this),this.emit("ready",this)},l=u=>{this.api.request({a:"ug"},(y,g)=>{if(y)return u(y);this.name=g.name,this.user=g.u,this.options.autoload?this.reload(!0,_=>{if(_)return u(_);a()}):a()})};this.email=this.options.email.toLowerCase();const f=u=>{const y=ki(ve.Buffer.from(this.options.password)),g=new Ge(y),_=xe(g.stringhash(ve.Buffer.from(this.email))),b={a:"us",user:this.email,uh:_};c(b,g,u)},n=(u,y)=>{Ni(ve.Buffer.from(this.options.password),u,(g,_)=>{if(g)return y(g);const b=new Ge(_.slice(0,16)),d=xe(_.slice(16)),P={a:"us",user:this.email,uh:d};c(P,b,y)})},c=(u,y,g)=>{delete this.options.password,this.options.secondFactorCode&&(u.mfa=this.options.secondFactorCode.toString()),this.api.request(u,(_,b)=>{if(_)return g(_);this.key=We(b.k),y.decryptECB(this.key),this.aes=new Ge(this.key);const d=We(b.csid),P=this.aes.decryptECB(We(b.privk)),T=Vi(P);if(!T)throw Error("invalid credentials");const A=xe(Ki(d,T).slice(0,43));this.api.sid=this.sid=A,this.RSAPrivateKey=T,l(g)})};return this.api.request({a:"us0",user:this.email},(u,y)=>{if(u)return t(u);if(y.v===1)return f(t);if(y.v===2)return n(y,t);t(Error("Account version not supported"))}),this.status="connecting",r}reload(e,t){typeof e=="function"&&([e,t]=[t,e]);const[r,a]=ke(t);return this.status==="connecting"&&!e?(this.once("ready",()=>{this.reload(e,r)}),a):(this.mounts=[],this.api.request({a:"f",c:1},(l,f)=>{var n;if(l)return r(l);this.shareKeys=f.ok.reduce((c,u)=>{const y=u.h,g=this.aes.encryptECB(ve.Buffer.from(y+y));return Ui(We(u.ha),g)&&(c[y]=this.aes.decryptECB(We(u.k))),c},{});for(let c of f.f)if(c=this._importFile(c),f.ph!==void 0&&(c.shareId=(n=f.ph.find(u=>u.h===c.nodeId))==null?void 0:n.ph,c.shared=!!c.shareId,c.shared)){c.shareURL=`https://mega.nz/${c.directory?"folder":"file"}/${c.shareId}`;const u=c.directory?this.shareKeys[c.nodeId]:c.key;u&&(c.shareURL+="#"+xe(u))}r(null,this.mounts)}),this.api.on("sc",l=>{const f={};l.forEach(n=>{if(n.a==="u"){const c=this.files[n.n];c&&(c.timestamp=n.ts,c.decryptAttributes(n.at),c.emit("update"),this.emit("update",c))}else n.a==="d"?f[n.n]=!0:n.a==="t"&&n.t.f.forEach(c=>{const u=this.files[c.h];if(u){delete f[c.h];const y=u.parent;if(y.nodeId===c.p)return;y.children.splice(y.children.indexOf(u),1),u.parent=this.files[c.p],u.parent.children||(u.parent.children=[]),u.parent.children.push(u),u.emit("move",y),this.emit("move",u,y)}else this.emit("add",this._importFile(c))})}),Object.keys(f).forEach(n=>{const c=this.files[n],u=c.parent;u.children.splice(u.children.indexOf(c),1),this.emit("delete",c),c.emit("delete")})}),a)}_importFile(e){if(!this.files[e.h]){const t=this.files[e.h]=new so(e,this);if(e.t===lo&&(this.root=t,t.name="Cloud Drive"),e.t===uo&&(this.trash=t,t.name="Rubbish Bin"),e.t===fo&&(this.inbox=t,t.name="Inbox"),e.t>1&&this.mounts.push(t),e.p){const r=this.files[e.p];r&&(r.children||(r.children=[]),r.children.push(t),t.parent=r)}}return this.files[e.h]}mkdir(e,t){if(this.status!=="ready")throw Error("storage is not ready");return this.root.mkdir(e,t)}upload(e,t,r){if(this.status!=="ready")throw Error("storage is not ready");return this.root.upload(e,t,r)}find(e,t){if(this.status!=="ready")throw Error("storage is not ready");return this.root.find(e,t)}filter(e,t){if(this.status!=="ready")throw Error("storage is not ready");return this.root.filter(e,t)}navigate(e,t){if(this.status!=="ready")throw Error("storage is not ready");return this.root.navigate(e,t)}close(e){return this.status="closed",this.api.close(),this.api.request({a:"sml"},e)}getAccountInfo(e){const[t,r]=ke(e);return this.api.request({a:"uq",strg:1,xfer:1,pro:1},(a,l)=>{a&&t(a);const f={};f.type=l.utype,f.spaceUsed=l.cstrg,f.spaceTotal=l.mstrg,f.downloadBandwidthTotal=l.mxfer||Math.pow(1024,5)*10,f.downloadBandwidthUsed=l.caxfer||0,f.sharedBandwidthUsed=l.csxfer||0,f.sharedBandwidthLimit=l.srvratio,t(null,f)}),r}toJSON(){return{key:xe(this.key),sid:this.sid,name:this.name,user:this.user,options:this.options}}static fromJSON(e){const t=new Tn(Object.assign(e.options,{autoload:!1,autologin:!1}));return t.key=wr(e.key),t.aes=new Ge(t.key),t.api.sid=t.sid=e.sid,t.name=e.name,t.user=e.user,t}});var lo=2,fo=3,uo=4;$e.fromURL;/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/const rr=(i,e)=>e.some(t=>i instanceof t);let kr,Nr;function co(){return kr||(kr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ho(){return Nr||(Nr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nr=new WeakMap,Ht=new WeakMap,Dt=new WeakMap;function po(i){const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",f)},l=()=>{t(st(i.result)),a()},f=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",f)});return Dt.set(e,i),e}function yo(i){if(nr.has(i))return;const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",f),i.removeEventListener("abort",f)},l=()=>{t(),a()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",f),i.addEventListener("abort",f)});nr.set(i,e)}let ir={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return nr.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return st(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Bn(i){ir=i(ir)}function bo(i){return ho().includes(i)?function(...e){return i.apply(or(this),e),st(this.request)}:function(...e){return st(i.apply(or(this),e))}}function go(i){return typeof i=="function"?bo(i):(i instanceof IDBTransaction&&yo(i),rr(i,co())?new Proxy(i,ir):i)}function st(i){if(i instanceof IDBRequest)return po(i);if(Ht.has(i))return Ht.get(i);const e=go(i);return e!==i&&(Ht.set(i,e),Dt.set(e,i)),e}const or=i=>Dt.get(i);function wo(i,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const f=indexedDB.open(i,e),n=st(f);return r&&f.addEventListener("upgradeneeded",c=>{r(st(f.result),c.oldVersion,c.newVersion,st(f.transaction),c)}),t&&f.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),n.then(c=>{l&&c.addEventListener("close",()=>l()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),n}const _o=["get","getKey","getAll","getAllKeys","count"],mo=["put","add","delete","clear"],Vt=new Map;function jr(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Vt.get(e))return Vt.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=mo.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||_o.includes(t)))return;const l=async function(f,...n){const c=this.transaction(f,a?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(n.shift())),(await Promise.all([u[t](...n),a&&c.done]))[0]};return Vt.set(e,l),l}Bn(i=>({...i,get:(e,t,r)=>jr(e,t)||i.get(e,t,r),has:(e,t)=>!!jr(e,t)||i.has(e,t)}));const vo=["continue","continuePrimaryKey","advance"],Dr={},ar=new WeakMap,On=new WeakMap,Eo={get(i,e){if(!vo.includes(e))return i[e];let t=Dr[e];return t||(t=Dr[e]=function(...r){ar.set(this,On.get(this)[e](...r))}),t}};async function*So(...i){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...i)),!e)return;e=e;const t=new Proxy(e,Eo);for(On.set(t,e),Dt.set(t,or(e));e;)yield t,e=await(ar.get(t)||e.continue()),ar.delete(t)}function Cr(i,e){return e===Symbol.asyncIterator&&rr(i,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&rr(i,[IDBIndex,IDBObjectStore])}Bn(i=>({...i,get(e,t,r){return Cr(e,t)?So:i.get(e,t,r)},has(e,t){return Cr(e,t)||i.has(e,t)}}));let Kt=null;async function ft(){const i=await wo("music",3,{upgrade(e,t,r,a,l){Kt=t,t<1&&(e.createObjectStore("album",{keyPath:"folderName"}),e.createObjectStore("image",{keyPath:"id"}),e.createObjectStore("song",{keyPath:"id"})),t<2&&e.createObjectStore("albumFolder")}});return Kt&&Kt<3&&await i.clear("song"),i}async function Ao(){const i=await ft(),e=await i.getAll("album"),t=await i.get("albumFolder","german")??[],r=await i.get("albumFolder","russian")??[],a=await i.get("albumFolder","instrumental")??[],l=await i.get("albumFolder","geistlicheLieder")??[],f=await i.get("albumFolder","russianBook")??[];return i.close(),{german:e.filter(n=>t.includes(n.folderName)),russian:e.filter(n=>r.includes(n.folderName)),instrumental:e.filter(n=>a.includes(n.folderName)),geistlicheLieder:e.find(n=>l.includes(n.folderName)),russianBook:e.find(n=>f.includes(n.folderName))}}async function Ro(i){const e=await ft(),t=e.transaction(["album","albumFolder"],"readwrite"),r=t.objectStore("albumFolder");r.clear(),r.put(i.german.map(f=>f.folderName),"german"),r.put(i.russian.map(f=>f.folderName),"russian"),r.put(i.instrumental.map(f=>f.folderName),"instrumental"),r.put([i.geistlicheLieder.folderName],"geistlicheLieder"),r.put([i.russianBook.folderName],"russianBook");const a=t.objectStore("album");a.clear();const l=[];for(const f of i.german)l.push(a.put(f));for(const f of i.russian)l.push(a.put(f));for(const f of i.instrumental)l.push(a.put(f));l.push(a.put(i.geistlicheLieder)),l.push(a.put(i.russianBook)),await Promise.all(l),t.commit(),e.close()}const Ur={};async function qo(i){const e=gt(i);let t=Ur[e];if(!t){const r=await Io(i);t=URL.createObjectURL(r),Ur[e]=t}return t}async function Io(i){const e=gt(i),t=await ft(),r=await t.get("image",e);if(t.close(),r)return r.blob;const a=await new $e({key:i.key,downloadId:i.downloadId}).downloadBuffer({end:i.fileSize}),l=new Blob([a]);return To(i,l),l}async function To(i,e){const r={id:gt(i),blob:e},a=await ft();await a.add("image",r),a.close()}var zt={};async function Bo(i){const e=gt(i),t=await ft(),r=await t.get("song",e);if(t.close(),r)return r.blob;try{return zt[i.downloadId]==null&&(zt[i.downloadId]=Oo(i,e)),zt[i.downloadId]}catch(a){throw a}}async function Oo(i,e){const t=await new $e({key:i.key,downloadId:i.downloadId}).downloadBuffer({end:i.fileSize}),r=new Blob([t],{type:"audio/mpeg"});return Po(i,r),qr.update(a=>a.includes(e)?a:[...a,e]),r}async function Po(i,e){const r={id:gt(i),name:i.name,blob:e},a=await ft();await a.add("song",r),a.close()}async function xo(){const i=await ft(),e=await i.getAllKeys("song");return i.close(),e}function gt(i){return JSON.stringify(i.downloadId)}const mt={GERMAN_SONGS_URL:"https://mega.nz/folder/b6RACRQI#jDnUGMJCQLF57D0WKd9Vmg",RUSSIAN_SONGS_URL:"https://mega.nz/folder/lExABJSB#kqZ2hZTf2Wg9tdsVIkbIIQ",INSTRUMENTAL_SONGS_URL:"https://mega.nz/folder/N08k2ILC#BNbDNDWmXDXbFIY412V1qA",GEISTLICHE_LIEDER_URL:"https://mega.nz/folder/Dm5x2LRZ#OLhiAvvoX4qZTZGDLPn0SQ",RUSSIAN_BOOK:"https://mega.nz/folder/3zIxQbpT#pwb_r_7oq0ZRnerldK4sLA"};function $o(i){var e,t;return i.german.flatMap(r=>r.musics).concat(i.russian.flatMap(r=>r.musics)).concat(i.instrumental.flatMap(r=>r.musics)).concat(((e=i.geistlicheLieder)==null?void 0:e.musics.map(r=>({...r,name:r.name.split("_",2)[1]})))??[]).concat(((t=i.russianBook)==null?void 0:t.musics.map(r=>({...r,name:r.name.split("-",2)[1].trimStart()})))??[])}async function Lo(){return{german:await Yt(mt.GERMAN_SONGS_URL),russian:await Yt(mt.RUSSIAN_SONGS_URL),instrumental:await Yt(mt.INSTRUMENTAL_SONGS_URL),geistlicheLieder:await Fr(mt.GEISTLICHE_LIEDER_URL),russianBook:await Fr(mt.RUSSIAN_BOOK)}}async function Yt(i){const e=$e.fromURL(i);return await e.loadAttributes(),e.children.filter(t=>t.directory).map(Pn)}async function Fr(i){const e=$e.fromURL(i);return await e.loadAttributes(),Pn(e)}function Pn(i){const e=i.children.find(t=>{var r;return(r=t.name)==null?void 0:r.endsWith(".jpg")});return{name:i.name.split("(")[0].trim(),folderName:i.name,image:e?{key:e.key,downloadId:e.downloadId,fileSize:e.size}:null,musics:i.children.filter(t=>t.name.endsWith(".mp3")||t.name.endsWith(".webm")||t.name.endsWith(".mp4")).map(t=>({name:t.name.substring(0,t.name.lastIndexOf(".")).trim(),link:{key:t.key,downloadId:t.downloadId,fileSize:t.size}}))}}async function Jt(i,e,t){try{const r=e[t];$t.update(l=>({...l,isLoading:!0}));const a=await Bo({name:r.name,...r.link});$t.update(l=>(l.src!=null&&URL.revokeObjectURL(l.src),{...l,isLoading:!1,src:URL.createObjectURL(a),album:i,song:r,playPrevious:t>0?()=>Jt(i,e,t-1):null,playNext:t<e.length-1?()=>Jt(i,e,t+1):null,playRandom:()=>Jt(i,e,Mo(e.length))}))}catch{$t.update(r=>({...r,isLoading:!1,fileLink:null,src:null}))}}function Mo(i){return Math.floor(Math.random()*i)}const _r="music/favorites";function ko(){xt.set(localStorage.getItem(_r)??"")}async function No(){qr.set(await xo())}function jo(){let i=jn(xt);return i==null&&(i=localStorage.getItem(_r)??"",xt.set(i)),i}function Go(i){const e=`;${gt(i)};`,t=jo();let r;(t==null?void 0:t.includes(e))??!1?r=t.replace(e,""):r=t+e,localStorage.setItem(_r,r),xt.set(r)}let Wr=!1;async function Ho(){if(Wr)return;Dn()&&(ct.getGlobalApi().userAgent=null),ko(),await No();const i=await Ao();if(Br.set(i),navigator.onLine){const e=Lo().then(async t=>{Br.set(t),await Ro(t)});i.geistlicheLieder==null&&i.german.length===0&&i.instrumental.length===0&&i.russian.length===0&&i.russianBook==null&&await e}Wr=!0}export{gt as a,Bo as b,$o as c,qo as g,Ho as i,Jt as p,Go as t};
