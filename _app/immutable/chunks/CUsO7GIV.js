import{v as q,b as z,h,w as B,x as F,U as w,y as m,s as A,z as C,a as c,A as L,c as P,B as D,C as E,D as H,F as S,G as y,H as p,I as Z}from"./BzwPbFm4.js";const x=0,l=1,I=2;function J(T,G,n,b,o){h&&B();var i=T,N=q(),U=S,a=w,r,s,t,_=(N?A:C)(void 0),v=(N?A:C)(void 0),d=!1;function u(e,f){d=!0,f&&(D(k),E(k),H(U));try{e===x&&n&&(r?y(r):r=c(()=>n(i))),e===l&&b&&(s?y(s):s=c(()=>b(i,_))),e===I&&o&&(t?y(t):t=c(()=>o(i,v))),e!==x&&r&&p(r,()=>r=null),e!==l&&s&&p(s,()=>s=null),e!==I&&t&&p(t,()=>t=null)}finally{f&&(H(null),E(null),D(null),Z())}}var k=z(()=>{if(a!==(a=G())){if(F(a)){var e=a;d=!1,e.then(f=>{e===a&&(m(_,f),u(l,!0))},f=>{if(e===a&&(m(v,f),u(I,!0),!o))throw v.v}),h?n&&(r=c(()=>n(i))):L(()=>{d||u(x,!0)})}else m(_,a),u(l,!1);return()=>a=w}});h&&(i=P)}export{J as a};
