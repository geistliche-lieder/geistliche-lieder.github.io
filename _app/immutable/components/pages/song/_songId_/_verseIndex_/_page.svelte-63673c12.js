import{S as W,i as Z,s as $,a as V,k as v,q,c as D,l as b,m as w,r as B,h as u,n as _,b as T,D as h,K as H,E as X,U as x,V as ee,J as F,o as te,Y as le,e as J}from"../../../../../chunks/index-37370bd0.js";import{a as se,g as ne}from"../../../../../chunks/navigation-323b07eb.js";import{p as oe}from"../../../../../chunks/stores-dda73cf5.js";import{h as ae,j as ie,k as re,o as K,a as fe}from"../../../../../chunks/song-9a1cbec6.js";const{document:ce}=le;function Y(s,l,t){const e=s.slice();return e[16]=l[t],e[18]=t,e}function z(s){let l,t,e,n;return{c(){l=v("button"),t=q("arrow_back"),this.h()},l(r){l=b(r,"BUTTON",{class:!0});var g=w(l);t=B(g,"arrow_back"),g.forEach(u),this.h()},h(){_(l,"class","material-symbols-outlined btn btn-sm btn-circle")},m(r,g){T(r,l,g),h(l,t),e||(n=H(l,"click",s[10]),e=!0)},p:X,d(r){r&&u(l),e=!1,n()}}}function G(s){let l,t=K(s[16],s[6])+"",e;return{c(){l=v("p"),this.h()},l(n){l=b(n,"P",{class:!0});var r=w(l);r.forEach(u),this.h()},h(){_(l,"class",e=`w-full ${s[7](s[1],s[18])} text-3xl`)},m(n,r){T(n,l,r),l.innerHTML=t},p(n,r){r&2&&t!==(t=K(n[16],n[6])+"")&&(l.innerHTML=t),r&2&&e!==(e=`w-full ${n[7](n[1],n[18])} text-3xl`)&&_(l,"class",e)},d(n){n&&u(l)}}}function Q(s){let l,t=(!s[2].M||s[18]===s[1].L.length-1&&s[5]||s[18]%2===0||s[18]!==s[1].L.length-1&&s[4])&&G(s);return{c(){t&&t.c(),l=J()},l(e){t&&t.l(e),l=J()},m(e,n){t&&t.m(e,n),T(e,l,n)},p(e,n){!e[2].M||e[18]===e[1].L.length-1&&e[5]||e[18]%2===0||e[18]!==e[1].L.length-1&&e[4]?t?t.p(e,n):(t=G(e),t.c(),t.m(l.parentNode,l)):t&&(t.d(1),t=null)},d(e){t&&t.d(e),e&&u(l)}}}function R(s){let l,t;return{c(){l=v("p"),t=q("-----"),this.h()},l(e){l=b(e,"P",{class:!0});var n=w(l);t=B(n,"-----"),n.forEach(u),this.h()},h(){_(l,"class","w-full text-3xl")},m(e,n){T(e,l,n),h(l,t)},d(e){e&&u(l)}}}function ue(s){let l,t,e,n,r,g=s[2].T+"",k,P,L,d,y,M,m,E,S,C,c=s[0]>0&&z(s),I=s[1].L,o=[];for(let a=0;a<I.length;a+=1)o[a]=Q(Y(s,I,a));let f=s[3]-1===s[0]&&R();return{c(){l=V(),t=v("div"),e=v("div"),n=v("div"),r=v("p"),k=q(g),P=V(),c&&c.c(),L=V(),d=v("button"),y=q("X"),M=V(),m=v("div");for(let a=0;a<o.length;a+=1)o[a].c();E=V(),f&&f.c(),this.h()},l(a){l=D(a),t=b(a,"DIV",{id:!0,class:!0});var p=w(t);e=b(p,"DIV",{class:!0});var i=w(e);n=b(i,"DIV",{class:!0});var N=w(n);r=b(N,"P",{class:!0});var j=w(r);k=B(j,g),j.forEach(u),N.forEach(u),P=D(i),c&&c.l(i),L=D(i),d=b(i,"BUTTON",{class:!0});var A=w(d);y=B(A,"X"),A.forEach(u),i.forEach(u),M=D(p),m=b(p,"DIV",{class:!0});var O=w(m);for(let U=0;U<o.length;U+=1)o[U].l(O);E=D(O),f&&f.l(O),O.forEach(u),p.forEach(u),this.h()},h(){_(r,"class","whitespace-nowrap md:ml-8 text-left md:text-center text-ellipsis text-md md:text-1xl font-bold self-center"),_(n,"class","flex-1 flex overflow-hidden ml-2"),_(d,"class","btn btn-sm btn-circle"),_(e,"class","w-full flex mt-2 mr-2 gap-1"),_(m,"class","overflow-auto flex flex-col items-center w-full h-full"),_(t,"id","song"),_(t,"class","flex-1 flex flex-col items-center overflow-hidden w-full")},m(a,p){T(a,l,p),T(a,t,p),h(t,e),h(e,n),h(n,r),h(r,k),h(e,P),c&&c.m(e,null),h(e,L),h(e,d),h(d,y),h(t,M),h(t,m);for(let i=0;i<o.length;i+=1)o[i].m(m,null);h(m,E),f&&f.m(m,null),S||(C=[H(ce.body,"click",s[9]),H(d,"click",s[11])],S=!0)},p(a,[p]){if(a[0]>0?c?c.p(a,p):(c=z(a),c.c(),c.m(e,L)):c&&(c.d(1),c=null),p&246){I=a[1].L;let i;for(i=0;i<I.length;i+=1){const N=Y(a,I,i);o[i]?o[i].p(N,p):(o[i]=Q(N),o[i].c(),o[i].m(m,E))}for(;i<o.length;i+=1)o[i].d(1);o.length=I.length}a[3]-1===a[0]?f||(f=R(),f.c(),f.m(m,null)):f&&(f.d(1),f=null)},i:X,o:X,d(a){a&&u(l),a&&u(t),c&&c.d(),x(o,a),f&&f.d(),S=!1,ee(C)}}}function de(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function he(s,l,t){let e,n,r;F(s,oe,o=>t(12,n=o)),F(s,fe,o=>t(13,r=o));const g=n.params.songId,k=r.find(o=>o.I===g),P=k.O.flatMap(o=>k.V.filter(f=>f.I===o)),L=P.length;let d=Number.parseInt(n.params.verseIndex);se(()=>{t(0,d=Number.parseInt(n.params.verseIndex))});const y=ae(),M=ie(),m=re();function E(o,f){return k.M?f===o.L.length-1?"text-green-600":f%2===1?"text-yellow-600":"":""}function S(){window.history.go(-(d+1))}function C(){if(d===L-1){S();return}ne(`${d+1}`)}te(()=>{if(de())return;const o=document.getElementById("song");o==null||o.requestFullscreen(),screen.orientation.lock("landscape")});const c=o=>{o.stopPropagation(),window.history.go(-1)},I=()=>S();return s.$$.update=()=>{s.$$.dirty&1&&t(1,e=P[d])},[d,e,k,L,y,M,m,E,S,C,c,I]}class ve extends W{constructor(l){super(),Z(this,l,he,ue,$,{})}}export{ve as default};
