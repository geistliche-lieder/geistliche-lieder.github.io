import{S as W,i as Z,s as $,a as N,k as v,q as C,c as D,l as b,m as w,r as O,h as d,n as g,b as P,D as m,K as H,E as R,U as x,V as ee,J as A,o as te,Y as le,e as F}from"../../../../../chunks/index-37370bd0.js";import{a as se,g as ne}from"../../../../../chunks/navigation-2b48146a.js";import{p as oe}from"../../../../../chunks/stores-b8fe5d02.js";import{h as ae,j as ie,k as re,o as J,a as fe}from"../../../../../chunks/song-9a1cbec6.js";const{document:ce}=le;function K(s,l,e){const t=s.slice();return t[16]=l[e],t[18]=e,t}function Y(s){let l,e,t,a;return{c(){l=v("button"),e=C("arrow_back"),this.h()},l(o){l=b(o,"BUTTON",{class:!0});var u=w(l);e=O(u,"arrow_back"),u.forEach(d),this.h()},h(){g(l,"class","material-symbols-outlined btn btn-sm btn-circle")},m(o,u){P(o,l,u),m(l,e),t||(a=H(l,"click",s[10]),t=!0)},p:R,d(o){o&&d(l),t=!1,a()}}}function z(s){let l,e,t=J(s[16],s[6])+"",a;return{c(){l=C(`// Verse are latin letters // Song doesn't have a translation // Row is a translation line // Verse is no translation
        `),e=v("p"),this.h()},l(o){l=O(o,`// Verse are latin letters // Song doesn't have a translation // Row is a translation line // Verse is no translation
        `),e=b(o,"P",{class:!0});var u=w(e);u.forEach(d),this.h()},h(){g(e,"class",a=`w-full ${s[7](s[1],s[18])} text-3xl`)},m(o,u){P(o,l,u),P(o,e,u),e.innerHTML=t},p(o,u){u&2&&t!==(t=J(o[16],o[6])+"")&&(e.innerHTML=t),u&2&&a!==(a=`w-full ${o[7](o[1],o[18])} text-3xl`)&&g(e,"class",a)},d(o){o&&d(l),o&&d(e)}}}function G(s){let l,e=(!s[2].M||s[18]===s[1].L.length-1&&s[5]||s[18]%2===0||s[18]!==s[1].L.length-1&&s[4])&&z(s);return{c(){e&&e.c(),l=F()},l(t){e&&e.l(t),l=F()},m(t,a){e&&e.m(t,a),P(t,l,a)},p(t,a){!t[2].M||t[18]===t[1].L.length-1&&t[5]||t[18]%2===0||t[18]!==t[1].L.length-1&&t[4]?e?e.p(t,a):(e=z(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){e&&e.d(t),t&&d(l)}}}function Q(s){let l,e;return{c(){l=v("p"),e=C("-----"),this.h()},l(t){l=b(t,"P",{class:!0});var a=w(l);e=O(a,"-----"),a.forEach(d),this.h()},h(){g(l,"class","w-full text-3xl")},m(t,a){P(t,l,a),m(l,e)},d(t){t&&d(l)}}}function ue(s){let l,e,t,a,o,u=s[2].T+"",k,E,L,h,T,y,p,V,S,q,c=s[0]>0&&Y(s),I=s[1].L,n=[];for(let i=0;i<I.length;i+=1)n[i]=G(K(s,I,i));let f=s[3]-1===s[0]&&Q();return{c(){l=N(),e=v("div"),t=v("div"),a=v("div"),o=v("p"),k=C(u),E=N(),c&&c.c(),L=N(),h=v("button"),T=C("X"),y=N(),p=v("div");for(let i=0;i<n.length;i+=1)n[i].c();V=N(),f&&f.c(),this.h()},l(i){l=D(i),e=b(i,"DIV",{id:!0,class:!0});var _=w(e);t=b(_,"DIV",{class:!0});var r=w(t);a=b(r,"DIV",{class:!0});var M=w(a);o=b(M,"P",{class:!0});var X=w(o);k=O(X,u),X.forEach(d),M.forEach(d),E=D(r),c&&c.l(r),L=D(r),h=b(r,"BUTTON",{class:!0});var j=w(h);T=O(j,"X"),j.forEach(d),r.forEach(d),y=D(_),p=b(_,"DIV",{class:!0});var B=w(p);for(let U=0;U<n.length;U+=1)n[U].l(B);V=D(B),f&&f.l(B),B.forEach(d),_.forEach(d),this.h()},h(){g(o,"class","whitespace-nowrap md:ml-8 text-left md:text-center text-ellipsis text-md md:text-1xl font-bold self-center"),g(a,"class","flex-1 flex overflow-hidden ml-2"),g(h,"class","btn btn-sm btn-circle"),g(t,"class","w-full flex mt-2 mr-2 gap-1"),g(p,"class","overflow-auto flex flex-col items-center w-full h-full"),g(e,"id","song"),g(e,"class","flex-1 flex flex-col items-center overflow-hidden w-full")},m(i,_){P(i,l,_),P(i,e,_),m(e,t),m(t,a),m(a,o),m(o,k),m(t,E),c&&c.m(t,null),m(t,L),m(t,h),m(h,T),m(e,y),m(e,p);for(let r=0;r<n.length;r+=1)n[r].m(p,null);m(p,V),f&&f.m(p,null),S||(q=[H(ce.body,"click",s[9]),H(h,"click",s[11])],S=!0)},p(i,[_]){if(i[0]>0?c?c.p(i,_):(c=Y(i),c.c(),c.m(t,L)):c&&(c.d(1),c=null),_&246){I=i[1].L;let r;for(r=0;r<I.length;r+=1){const M=K(i,I,r);n[r]?n[r].p(M,_):(n[r]=G(M),n[r].c(),n[r].m(p,V))}for(;r<n.length;r+=1)n[r].d(1);n.length=I.length}i[3]-1===i[0]?f||(f=Q(),f.c(),f.m(p,null)):f&&(f.d(1),f=null)},i:R,o:R,d(i){i&&d(l),i&&d(e),c&&c.d(),x(n,i),f&&f.d(),S=!1,ee(q)}}}function de(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function he(s,l,e){let t,a,o;A(s,oe,n=>e(12,a=n)),A(s,fe,n=>e(13,o=n));const u=a.params.songId,k=o.find(n=>n.I===u),E=k.O.flatMap(n=>k.V.filter(f=>f.I===n)),L=E.length;let h=Number.parseInt(a.params.verseIndex);se(()=>{e(0,h=Number.parseInt(a.params.verseIndex))});const T=ae(),y=ie(),p=re();function V(n,f){return k.M?f===n.L.length-1?"text-green-600":f%2===1?"text-yellow-600":"":""}function S(){window.history.go(-(h+1))}function q(){if(h===L-1){S();return}ne(`${h+1}`)}te(()=>{if(de())return;const n=document.getElementById("song");n==null||n.requestFullscreen(),screen.orientation.lock("landscape")});const c=n=>{n.stopPropagation(),window.history.go(-1)},I=()=>S();return s.$$.update=()=>{s.$$.dirty&1&&e(1,t=E[h])},[h,t,k,L,T,y,p,V,S,q,c,I]}class ve extends W{constructor(l){super(),Z(this,l,he,ue,$,{})}}export{ve as default};
