import{S as Q,i as X,s as j,k as S,a as q,q as Y,l as y,m as N,h as d,c as z,r as Z,n as E,b as W,D as B,K as P,E as oe,J as F,p as U,L as ce,M as fe,N as Ve,g as Be,O as We,d as Se,f as A,t as C,o as Ae,F as Ce,G as He,H as Pe,I as Fe,P as Me,z as ae,Q as he,v as x,w as $,x as ee,y as te,R as ie,T as _e,U as ye,V as Ne,W as ge,u as Re,X as de}from"../../chunks/index-37370bd0.js";import{s as re,g as De,t as Ue,a as qe,F as ze,A as Ge,b as Je,u as me,c as ne,d as Ke}from"../../chunks/song-28870bc2.js";function Qe(s,e){return e=e.toLocaleLowerCase(),s.filter(t=>Xe(t,e)).sort((t,l)=>pe(t,l,n=>n.T.toLocaleLowerCase().includes(e))).sort((t,l)=>pe(t,l,n=>n.T.toLocaleLowerCase().startsWith(e)))}function pe(s,e,t){const l=t(s.song),n=t(e.song);return l&&!n?-1:!l&&n?1:0}function Xe(s,e){if(e.trim()==="")return!0;const t=s.song.T.toLocaleLowerCase();e=e.toLocaleLowerCase();const l=Number(e);return!Number.isNaN(l)&&s.songInsideBook?s.songInsideBook.I===l:!!e.trim().split(" ").every(o=>t.includes(o))}function je(s){let e,t,l,n,o,a,i,r,f;return{c(){e=S("div"),t=S("a"),n=q(),o=S("span"),a=Y("star"),this.h()},l(h){e=y(h,"DIV",{class:!0});var c=N(e);t=y(c,"A",{class:!0,href:!0});var u=N(t);u.forEach(d),n=z(c),o=y(c,"SPAN",{class:!0});var m=N(o);a=Z(m,"star"),m.forEach(d),c.forEach(d),this.h()},h(){E(t,"class","flex-1 whitespace-nowrap overflow-hidden"),E(t,"href",l=`song/${s[0].song.I}`),E(o,"class",i=`material-symbols-outlined ${s[2]?"material-symbols-filled":""}`),E(e,"class","flex")},m(h,c){W(h,e,c),B(e,t),t.innerHTML=s[1],B(e,n),B(e,o),B(o,a),r||(f=P(o,"click",s[3]),r=!0)},p(h,[c]){c&2&&(t.innerHTML=h[1]),c&1&&l!==(l=`song/${h[0].song.I}`)&&E(t,"href",l),c&4&&i!==(i=`material-symbols-outlined ${h[2]?"material-symbols-filled":""}`)&&E(o,"class",i)},i:oe,o:oe,d(h){h&&d(e),r=!1,f()}}}function Ye(s,e,t){let l;F(s,re,r=>t(4,l=r));let{songWithInsideBook:n}=e,o=!1;const a=()=>{Ue(n.song.I),t(2,o=!o)};let i;return s.$$set=r=>{"songWithInsideBook"in r&&t(0,n=r.songWithInsideBook)},s.$$.update=()=>{var r,f;if(s.$$.dirty&1&&t(2,o=De(n.song.I)),s.$$.dirty&19){const h=l.trim().toLocaleLowerCase().split(" ");h.sort((u,m)=>u.length<m.length?1:-1);const c=(f=(r=n.songInsideBook)==null?void 0:r.I)!=null?f:null;t(1,i=n.song.T),c&&t(1,i=`${c} - ${i}`);for(const u of h){const m=u.length;let p=-1;const O=()=>p+m;do{if(p>=i.length){p=-1;break}p=i.toLocaleLowerCase().indexOf(u,p+1)}while(p>=0&&(i.substring(0,p).split("<").length%2===0||i.substring(p,O()).split("<").length%2===0));if(p>=0){const v=i.substring(p,O());t(1,i=i.slice(0,p)+`<p class="font-bold inline">${v}</p>`+i.slice(O()))}}}},[n,i,o,a,l]}class Ze extends Q{constructor(e){super(),X(this,e,Ye,je,j,{songWithInsideBook:0})}}function ve(s,e,t){const l=s.slice();return l[22]=e[t],l}const xe=s=>({item:s&16}),be=s=>({item:s[22].data});function $e(s){let e;return{c(){e=Y("Missing template")},l(t){e=Z(t,"Missing template")},m(t,l){W(t,e,l)},d(t){t&&d(e)}}}function ke(s,e){let t,l,n;const o=e[14].default,a=Ce(o,e,e[13],be),i=a||$e();return{key:s,first:null,c(){t=S("svelte-virtual-list-row"),i&&i.c(),l=q(),this.h()},l(r){t=y(r,"SVELTE-VIRTUAL-LIST-ROW",{class:!0});var f=N(t);i&&i.l(f),l=z(f),f.forEach(d),this.h()},h(){ce(t,"class","svelte-102fq2u"),this.first=t},m(r,f){W(r,t,f),i&&i.m(t,null),B(t,l),n=!0},p(r,f){e=r,a&&a.p&&(!n||f&8208)&&He(a,o,e,e[13],n?Fe(o,e[13],f,xe):Pe(e[13]),be)},i(r){n||(A(i,r),n=!0)},o(r){C(i,r),n=!1},d(r){r&&d(t),i&&i.d(r)}}}function et(s){let e,t,l=[],n=new Map,o,a,i,r,f=s[4];const h=c=>c[22].index;for(let c=0;c<f.length;c+=1){let u=ve(s,f,c),m=h(u);n.set(m,l[c]=ke(m,u))}return{c(){e=S("svelte-virtual-list-viewport"),t=S("svelte-virtual-list-contents");for(let c=0;c<l.length;c+=1)l[c].c();this.h()},l(c){e=y(c,"SVELTE-VIRTUAL-LIST-VIEWPORT",{style:!0,class:!0});var u=N(e);t=y(u,"SVELTE-VIRTUAL-LIST-CONTENTS",{style:!0,class:!0});var m=N(t);for(let p=0;p<l.length;p+=1)l[p].l(m);m.forEach(d),u.forEach(d),this.h()},h(){U(t,"padding-top",s[5]+"px"),U(t,"padding-bottom",s[6]+"px"),ce(t,"class","svelte-102fq2u"),U(e,"height",s[0]),ce(e,"class","svelte-102fq2u"),fe(()=>s[17].call(e))},m(c,u){W(c,e,u),B(e,t);for(let m=0;m<l.length;m+=1)l[m].m(t,null);s[15](t),s[16](e),o=Ve(e,s[17].bind(e)),a=!0,i||(r=P(e,"scroll",s[7]),i=!0)},p(c,[u]){u&8208&&(f=c[4],Be(),l=We(l,u,h,1,c,f,n,t,Me,ke,null,ve),Se()),(!a||u&32)&&U(t,"padding-top",c[5]+"px"),(!a||u&64)&&U(t,"padding-bottom",c[6]+"px"),(!a||u&1)&&U(e,"height",c[0])},i(c){if(!a){for(let u=0;u<f.length;u+=1)A(l[u]);a=!0}},o(c){for(let u=0;u<l.length;u+=1)C(l[u]);a=!1},d(c){c&&d(e);for(let u=0;u<l.length;u+=1)l[u].d();s[15](null),s[16](null),o(),i=!1,r()}}}function tt(s,e,t){let{$$slots:l={},$$scope:n}=e,{items:o}=e,{height:a="100%"}=e,{itemHeight:i=void 0}=e,{start:r=0}=e,{end:f=0}=e,h=[],c,u,m,p=0,O,v,b=0,M=0,L;async function le(g,R,V){const{scrollTop:H}=u;await ae();let G=b-H,w=r;for(;G<R&&w<g.length;){let J=c[w-r];J||(t(9,f=w+1),await ae(),J=c[w-r]),G+=h[w]=V||J.offsetHeight,w+=1}t(9,f=w);const se=g.length-f;L=(b+G)/f,t(6,M=se*L),h.length=g.length,u.scrollTo(0,0)}async function _(){const{scrollTop:g}=u,R=r;for(let w=0;w<c.length;w+=1)h[r+w]=i||c[w].offsetHeight;let V=0,H=0;for(;V<o.length;){const w=h[V]||L;if(H+w>g){t(8,r=V),t(5,b=H);break}H+=w,V+=1}for(;V<o.length&&(H+=h[V]||L,V+=1,!(H>g+p)););t(9,f=V);const G=o.length-f;for(L=H/f;V<o.length;)h[V++]=L;if(t(6,M=G*L),r<R){await ae();let w=0,se=0;for(let D=r;D<R;D+=1)c[D-r]&&(w+=h[D],se+=i||c[D-r].offsetHeight);const J=se-w;u.scrollTo(0,g+J)}}Ae(()=>{c=m.getElementsByTagName("svelte-virtual-list-row"),t(12,v=!0)});function k(g){he[g?"unshift":"push"](()=>{m=g,t(3,m)})}function I(g){he[g?"unshift":"push"](()=>{u=g,t(2,u)})}function T(){p=this.offsetHeight,t(1,p)}return s.$$set=g=>{"items"in g&&t(10,o=g.items),"height"in g&&t(0,a=g.height),"itemHeight"in g&&t(11,i=g.itemHeight),"start"in g&&t(8,r=g.start),"end"in g&&t(9,f=g.end),"$$scope"in g&&t(13,n=g.$$scope)},s.$$.update=()=>{s.$$.dirty&1792&&t(4,O=o.slice(r,f).map((g,R)=>({index:R+r,data:g}))),s.$$.dirty&7170&&v&&le(o,p,i)},[a,p,u,m,O,b,M,_,r,f,o,i,v,n,l,k,I,T]}class lt extends Q{constructor(e){super(),X(this,e,tt,et,j,{items:10,height:0,itemHeight:11,start:8,end:9})}}function st(s){let e,t;return e=new Ze({props:{songWithInsideBook:s[4]}}),{c(){x(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){ee(e,l,n),t=!0},p(l,n){const o={};n&16&&(o.songWithInsideBook=l[4]),e.$set(o)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function nt(s){let e,t,l;return t=new lt({props:{items:s[0],height:"100%",$$slots:{default:[st,({item:n})=>({4:n}),({item:n})=>n?16:0]},$$scope:{ctx:s}}}),{c(){e=S("div"),x(t.$$.fragment),this.h()},l(n){e=y(n,"DIV",{id:!0,class:!0});var o=N(e);$(t.$$.fragment,o),o.forEach(d),this.h()},h(){E(e,"id","virtual-list-div"),E(e,"class","text-left flex-1 overflow-auto px-1 w-full")},m(n,o){W(n,e,o),ee(t,e,null),l=!0},p(n,[o]){const a={};o&1&&(a.items=n[0]),o&48&&(a.$$scope={dirty:o,ctx:n}),t.$set(a)},i(n){l||(A(t.$$.fragment,n),l=!0)},o(n){C(t.$$.fragment,n),l=!1},d(n){n&&d(e),te(t)}}}function ot(s,e,t){let l,n;F(s,re,i=>t(2,l=i)),F(s,qe,i=>t(3,n=i));let{selectedBook:o}=e,a;return s.$$set=i=>{"selectedBook"in i&&t(1,o=i.selectedBook)},s.$$.update=()=>{if(s.$$.dirty&14){let i;if(o.T!==ze)i=n[o.T];else{const r=n[Ge],f=Je();i=r.filter(h=>f.includes(h.song.I))}t(0,a=Qe(i,l))}},[a,o,l,n]}class Oe extends Q{constructor(e){super(),X(this,e,ot,nt,j,{selectedBook:1})}}function we(s,e,t){const l=s.slice();return l[9]=e[t],l}function Te(s,e,t){const l=s.slice();return l[9]=e[t],l}function Le(s){let e,t=s[9].T+"",l;return{c(){e=S("option"),l=Y(t),this.h()},l(n){e=y(n,"OPTION",{});var o=N(e);l=Z(o,t),o.forEach(d),this.h()},h(){e.__value=s[9],e.value=e.__value},m(n,o){W(n,e,o),B(e,l)},p:oe,d(n){n&&d(e)}}}function Ie(s){let e,t,l,n=s[2],o=[];for(let a=0;a<n.length;a+=1)o[a]=Ee(we(s,n,a));return{c(){e=S("select");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=y(a,"SELECT",{class:!0});var i=N(e);for(let r=0;r<o.length;r+=1)o[r].l(i);i.forEach(d),this.h()},h(){E(e,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0"),s[1]===void 0&&fe(()=>s[6].call(e))},m(a,i){W(a,e,i);for(let r=0;r<o.length;r+=1)o[r].m(e,null);ie(e,s[1]),t||(l=[P(e,"change",s[6]),P(e,"change",ue)],t=!0)},p(a,i){if(i&4){n=a[2];let r;for(r=0;r<n.length;r+=1){const f=we(a,n,r);o[r]?o[r].p(f,i):(o[r]=Ee(f),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}i&6&&ie(e,a[1])},d(a){a&&d(e),ye(o,a),t=!1,Ne(l)}}}function Ee(s){let e,t=s[9].T.split(" ",2)[1]+"",l,n;return{c(){e=S("option"),l=Y(t),this.h()},l(o){e=y(o,"OPTION",{});var a=N(e);l=Z(a,t),a.forEach(d),this.h()},h(){e.__value=n=s[9],e.value=e.__value},m(o,a){W(o,e,a),B(e,l)},p(o,a){a&4&&t!==(t=o[9].T.split(" ",2)[1]+"")&&Re(l,t),a&4&&n!==(n=o[9])&&(e.__value=n,e.value=e.__value)},d(o){o&&d(e)}}}function it(s){let e,t;return e=new Oe({props:{selectedBook:s[0]}}),{c(){x(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){ee(e,l,n),t=!0},p(l,n){const o={};n&1&&(o.selectedBook=l[0]),e.$set(o)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function rt(s){let e,t;return e=new Oe({props:{selectedBook:s[1]}}),{c(){x(e.$$.fragment)},l(l){$(e.$$.fragment,l)},m(l,n){ee(e,l,n),t=!0},p(l,n){const o={};n&2&&(o.selectedBook=l[1]),e.$set(o)},i(l){t||(A(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){te(e,l)}}}function at(s){let e,t,l,n,o=s[0]!=null&&K(s[0]),a,i,r,f,h,c,u,m,p,O=s[4],v=[];for(let _=0;_<O.length;_+=1)v[_]=Le(Te(s,O,_));let b=o&&Ie(s);const M=[rt,it],L=[];function le(_,k){return k&1&&(f=null),_[0]!=null&&_[1]?0:(f==null&&(f=!!(_[0]!=null&&ct(_[0]))),f?1:-1)}return~(h=le(s,-1))&&(c=L[h]=M[h](s)),{c(){e=S("div"),t=S("div"),l=S("select");for(let _=0;_<v.length;_+=1)v[_].c();n=q(),b&&b.c(),a=q(),i=S("input"),r=q(),c&&c.c(),this.h()},l(_){e=y(_,"DIV",{class:!0});var k=N(e);t=y(k,"DIV",{});var I=N(t);l=y(I,"SELECT",{class:!0});var T=N(l);for(let g=0;g<v.length;g+=1)v[g].l(T);T.forEach(d),n=z(I),b&&b.l(I),a=z(I),i=y(I,"INPUT",{class:!0,placeholder:!0,type:!0}),I.forEach(d),r=z(k),c&&c.l(k),k.forEach(d),this.h()},h(){E(l,"class","select select-bordered w-full max-w-md mb-1 lg:mb-0"),s[0]===void 0&&fe(()=>s[5].call(l)),E(i,"class","input input-bordered w-full max-w-md mb-1 focus:border-current focus:ring-0"),E(i,"placeholder","Suche"),E(i,"type","search"),E(e,"class","flex flex-col overflow-hidden w-full h-full p-1")},m(_,k){W(_,e,k),B(e,t),B(t,l);for(let I=0;I<v.length;I+=1)v[I].m(l,null);ie(l,s[0]),B(t,n),b&&b.m(t,null),B(t,a),B(t,i),_e(i,s[3]),B(e,r),~h&&L[h].m(e,null),u=!0,m||(p=[P(l,"change",s[5]),P(l,"change",ue),P(i,"input",s[7]),P(i,"change",ue)],m=!0)},p(_,[k]){if(k&16){O=_[4];let T;for(T=0;T<O.length;T+=1){const g=Te(_,O,T);v[T]?v[T].p(g,k):(v[T]=Le(g),v[T].c(),v[T].m(l,null))}for(;T<v.length;T+=1)v[T].d(1);v.length=O.length}k&17&&ie(l,_[0]),k&1&&(o=_[0]!=null&&K(_[0])),o?b?b.p(_,k):(b=Ie(_),b.c(),b.m(t,a)):b&&(b.d(1),b=null),k&8&&_e(i,_[3]);let I=h;h=le(_,k),h===I?~h&&L[h].p(_,k):(c&&(Be(),C(L[I],1,1,()=>{L[I]=null}),Se()),~h?(c=L[h],c?c.p(_,k):(c=L[h]=M[h](_),c.c()),A(c,1),c.m(e,null)):c=null)},i(_){u||(A(c),u=!0)},o(_){C(c),u=!1},d(_){_&&d(e),ye(v,_),b&&b.d(),~h&&L[h].d(),m=!1,Ne(p)}}}function ue(){document.getElementById("virtual-list").scrollTop=0}function K(s){return s.hasOwnProperty("B")}function ct(s){return!K(s)}function ut(s,e,t){let l,n,o,a;F(s,me,u=>t(0,l=u)),F(s,ne,u=>t(1,n=u)),F(s,Ke,u=>t(8,o=u)),F(s,re,u=>t(3,a=u));let i,r=[...o.filter(u=>!u.T.startsWith("Jugendmappe ")&&!u.T.startsWith("Weitere ")),{T:"Jugendmappen",B:o.filter(u=>u.T.startsWith("Jugendmappe "))},{T:"Weitere",B:o.filter(u=>u.T.startsWith("Weitere "))}];function f(){l=de(this),me.set(l),t(4,r)}function h(){n=de(this),ne.set(n),t(2,i),t(0,l)}function c(){a=this.value,re.set(a)}return s.$$.update=()=>{s.$$.dirty&1&&(l&&K(l)?t(2,i=l.B):(t(2,i=new Array),ge(ne,n=null,n))),s.$$.dirty&3&&l&&K(l)&&!n&&ge(ne,n=l.B[0],n)},[l,n,i,a,r,f,h,c]}class ft extends Q{constructor(e){super(),X(this,e,ut,at,j,{})}}function ht(s){let e,t,l,n,o,a;return o=new ft({}),{c(){e=S("div"),t=S("h1"),l=Y("Geistliche Lieder!"),n=q(),x(o.$$.fragment),this.h()},l(i){e=y(i,"DIV",{class:!0});var r=N(e);t=y(r,"H1",{class:!0});var f=N(t);l=Z(f,"Geistliche Lieder!"),f.forEach(d),r.forEach(d),n=z(i),$(o.$$.fragment,i),this.h()},h(){E(t,"class","svelte-yzh2bf"),E(e,"class","prose m-auto h-auto mx-auto my-1")},m(i,r){W(i,e,r),B(e,t),B(t,l),W(i,n,r),ee(o,i,r),a=!0},p:oe,i(i){a||(A(o.$$.fragment,i),a=!0)},o(i){C(o.$$.fragment,i),a=!1},d(i){i&&d(e),i&&d(n),te(o,i)}}}class dt extends Q{constructor(e){super(),X(this,e,null,ht,j,{})}}export{dt as default};
